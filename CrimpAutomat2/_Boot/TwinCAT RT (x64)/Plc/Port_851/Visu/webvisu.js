// This software uses the following Open Source software:
// - log4javascript
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Copyright by Tim Down
//	* Source: http://www.apache.org/licenses/
// - a simplified (and thus modified) version of stringencoding
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Source: http://code.google.com/p/stringencoding/

function h(a){throw a;}var i=void 0,j=!0,l=null,m=!1;function o(){return function(){}}function r(a){return function(b){this[a]=b}}function s(a){return function(){return this[a]}}function t(a){return function(){return a}}var ea,ka;
(function(){function a(a){var b=0;this.get=function(){return b>=a.length?-1:Number(a[b])};this.Gb=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};this.match=function(c){if(c.length>b+a.length)return m;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return m;return j}}function b(a){var b=0;this.get=function(){return b>=a.length?-1:a[b]};this.Gb=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};
this.match=function(c){if(c.length>b+a.length)return m;var d;for(d=0;d<c.length;d+=1)if(a[b+d]!==c[d])return m;return j}}function c(a){var b=0;this.zg=function(c){var d=-1,e;for(e=0;e<arguments.length;++e)d=Number(arguments[e]),a[b++]=d;return d}}function d(a){var b=0,c=function(){for(var b=[],c=0,d=a.length;c<a.length;){var e=a.charCodeAt(c);if(55296<=e&&57343>=e)if(56320<=e&&57343>=e)b.push(65533);else if(c===d-1)b.push(65533);else{var f=a.charCodeAt(c+1);56320<=f&&57343>=f?(e&=1023,f&=1023,c+=
1,b.push(65536+(e<<10)+f)):b.push(65533)}else b.push(e);c+=1}return b}();this.Gb=function(a){b+=a;0>b&&h(Error("Seeking past start of the buffer"));b>c.length&&h(Error("Seeking past EOF"))};this.get=function(){return b>=c.length?-1:c[b]}}function e(){var a="";this.Wy=function(){return a};this.zg=function(b){65535>=b?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(b&1023)))}}function f(a){a=(""+a).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(n,
a))return n[a];h(Error("EncodingError: Unknown encoding: "+a))}function g(a,b){var c=b.Zd;this.Yi=function(b){var d=b.get();if(-1===d)return-1;b.Gb(1);if(0<=d&&127>=d)return d;b=a[d-128];b===l&&(c&&h(Error("EncodingError")),b=65533);return b}}function k(a){this.df=function(b,c){var d=c.get();if(-1===d)return-1;c.Gb(1);if(0<=d&&127>=d)return b.zg(d);d=a.indexOf(d);d=-1===d?l:d;d===l&&h(Error("EncodingError"));return b.zg(d+128)}}var p={},n={};[{Bw:[{Xa:"csisolatin2,iso-8859-2,iso-ir-101,iso8859-2,iso_8859-2,l2,latin2".split(","),
name:"iso-8859-2"},{Xa:"csisolatin3,iso-8859-3,iso_8859-3,iso-ir-109,l3,latin3".split(","),name:"iso-8859-3"},{Xa:"csisolatin4,iso-8859-4,iso_8859-4,iso-ir-110,l4,latin4".split(","),name:"iso-8859-4"},{Xa:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{Xa:"arabic,csisolatinarabic,ecma-114,iso-8859-6,iso_8859-6,iso-ir-127".split(","),name:"iso-8859-6"},{Xa:"csisolatingreek,ecma-118,elot_928,greek,greek8,iso-8859-7,iso_8859-7,iso-ir-126".split(","),name:"iso-8859-7"},
{Xa:"csisolatinhebrew,hebrew,iso-8859-8,iso-8859-8-i,iso-ir-138,iso_8859-8,visual".split(","),name:"iso-8859-8"},{Xa:"csisolatin6,iso-8859-10,iso-ir-157,iso8859-10,l6,latin6".split(","),name:"iso-8859-10"},{Xa:["iso-8859-13"],name:"iso-8859-13"},{Xa:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{Xa:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{Xa:["iso-8859-16"],name:"iso-8859-16"},{Xa:"ascii,ansi_x3.4-1968,csisolatin1,iso-8859-1,iso8859-1,iso_8859-1,l1,latin1,us-ascii,windows-1252".split(","),
name:"windows-1252"}],heading:"Legacy single-byte encodings"}].forEach(function(a){a.Bw.forEach(function(a){p[a.name]=a;a.Xa.forEach(function(b){n[b]=a})})});var x={"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,
323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,l,292,167,168,304,350,286,308,173,l,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,l,380,192,193,194,l,196,266,264,199,200,201,202,203,204,
205,206,207,l,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,l,228,267,265,231,232,233,234,235,236,237,238,239,l,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,
268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,
1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,l,l,164,l,l,l,
l,l,l,l,1548,173,l,l,l,l,l,l,l,l,l,l,l,l,l,1563,l,l,l,1567,l,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,l,l,l,l,l,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,l,l,l,l,l,l,l,l,l,l,l,l,l],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,
168,169,890,171,172,173,l,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,l,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,l],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,162,163,
164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,l,l,8206,8207,l],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,
315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,
8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,
154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,
142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,
135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"windows-1252":[8364,
129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,
251,252,253,254,255]};(function(){"iso-8859-2,iso-8859-3,iso-8859-4,iso-8859-5,iso-8859-6,iso-8859-7,iso-8859-8,iso-8859-10,iso-8859-13,iso-8859-14,iso-8859-15,iso-8859-16,windows-1252".split(",").forEach(function(a){var b=p[a],c=x[a];b.Rw=function(a){return new g(c,a)};b.Vw=function(){return new k(c)}})})();ka=function(a,b){b=Object(b);this.Oc=f(a?""+a:"utf-8");this.Ji=m;this.Fd=l;this.Cm={Zd:Boolean(b.Zd)};Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.Oc.name}}):
this.encoding=this.Oc.name;return this};ka.prototype={df:function(a,b){if(!this.Ji)this.Fd=this.Oc.Vw();this.Ji=Boolean(Object(b).XB);for(var e=[],f=new c(e),g=new d(a?""+a:"");-1!==g.get();)this.Fd.df(f,g);if(!this.Ji){var k;do k=this.Fd.df(f,g);while(-1!==k);this.Fd=l}return new Uint8Array(e)}};ea=function(a,b){b=Object(b);this.Oc=f(a?""+a:"utf-8");this.Cm={Zd:Boolean(b.Zd)};this.Jh=this.Oc.Rw(this.Cm);Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.Oc.name}}):
this.encoding=this.Oc.name;return this};ea.prototype={Yi:function(b){b&&!("buffer"in b&&"byteOffset"in b&&"byteLength"in b)&&h(new TypeError("Expected ArrayBufferView"));b||(b=new Uint8Array(0));b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return this.yl(new a(b))},qw:function(a){a||h(new TypeError("Expected array of bytes"));return this.yl(new b(a))},yl:function(a){for(var b=new e,c;-1!==a.get();)c=this.Jh.Yi(a),c!==l&&-1!==c&&b.zg(c);return b.Wy()}}})();
if(!Array.prototype.push)Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length};if(!Array.prototype.shift)Array.prototype.shift=function(){if(0<this.length){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];this.length-=1;return a}};
if(!Array.prototype.splice)Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,g=arguments.length;f<g;f++)e[f]=arguments[f];c=2<e.length?e.slice(2).concat(c):c;for(f=0,g=c.length;f<g;f++)this.push(c[f]);return d};
var v=function(){function a(b){for(var c=l,d,e=0,f=Ld.length;e<f;e++){d=Ld[e];try{return c=d(),a=d,c}catch(g){}}b?b():H("getXmlHttp: unable to obtain XMLHttpRequest object")}function b(){}function c(){}function d(a,b,c,d,e){this.Lg=a;this.timeStamp=b;this.ip=b.getTime();this.Xy=Math.floor(this.ip/1E3);this.wo=this.timeStamp.getMilliseconds();this.fa=c;this.ac=d;this.cd=e}function e(a,b){this.fa=a;this.name=b}function f(){}function g(a){return"undefined"==typeof a}function k(){}function p(){}function n(a){return a&&
a.toString?a.toString():""+a}function x(a){return a.message?a.message:a.description?a.description:n(a)}function F(a){if(a){var b="Exception: "+x(a);try{if(a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName)var c=b,d=a.fileName,e=Math.max(d.lastIndexOf("/"),d.lastIndexOf("\\")),b=c+(" in file "+d.substr(e+1))}catch(f){V.warn("Unable to obtain file and line information for error")}Md&&a.stack&&(b+=I+"Stack trace:"+I+a.stack);return b}return l}function A(a){return a.replace(/^\s+/,"").replace(/\s+$/,
"")}function M(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function u(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}0<=c&&a.splice(c,1)}function $(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return j;return m}function ra(a,b){return g(a)?b:""+a}function cb(a,b){if(g(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(d){return V.warn("Invalid int param "+a,d),b}}function Wd(a){var b,c=window;b=b?b:window;if(c.addEventListener)c.addEventListener("unload",
a,i);else if(c.attachEvent)c.attachEvent("onunload",a);else{if(!c.__log4javascript_listeners__unload)c.__log4javascript_listeners__unload=[],c.onunload=function(a){for(var c=b,a=a?a:(c?c:window).event,c=this.__log4javascript_listeners__unload.concat([]),d;d=c.shift();)d.call(this,a)};c.__log4javascript_listeners__unload.push(a)}}function H(a,b){V.error(a,b);v.dispatchEvent("error",{message:a,exception:b})}function Nd(a,b){this.name=a;this.fa=g(b)?e.md:b;this.start=new Date}function fa(a){this.name=
a;this.parent=l;this.children=[];var b=[],c=l,f=this.name===Ka,k=this.name===Od,p=l,Gb=m;this.Iv=function(a){this.children.push(a);a.parent=this;a.de()};var ga=j;this.Lw=function(){return ga};this.wB=function(a){var b=ga!=a;ga=a;b&&this.de()};this.un=function(a){k?H("Logger.addAppender: you may not add an appender to the null logger"):a instanceof v.Bj?$(b,a)||(b.push(a),a.Po(this),this.de()):H("Logger.addAppender: appender supplied ('"+n(a)+"') is not a subclass of Appender")};this.tB=function(a){u(b,
a);a.Zo(this);this.de()};this.sB=function(){var a=b.length;if(0<a){for(var c=0;c<a;c++)b[c].Zo(this);b.length=0;this.de()}};this.Eg=function(){if(p===l||Gb)p=(f||!this.Lw()?[]:this.parent.Eg()).concat(b),Gb=m;return p};this.de=function(){Gb=j;for(var a=0,b=this.children.length;a<b;a++)this.children[a].de()};this.log=function(a,b){if(la&&a.lj(this.Tw())){var c,e=b.length-1,f=b[e];1<b.length&&f instanceof Error&&(c=f,e--);for(var f=[],g=0;g<=e;g++)f[g]=b[g];this.Vv(new d(this,new Date,a,f,c))}};this.Vv=
function(a){for(var b=this.Eg(),c=0,d=b.length;c<d;c++)b[c].xw(a)};this.Ib=function(a){f&&a===l?H("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof e?c=a:H("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.Yw=function(){return c};this.Tw=function(){for(var a=this;a!==l;a=a.parent){var b=a.Yw();if(b!==l)return b}};this.dd=function(a,b){if(la)for(var c=this.Eg(),d=0,e=c.length;d<e;d++)c[d].dd(a,b)};this.ed=
function(){if(la)for(var a=this.Eg(),b=0,c=a.length;b<c;b++)a[b].ed()};var ha={};this.hp=function(a,b){la&&(g(a)?H("Logger.time: a name for the timer must be supplied"):b&&!(b instanceof e)?H("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"):ha[a]=new Nd(a,b))};this.YB=function(a){if(la)if(g(a))H("Logger.timeEnd: a name for the timer must be supplied");else if(ha[a]){var b=ha[a];this.log(b.fa,["Timer "+n(a)+" completed in "+b.Uw()+"ms"]);delete ha[a]}else V.warn("Logger.timeEnd: no timer found with name "+
a)};this.uA=function(a){if(la&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=0<b.length?b:["Assertion Failure"];b.push(I);b.push(a);this.log(e.oe,b)}};this.toString=function(){return"Logger["+this.name+"]"}}function ua(){this.la=[]}function ma(){this.la=[]}function za(a){this.Wi=g(a)?j:Boolean(a);this.la=[]}function na(a,b){this.fe=g(a)?m:Boolean(a);this.Wi=g(b)?j:Boolean(b);this.Hn=this.fe?"["+I:"[";this.Gn=this.fe?"]"+I:"]";this.In=this.fe?","+I:",";this.Wo();this.cw=this.fe?
": ":":";this.vj=this.fe?"\t":"";this.lf=this.fe?I:"";this.la=[]}function oa(){this.Wo();this.la=[];this.Ko=j}function Pd(a,b){function c(a,b,e){function f(a){for(var a=M(a),b=1,c=a.length;b<c;b++)a[b]=e+a[b];return a.join(I)}var g,k,sa,p,y,ta;e||(e="");if(a===l)return"null";if("undefined"==typeof a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&$(d,a)){try{y=n(a)}catch(u){y="Error formatting property. Details: "+F(u)}return y+" [already expanded]"}if(a instanceof Array&&
0<b){d.push(a);y="["+I;k=b-1;sa=e+"  ";p=[];for(g=0,b=a.length;g<b;g++)try{ta=c(a[g],k,sa),p.push(sa+ta)}catch(x){p.push(sa+"Error formatting array member. Details: "+F(x)+"")}return y+=p.join(","+I)+I+e+"]"}if("object"==typeof a&&0<b){d.push(a);y="{"+I;k=b-1;sa=e+"  ";p=[];for(g in a)try{ta=c(a[g],k,sa),p.push(sa+g+": "+ta)}catch(A){p.push(sa+g+": Error formatting property. Details: "+F(A))}return y+=p.join(","+I)+I+e+"}"}return f(n(a))}var d=[];return c(a,b,i)}function K(a){this.pattern=a?a:K.Bp;
this.la=[]}function Aa(){}function ca(){}function Ba(b){function c(a){return V?(H("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),m):j}function d(){if(ha&&la){K=j;var a;if(q)0<ba.length?(a=ba.shift(),n(k(a),d)):(K=m,ya&&window.setTimeout(d,y));else{for(;a=ba.shift();)n(k(a));K=m;ya&&window.setTimeout(d,y)}}}function e(){if(ha&&la){for(var a=ga.W.Ui()?u:1,b,c=[];b=X.shift();)c.push(b),X.length>=a&&(ba.push(c),c=[]);0<c.length&&ba.push(c);ya=q=m;
d()}}function k(a){var b=[],c;for(c="";c=a.shift();)c=ga.W.kb(c),ga.W.Fb()&&(c+=loggingEvent.Gg()),b.push(c);c=1==a.length?b.join(""):ga.W.Hn+b.join(ga.W.In)+ga.W.Gn;c=ga.W.Ko?c:Ca(I)+"="+Ca(c);0<c.length&&(c+="&");return c+"layout="+Ca(ga.W.toString())}function p(){H("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled");ha=m;A&&A("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled")}function n(c,d){try{var e=a(p);if(ha){e.overrideMimeType&&e.overrideMimeType(ga.W.fj());
e.onreadystatechange=function(){if(4==e.readyState){if(g(e.status)||0===e.status||200<=e.status&&300>e.status)x&&x(e),d&&d(e);else{var a="AjaxAppender.append: XMLHttpRequest request to URL "+b+" returned status code "+e.status;H(a);A&&A(a)}e.onreadystatechange=f;e=l}};e.open("POST",b,j);try{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(k){H("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");
ha=m;A&&A("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");return}e.send(c)}}catch(q){var ya="AjaxAppender.append: error sending log message to "+b;H(ya,q);ha=m;A&&A(ya+". Details: "+F(q))}}var ga=this,ha=j;b||(H("AjaxAppender: URL must be specified in constructor"),ha=m);var ya=this.D.Yy,q=this.D.lz,u=this.D.Uv,y=this.D.Zy,x=this.D.Yx,A=this.D.Fw,I=this.D.Hx,M=this.D.by,U=l,X=[],ba=[],K=m,V=m;
this.TA=function(){return U};this.My=function(a){U=ra(a,l);this.W.ly("sessionid",U)};this.Vg=function(a){if(c("layout"))this.W=a,U!==l&&this.My(U)};this.eB=function(){return ya};this.QB=function(a){c("timed")&&(ya=Boolean(a))};this.UA=function(){return y};this.RB=function(a){c("timerInterval")&&(y=cb(a,y))};this.hB=function(){return q};this.UB=function(a){c("waitForResponse")&&(q=Boolean(a))};this.KA=function(){return u};this.zB=function(a){c("batchSize")&&(u=cb(a,u))};this.aB=function(){return M};
this.OB=function(a){c("sendAllOnUnload")&&(M=cb(a,M))};this.MB=function(a){x="function"==typeof a?a:x};this.EB=function(a){A="function"==typeof a?a:A};this.RA=function(){return I};this.JB=function(a){c("postVarName")&&(I=ra(a,I))};this.vB=d;this.append=function(a){if(ha&&(V||(V=j,M&&Wd(e),ya&&window.setTimeout(d,y)),X.push(a),X.length>=(this.W.Ui()?u:1))){for(var b=[];a=X.shift();)b.push(a);ba.push(b);!ya&&(!q||q&&!K)&&d()}}}function La(a){try{return Boolean(a.loaded)}catch(b){return m}}function Qd(a,
b){if(a.length<b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}k.prototype={Yd:[],ef:{},To:function(a){if(a instanceof Array){this.Yd=a;this.ef={};for(var a=0,b=this.Yd.length;a<b;a++)this.ef[this.Yd[a]]=[]}else H("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?($(this.Yd,a)||H("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),
this.ef[a].push(b)):H("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(a,b){"function"==typeof b?($(this.Yd,a)||H("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+a+"'"),u(this.ef[a],b)):H("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(a,b){if($(this.Yd,a))for(var c=this.ef[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else H("log4javascript.EventSupport ["+
this+"]: dispatchEvent: no event called '"+a+"'")}};var Rd=new Date,Sd="log4javascript_"+Rd.getTime()+"_"+Math.floor(1E8*Math.random()),I="\r\n",Ib=m;p.prototype=new k;v=new p;v.version="1.4.2";v.BA="log4javascript";var Ca="undefined"!=typeof window.CA?function(a){return encodeURIComponent(a)}:function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var c=
"__apply__";"undefined"!=typeof a[c]&&(c+=(""+Math.random()).substr(2));a[c]=this;for(var d=[],e=0,f=b.length;e<f;e++)d[e]="args["+e+"]";d=eval("obj."+c+"("+d.join(",")+")");delete a[c];return d};if(!Function.prototype.call)Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<d;c++)b[c-1]=arguments[c];return this.apply(a,b)};var V={Eo:m,Pn:[],KB:function(a){this.Eo=Boolean(a)},zx:0,xn:m,xB:r("xn"),R:function(a){this.Pn.push(a)},AA:function(){alert(this.Pn.join(I))},warn:o(),error:function(a,
b){if((1==++this.zx||this.xn)&&!this.Eo){var c="log4javascript error: "+a;b&&(c+=I+I+"Original error: "+F(b));alert(c)}}};v.lB=V;v.To(["load","error"]);v.handleError=H;var la=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);v.DB=function(a){la=Boolean(a)};v.isEnabled=function(){return la};var Ma=j;v.Ry=function(a){Ma=Boolean(a)};v.Jg=function(){return Ma};v.FA=function(a){return eval(a)};var Md=m;v.PB=function(a){Md=Boolean(a)};e.prototype={toString:s("name"),Bg:function(a){return this.fa==
a.fa},lj:function(a){return this.fa>=a.fa}};e.op=new e(Number.MIN_VALUE,"ALL");e.zh=new e(1E4,"TRACE");e.me=new e(2E4,"DEBUG");e.md=new e(3E4,"INFO");e.Rk=new e(4E4,"WARN");e.oe=new e(5E4,"ERROR");e.ek=new e(6E4,"FATAL");e.mq=new e(Number.MAX_VALUE,"OFF");v.cc=e;Nd.prototype.Uw=function(){return(new Date).getTime()-this.start.getTime()};var Od="[null]",Ka="root";fa.prototype={ke:function(){this.log(e.zh,arguments)},R:function(){this.log(e.me,arguments)},info:function(){this.log(e.md,arguments)},warn:function(){this.log(e.Rk,
arguments)},error:function(){this.log(e.oe,arguments)},Zd:function(){this.log(e.ek,arguments)}};fa.prototype.ke.jf=j;fa.prototype.R.jf=j;fa.prototype.info.jf=j;fa.prototype.warn.jf=j;fa.prototype.error.jf=j;fa.prototype.Zd.jf=j;var Ta={},Xd=[],Td=e.me,Ia=new fa(Ka);Ia.Ib(Td);v.SA=function(){return Ia};v.gj=function(a){"string"!=typeof a&&(a="[anonymous]",V.warn("log4javascript.getLogger: non-string logger name "+n(a)+" supplied, returning anonymous logger"));a==Ka&&H("log4javascript.getLogger: root logger may not be obtained by name");
if(!Ta[a]){var b=new fa(a);Ta[a]=b;Xd.push(a);var c=a.lastIndexOf(".");(-1<c?v.gj(a.substring(0,c)):Ia).Iv(b)}return Ta[a]};var Fa=l;v.OA=function(){if(!Fa){Fa=v.gj("[default]");var a=new v.uq;Fa.un(a)}return Fa};var Na=l;v.QA=function(){Na||(Na=new fa(Od),Na.Ib(e.mq));return Na};v.uB=function(){Ia.Ib(Td);Ta={}};d.prototype={Gg:function(){return this.cd?F(this.cd):""},ej:function(){return 1==this.ac.length?this.ac[0]:this.ac.join(I)},toString:function(){return"LoggingEvent["+this.fa+"]"}};v.Bz=d;
c.prototype={D:{Mg:"logger",$g:"timestamp",Og:"milliseconds",Kg:"level",Ng:"message",Cg:"exception",ah:"url"},Mg:"logger",$g:"timestamp",Og:"milliseconds",Kg:"level",Ng:"message",Cg:"exception",ah:"url",Hn:"",Gn:"",In:"",Ko:m,zo:m,kp:l,kb:function(){H("Layout.format: layout supplied has no format() method")},Fb:function(){H("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},fj:t("text/plain"),Ui:t(j),Ry:function(a){this.zo=j;this.kp=Boolean(a)},Jg:function(){return this.zo?
this.kp:Ma},ko:function(a){return this.Jg()?a.ip:a.Xy},co:function(a,b){var c=[[this.Mg,a.Lg.name],[this.$g,this.ko(a)],[this.Kg,a.fa.name],[this.ah,window.location.href],[this.Ng,b?a.ej():a.ac]];this.Jg()||c.push([this.Og,a.wo]);a.cd&&c.push([this.Cg,F(a.cd)]);if(this.ij())for(var d=0,e=this.la.length;d<e;d++){var f=this.la[d].value;"function"===typeof f&&(f=f(this,a));c.push([this.la[d].name,f])}return c},Wo:function(a,b,c,d,e,f,g){this.Mg=ra(a,this.D.Mg);this.$g=ra(b,this.D.$g);this.Kg=ra(c,this.D.Kg);
this.Ng=ra(d,this.D.Ng);this.Cg=ra(e,this.D.Cg);this.ah=ra(f,this.D.ah);this.Og=ra(g,this.D.Og)},ly:function(a,b){for(var c=m,d=0,e=this.la.length;d<e;d++)if(this.la[d].name===a)this.la[d].value=b,c=j;c||this.la.push({name:a,value:b})},ij:function(){return 0<this.la.length},toString:function(){H("Layout.toString: all layouts must override this method")}};v.Az=c;b.prototype=new k;b.prototype.W=new K;b.prototype.wj=e.op;b.prototype.mj=[];b.prototype.xw=function(a){la&&a.fa.fa>=this.wj.fa&&this.append(a)};
b.prototype.append=o();b.prototype.Vg=function(a){a instanceof c?this.W=a:H("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};b.prototype.Qy=function(){var a=v.cc.zh;a instanceof e?this.wj=a:H("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")};b.prototype.Po=function(a){this.mj.push(a)};b.prototype.Zo=function(a){u(this.mj,a)};b.prototype.dd=f;b.prototype.ed=f;b.prototype.toString=function(){H("Appender.toString: all appenders must override this method")};
v.Bj=b;ua.prototype=new c;ua.prototype.kb=function(a){return a.fa.name+" - "+a.ej()};ua.prototype.Fb=t(j);ua.prototype.toString=t("SimpleLayout");v.Zz=ua;ma.prototype=new c;ma.prototype.kb=function(a){return a.ac};ma.prototype.Fb=t(j);ma.prototype.toString=t("NullLayout");v.Dz=ma;za.prototype=new c;za.prototype.fj=t("text/xml");za.prototype.Dw=function(a){return a.replace(/\]\]>/,"]]\>]]&gt;<![CDATA[")};za.prototype.kb=function(a){function b(a){a="string"===typeof a?a:n(a);return"<log4javascript:message><![CDATA["+
c.Dw(a)+"]]\></log4javascript:message>"}var c=this,d,e,f='<log4javascript:event logger="'+a.Lg.name+'" timestamp="'+this.ko(a)+'"';this.Jg()||(f+=' milliseconds="'+a.wo+'"');f+=' level="'+a.fa.name+'">'+I;if(this.Wi)f+=b(a.ej());else{f+="<log4javascript:messages>"+I;for(d=0,e=a.ac.length;d<e;d++)f+=b(a.ac[d])+I;f+="</log4javascript:messages>"+I}if(this.ij())for(d=0,e=this.la.length;d<e;d++)f+='<log4javascript:customfield name="'+this.la[d].name+'"><![CDATA['+this.la[d].value.toString()+"]]\></log4javascript:customfield>"+
I;a.cd&&(f+="<log4javascript:exception><![CDATA["+F(a.cd)+"]]\></log4javascript:exception>"+I);return f+="</log4javascript:event>"+I+I};za.prototype.Fb=t(m);za.prototype.toString=t("XmlLayout");v.gA=za;na.prototype=new c;na.prototype.kb=function(a){function b(a,d,e){var f=typeof a;if(a instanceof Date)e=""+a.getTime();else if(e&&a instanceof Array){for(var e="["+c.lf,f=0,g=a.length;f<g;f++){var k=d+c.vj,e=e+(k+b(a[f],k,m));f<a.length-1&&(e+=",");e+=c.lf}e+=d+"]"}else e="number"!==f&&"boolean"!==f?
'"'+n(a).replace(/\"/g,'\\"').replace(/\r\n|\r|\n/g,"\\r\\n")+'"':a;return e}var c=this,a=this.co(a,this.Wi),d="{"+this.lf,e,f;for(e=0,f=a.length-1;e<=f;e++)d+=this.vj+'"'+a[e][0]+'"'+this.cw+b(a[e][1],this.vj,j),e<f&&(d+=","),d+=this.lf;return d+="}"+this.lf};na.prototype.Fb=t(m);na.prototype.toString=t("JsonLayout");na.prototype.fj=t("application/json");v.yz=na;oa.prototype=new c;oa.prototype.Ui=t(m);oa.prototype.kb=function(a){for(var a=this.co(a),b=[],c=0,d=a.length;c<d;c++){var e=a[c][1]instanceof
Date?""+a[c][1].getTime():a[c][1];b.push(Ca(a[c][0])+"="+Ca(e))}return b.join("&")};oa.prototype.Fb=t(m);oa.prototype.toString=t("HttpPostDataLayout");v.wz=oa;var Da;(function(){function a(b,c){for(;b.length<c;)b="0"+b;return b}function b(a,c,d){a=new Date(a,c,d,0,0,0);a.setMilliseconds(0);return a}var c=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,d="January,February,March,April,May,June,July,August,September,October,November,December".split(","),
e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),f={uz:0,y:3,Cz:4,ZB:2,eA:2,rz:2,zA:2,sz:2,E:1,Ri:0,vz:2,iB:2,zz:2,Ka:2,nB:2,ge:2,Iz:2,hA:5};Date.prototype.Sw=function(a){return this.getTime()-a.getTime()};Date.prototype.qo=function(a){return this.getTime()<a.getTime()};Date.prototype.mo=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.hj=function(a){return this.mo()-
a.mo()};Date.prototype.jo=function(){var a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0)).getTime()-864E5*this.getDay());return b(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.cx=function(a){g(this.nj)&&(a=1);var c=this.jo(),d=b(this.getFullYear(),0,1),c=c.qo(d)?0:1+Math.floor(c.hj(d)/6048E5);7-d.getDay()<a&&c--;return c};Date.prototype.bx=function(a){g(this.nj)&&(a=1);var c=this.jo(),d=b(this.getFullYear(),this.getMonth(),1),c=c.qo(d)?0:1+Math.floor(c.hj(d)/
6048E5);7-d.getDay()>=a&&c++;return c};Date.prototype.Qw=function(){var a=b(this.getFullYear(),0,1);return 1+Math.floor(this.hj(a)/864E5)};Da=r("Iw");Da.prototype.ho=function(){return g(this.nj)?1:this.nj};Da.prototype.kb=function(b){for(var g="",k,p=this.Iw;k=c.exec(p);){var q=k[1],n=k[2],y=k[3],u=k[4];if(q)g="''"==q?g+"'":g+q.substring(1,q.length-1);else if(!y)if(u)g+=u;else if(n){q=n.charAt(0);n=n.length;y="";switch(q){case "G":y="AD";break;case "y":y=b.getFullYear();break;case "M":y=b.getMonth();
break;case "w":y=b.cx(this.ho());break;case "W":y=b.bx(this.ho());break;case "D":y=b.Qw();break;case "d":y=b.getDate();break;case "F":y=1+Math.floor((b.getDate()-1)/7);break;case "E":y=e[b.getDay()];break;case "a":y=12<=b.getHours()?"PM":"AM";break;case "H":y=b.getHours();break;case "k":y=b.getHours()||24;break;case "K":y=b.getHours()%12;break;case "h":y=b.getHours()%12||12;break;case "m":y=b.getMinutes();break;case "s":y=b.getSeconds();break;case "S":y=b.getMilliseconds();break;case "Z":y=b.getTimezoneOffset()}switch(f[q]){case 0:g+=
4<=n?y:y.substr(0,Math.max(2,n));break;case 1:g+=4<=n?y:y.substr(0,Math.max(3,n));break;case 2:g+=a(""+y,n);break;case 3:g=3>=n?g+(""+y).substr(2,2):g+a(""+y,n);break;case 4:g=3<=n?g+(4<=n?d[y]:d[y].substr(0,Math.max(n,n))):g+a(""+(y+1),n);break;case 5:n=0<y?"-":"+",y=Math.abs(y),q=""+Math.floor(y/60),q=a(q,2),y=""+y%60,y=a(y,2),g+=n+q+y}}p=p.substr(k.index+k[0].length)}return g}})();v.Yz=Da;K.cA="%r %p %c - %m%n";K.Bp="%m%n";K.jk="yyyy-MM-dd HH:mm:ss,SSS";K.Ap="dd MMM yyyy HH:mm:ss,SSS";K.mp="HH:mm:ss,SSS";
K.prototype=new c;K.prototype.kb=function(a){for(var b=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,c="",d,e=this.pattern;d=b.exec(e);){var f=d[0],g=d[1],k=d[2],p=d[3],n=d[5],q=d[6];if(q)c+=""+q;else{q="";switch(p){case "a":case "m":f=0;n&&(f=parseInt(n,10),isNaN(f)&&(H("PatternLayout.format: invalid specifier '"+n+"' for conversion character '"+p+"' - should be a number"),f=0));for(var n="a"===p?a.ac[0]:a.ac,p=0,u=n.length;p<u;p++)0<p&&" "!==q.charAt(q.length-1)&&(q+=" "),q=0===
f?q+n[p]:q+Pd(n[p],f);break;case "c":q=a.Lg.name;n&&(n=parseInt(n,10),f=a.Lg.name.split("."),q=n>=f.length?q:f.slice(f.length-n).join("."));break;case "d":q=K.jk;if(n)if(q=n,"ISO8601"==q)q=K.jk;else if("ABSOLUTE"==q)q=K.mp;else if("DATE"==q)q=K.Ap;q=(new Da(q)).kb(a.timeStamp);break;case "f":if(this.ij())q=0,n&&(q=parseInt(n,10),isNaN(q)?H("PatternLayout.format: invalid specifier '"+n+"' for conversion character 'f' - should be a number"):0===q?H("PatternLayout.format: invalid specifier '"+n+"' for conversion character 'f' - must be greater than zero"):
q>this.la.length?H("PatternLayout.format: invalid specifier '"+n+"' for conversion character 'f' - there aren't that many custom fields"):q-=1),q=this.la[q].value;break;case "n":q=I;break;case "p":q=a.fa.name;break;case "r":q=""+a.timeStamp.Sw(Rd);break;case "%":q="%";break;default:q=f}if(k)k=parseInt(k.substr(1),10),n=q.length,k<n&&(q=q.substring(n-k,n));if(g)if("-"==g.charAt(0))for(k=parseInt(g.substr(1),10);q.length<k;)q+=" ";else for(k=parseInt(g,10);q.length<k;)q=" "+q;c+=q}e=e.substr(d.index+
d[0].length)}return c};K.prototype.Fb=t(j);K.prototype.toString=t("PatternLayout");v.Ez=K;Aa.prototype=new b;Aa.prototype.W=new ua;Aa.prototype.append=function(a){var b=this.W.kb(a);this.W.Fb()&&(b+=a.Gg());alert(b)};Aa.prototype.toString=t("AlertAppender");v.pz=Aa;ca.prototype=new v.Bj;ca.prototype.W=new ma;ca.prototype.wj=e.me;ca.prototype.append=function(a){function b(){var d=c.W,e=d.kb(a);d.Fb()&&a.cd&&(e+=a.Gg());return e}var c=this;if("undefined"!=typeof opera&&opera.postError)opera.postError(b());
else if(window.console&&window.console.log){var d=b();window.console.R&&e.me.lj(a.fa)?window.console.R(d):window.console.info&&e.md.Bg(a.fa)?window.console.info(d):window.console.warn&&e.Rk.Bg(a.fa)?window.console.warn(d):window.console.error&&a.fa.lj(e.oe)?window.console.error(d):window.console.log(d)}};ca.prototype.dd=function(a){window.console&&window.console.dd&&window.console.dd(a)};ca.prototype.ed=function(){window.console&&window.console.ed&&window.console.ed()};ca.prototype.toString=t("BrowserConsoleAppender");
v.qp=ca;var Ld=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];Ba.prototype=new b;Ba.prototype.D={lz:m,Yy:m,Zy:1E3,Uv:1,by:j,Yx:l,Fw:l,Hx:"data"};Ba.prototype.W=new oa;Ba.prototype.toString=t("AjaxAppender");v.oz=Ba;var Y;(function(){function a(b,c,d,e,f){this.create(m,l,b,c,d,e,f,this.D.Hw)}function c(a,b,d,e,f,g){this.create(j,a,b,d,e,f,g,m)}var f=[];Y=o();var k=1;Y.prototype=new b;Y.prototype.create=
function(a,b,c,p,n,u,q,A){function y(){var a=document.domain!=location.hostname;if(n)a="";else{var b;a:{b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;++c)if(-1!=b[c].src.indexOf("log4javascript")){d=b[c].src.lastIndexOf("/");b=-1==d?"":b[c].src.substr(0,d+1);break a}b=l}a=b+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):"")}return a}function x(a,b,c,d){var e=setInterval(function(){try{da&&clearInterval(e),a(R())&&(clearInterval(e),c())}catch(b){clearInterval(e),
wa=m,H(d,b)}},b)}function M(){var a=R();a.yB(ia);a.Gy(oa);a.Ky(ua);a.tj(ma);a.Wg(na);a.bp(Ba);a.ap(Ca);a.IB(window);var b;a:{b=escape("log4javascriptCommandHistory")+"=";for(var c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b)){b=unescape(f.substring(b.length,f.length));break a}}b=l}if(b)a.dw=b.split(","),a.yA=a.dw.length;ia.dispatchEvent("load",{win:a})}function sa(a){var b=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
'<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<\!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\>",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','<\!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\>','<\!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\>',
'<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}",
"this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",
'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',
"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",
'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}',
'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",
'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',
"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}",
"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}",
"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",
'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}',
'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}',
'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',
"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}',
'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',
"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",
'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}',
'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',
"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}",
"var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}",
"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",
'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}",
"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}",
"return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}",
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}",
"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}",
"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",
'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}',
'function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}',
'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}",
"searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}",
"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',
"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+",
"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}",
"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}",
"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}",
"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',
"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}",
"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}',
'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}',
'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}",
"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}',
'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}',
'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',
"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}',
'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}',
'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}",
"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}",
"currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}",
"return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-',
'($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}",
"this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}",
"return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}",
"return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',
"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',
"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}",
"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]\>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}",
"</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>',
'<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>',
'<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />',
'<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>',
'<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>',
'<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>',
'<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />',
'<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />',
'<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];a.open();for(var c=0,d=b.length;c<d;c++)a.writeln(b[c]);a.close()}function Hb(){for(;0<ta.length;)ta.shift().append();A&&R().focus()}function U(){db();ca?da&&Jb&&Ua():Da();db()&&Hb()}function X(){return va&&wa&&!da}function ba(a){return Ha?(H(Ta+": configuration option '"+a+"' may not be set after the appender has been initialized"),
m):j}function Y(a,b){this.mB=a;this.sx=a.fa.name;this.Jw=b}function $(a,b){this.name=a;this.ix=b}function fa(){}var ia=this,ca=m,Ha=m,va=m,da=m,ta=[],wa=j,za=k++,p=g(p)?this.D.po:Boolean(p),c=g(c)?this.D.so:Boolean(c),n=g(n)?this.D.jp:Boolean(n),oa=this.D.xo,ua=this.D.No,u=u?u:this.D.width,q=q?q:this.D.height,ma=this.D.vo,na=this.D.dp,Aa=this.D.Mn,Ba=this.D.ep,Ca=this.D.cp;this.Vg(this.D.W);var Da,Ua,db,R,Oa,Ta=a?"InPageAppender":"PopUpAppender";this.YA=function(){return oa};this.Hy=function(){oa=
Boolean(j);X()&&R().Gy(oa)};this.$A=function(){return ua};this.NB=function(a){ua=Boolean(a);X()&&R().Ky(ua)};this.k=function(){return u};this.VB=function(a){ba("width")&&(u=ra(a,u))};this.j=function(){return q};this.GB=function(a){ba("height")&&(q=ra(a,q))};this.PA=function(){return ma};this.tj=function(a){ma=cb(a,ma);X()&&R().tj(ma)};this.cB=function(){return na};this.Wg=function(a){na=Boolean(a);X()&&R().Wg(na)};this.dB=function(){return Ba};this.bp=function(a){Ba=Boolean(a);X()&&R().bp(Ba)};this.bB=
function(){return Ca};this.ap=function(a){Ca=Boolean(a);X()&&R().ap(Ca)};this.MA=function(){return Aa};this.ey=function(a){Aa=cb(a,Aa)};var eb=p;this.XA=function(){return p};this.HB=function(a){ba("initiallyMinimized")&&(eb=p=Boolean(a))};this.fB=function(){return n};this.SB=function(a){ba("useDocumentWrite")&&(n=Boolean(a))};Y.prototype.append=function(){R().log(this.sx,this.Jw)};$.prototype.append=function(){R().dd(this.name,this.ix)};fa.prototype.append=function(){R().ed()};this.append=function(a){if(wa){var b=
ia.W.kb(a);this.W.Fb()&&(b+=a.Gg());ta.push(new Y(a,b));U()}};this.dd=function(a,b){wa&&(ta.push(new $(a,b)),U())};this.ed=function(){wa&&(ta.push(new fa),U())};this.Po=function(a){this.mj.push(a);la&&!c&&Da()};this.clear=function(){X()&&R().wA();ta.length=0};this.focus=function(){X()&&R().focus()};this.IA=o();this.JA=o();var aa=window;this.Pw=function(){return aa};this.fy=function(a){aa=a};this.HA=function(){X()&&R().GA()};var Ia=new K("%m");this.LA=function(){return Ia};this.BB=function(a){Ia=a};
this.DA=function(a){var b={Dn:j,Ig:m},c="";try{var f,k;!aa.eval&&aa.execScript&&aa.execScript("null");var p={};for(k=0,len=Va.length;k<len;k++)p[Va[k][0]]=Va[k][1];var q=[],n=function(a){q.push([a,aa[a]])};n("appender");aa.tA=ia;n("commandReturnValue");aa.xA=b;n("commandLineFunctionsHash");aa.ew=p;p=function(a){n(a);aa[a]=function(){return this.ew[a](ia,arguments,b)}};for(k=0,len=Va.length;k<len;k++)p(Va[k][0]);aa===window&&aa.execScript?(n("evalExpr"),n("result"),window.EA=a,aa.execScript("window.result=eval(window.evalExpr);"),
f=window.result):f=aa.eval(a);c=g(f)?f:Pd(f,Aa);for(k=0,len=q.length;k<len;k++)aa[q[k][0]]=q[k][1]}catch(y){c="Error evaluating command: "+F(y),b.Ig=j}if(b.Dn)a=">>> "+a,g(c)||(a+=I+c),c=new d(l,new Date,b.Ig?e.oe:e.md,[a],l),a=this.W,this.Vg(Ia),this.append(c),this.Vg(a)};var Va=f.concat([]);this.sA=function(a,b){Va.push([a,b])};this.WB=function(a){var a=a.join(","),b;document.cookie=escape("log4javascriptCommandHistory")+"="+escape(a)+""+(b?"; path="+b:"")};this.To(["load","unload"]);this.qf=function(){V.R("unload "+
this+", caller: "+this.qf.caller);da||(V.R("really doing unload "+this),da=j,Ha=va=m,ia.dispatchEvent("unload",{}))};if(a){var Ga=l,Fa=[];this.vn=function(a,b){ba("cssProperties")&&Fa.push([a,b])};var Na=m,Ea,Ka=Sd+"_InPageAppender_"+za;this.ex=function(){if(ca&&Ha)X()&&R().nz("command").blur(),Ea.style.display="none",eb=j};this.show=function(){if(ca)Ha?(Ea.style.display="block",this.Wg(na),eb=m):Na||Ua(j)};this.nx=function(){return!eb&&!da};this.close=function(a){if(!da&&(!a||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")))Ea.parentNode.removeChild(Ea),
this.qf()};Oa=function(){function a(b){try{return Boolean(b)&&Boolean(b.document)}catch(c){return m}}function b(){try{p||ia.show(),M(),va=j,Hb()}catch(a){wa=m,H(d,a)}}function c(){try{var a=function(a){return La(a)};n&&sa(R().document);La(R())?b():x(a,100,b,d)}catch(e){wa=m,H(d,e)}}var d="InPageAppender.open: unable to create console iframe";eb=m;Ea=Ga.appendChild(document.createElement("div"));Ea.style.width=u;Ea.style.height=q;Ea.style.border="solid gray 1px";for(var e=0,f=Fa.length;e<f;e++)Ea.style[Fa[e][0]]=
Fa[e][1];Ea.innerHTML="<iframe id='"+Ka+"' name='"+Ka+"' width='100%' height='100%' frameborder='0'"+(n?"":" src='"+y()+"'")+" scrolling='no'></iframe>";da=m;a(R())?c():x(a,100,c,d);Ha=j};Ua=function(a){if(a||!p)a=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(Ga=a);Oa()}catch(c){H("InPageAppender.init: invalid container element '"+b+"' supplied",c)}else Ga=document.createElement("div"),Ga.style.position="fixed",Ga.style.left="0",Ga.style.right="0",Ga.style.bottom="0",document.body.appendChild(Ga),
ia.vn("borderWidth","1px 0 0 0"),ia.vn("zIndex",1E6),Oa()},Ib&&b&&b.appendChild?(Ga=b,Oa()):Ib?a():v.addEventListener("load",a),Na=j};Da=function(){Ua();ca=j};R=function(){var a=window.frames[Ka];if(a)return a};db=function(){return wa&&!da?(Ha&&!va&&R()&&La(R())&&(va=j),va):m}}else{var fb=ia.D.ez,Ma=ia.D.fw,Jb=this.D.Wx;this.gB=function(){return fb};this.TB=function(a){ba("useOldPopUp")&&(fb=Boolean(a))};this.VA=function(){return Ma};this.CB=function(a){ba("complainAboutPopUpBlocking")&&(Ma=Boolean(a))};
this.WA=function(){return A};this.FB=function(a){A=Boolean(a)};this.ZA=function(){return Jb};this.LB=function(a){Jb=Boolean(a)};this.close=function(){V.R("close "+this);try{ja.close(),this.qf()}catch(a){}};this.ex=function(){V.R("hide "+this);X()&&this.close()};this.show=function(){V.R("show "+this);Ha||Oa()};this.nx=function(){return db()};var ja;Oa=function(){function a(){da||ia.qf()}function b(a){if(da)return j;try{return Boolean(a)&&a.closed}catch(c){}return m}function c(){R().AB(!fb||!n);M();
va=j;Hb();x(b,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var d="width="+u+",height="+q+",status,resizable",e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+za;if(!fb||!n)e=e+"_"+Sd;try{ja=window.open(y(),e,d),da=m,Ha=j,ja&&ja.document?n&&fb&&La(ja)?(ja.oB(),c()):(n&&sa(ja.document),d=function(a){return Boolean(a)&&La(a)},La(ja)?c():x(d,100,c,"PopUpAppender.init: unable to create console window")):(wa=m,V.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),
Ma&&H("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(f){H("PopUpAppender.init: error creating pop-up",f)}};Ua=function(){p||Oa()};Da=function(){Ua();ca=j};R=function(){return ja};db=function(){if(wa&&!g(ja)&&!da){if(ja.closed||va&&g(ja.closed))return ia.qf(),V.R("PopUpAppender: pop-up closed"),m;!va&&La(ja)&&(va=j)}return wa&&va&&!da}}this.NA=R};Y.wc=function(a,b){f.push([a,b])};a.prototype=new Y;a.prototype.D={W:new K("%d{HH:mm:ss} %-5p - %m{1}%n"),
po:m,Hw:m,so:j,ez:j,fw:j,xo:m,No:j,width:"600",height:"400",Wx:m,vo:l,dp:j,Mn:1,ep:m,cp:j,Ty:j,jp:j};a.prototype.toString=t("PopUpAppender");v.uq=a;c.prototype=new Y;c.prototype.D={W:new K("%d{HH:mm:ss} %-5p - %m{1}%n"),po:m,so:j,xo:m,No:j,width:"100%",height:"220px",vo:l,dp:j,Mn:1,ep:m,cp:m,Ty:j,jp:j};c.prototype.toString=t("InPageAppender");v.eq=c;v.xz=c})();(function(){var a,b,c,d,e;function f(n,q,u,y,x){function H(a){for(var a=a.style.cssText.split(";"),b="",c=0,d=a.length;c<d;c++){var b=a[c].split(":"),
e=[];/^\s*$/.test(b[0])||e.push(A(b[0]).toLowerCase()+":"+A(b[1]));b=e.join(";")}return b}"string"!=typeof u&&(u="");y=!!y;x=!!x;if(("undefined"==typeof q?j:q)&&n.nodeType!=b)switch(n.nodeType){case c:var F=n.tagName.toLowerCase(),q=y?I+u:"",q=q+"<",x=n.prefix?n.prefix:n.outerHTML&&RegExp("<([^:]+):"+n.tagName+"[^>]*>","i").test(n.outerHTML)?RegExp.$1.toLowerCase():"";(y=!!x)&&(q+=x+":");q+=F;for(x=0,U=n.attributes.length;x<U;x++){var K=n.attributes[x];if(K.specified&&!(K.nodeValue===l||"style"===
K.nodeName.toLowerCase()||"string"!==typeof K.nodeValue||0===K.nodeName.indexOf("_moz")))q+=" "+K.nodeName.toLowerCase()+'="',q+=K.nodeValue.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"),q+='"'}n.style.cssText&&""!==H(n)&&(q+=' style="'+H(n)+'"');if($(k,F)||y&&!n.hasChildNodes())q+="/>";else{for(var q=q+">",y=!(1===n.childNodes.length&&n.childNodes[0].nodeType===a),K=$(g,F),x=0,U=n.childNodes.length;x<U;x++)q+=f(n.childNodes[x],j,u+p,y,K);n="</"+F+">";q+=y?I+u+n:n}return q;
case a:if(n.nodeType==a&&/^[ \t\r\n]*$/.test(n.nodeValue))q="";else{if(x)q=n.nodeValue;else{n=M(A(n.nodeValue));q=[];x=0;for(U=n.length;x<U;x++)q[x]=A(n[x]);q=q.join(I+u)}y&&(q=I+u+q)}return q;case d:return"<![CDATA["+n.nodeValue+"]]\>"+I;case e:q="";x=0;for(U=n.childNodes.length;x<U;x++)q+=f(n.childNodes[x],j,u);return q;default:return""}else{q="";x=0;for(U=n.childNodes.length;x<U;x++)q+=f(n.childNodes[x],j,u+p);return q}}c=1;a=3;d=4;e=9;b=11;var g=["script","pre"],k="br,img,hr,param,link,area,input,col,base,meta".split(","),
p="  ";(function(){Y.wc("$",function(a,b){return document.getElementById(b[0])});Y.wc("dir",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=c,g=d,k=b[d],p=0,u=i;for(u in k)p=Math.max(n(u).length,p);var A=[];for(u in k){var H="  "+Qd(n(u),p+2),F;try{F=M(n(k[u])).join(Qd(I,p+6))}catch(K){F="[Error obtaining property. Details: "+x(K)+"]"}A.push(H+F)}f[g]=A.join(I)}return c.join(I+I)});Y.wc("dirxml",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=f(b[d]);return c.join(I+I)});Y.wc("cd",
function(a,b,c){var d;0===b.length||""===b[0]?(d=window,b="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],b="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]])?b="Command line set to run in frame '"+b[0]+"'":(c.Ig=j,b="Frame '"+b[0]+"' does not exist",d=a.Pw());a.fy(d);return b});Y.wc("clear",function(a,b,c){c.Dn=m;a.clear()});Y.wc("keys",function(a,b){var c=[],d;for(d in b[0])c.push(d);return c});Y.wc("values",function(a,b){var c=[],d;for(d in b[0])try{c.push(b[0][d])}catch(e){V.warn("values(): Unable to obtain value for key "+
d+". Details: "+x(e))}return c});Y.wc("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);if(isNaN(d)||0>d)return c.Ig=j,""+b[0]+" is not a valid expansion depth";a.ey(d);return"Object expansion depth set to "+d})})();initialized=j})();v.Ug=function(){Ib=j;v.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",v.Ug,m);else if(window.attachEvent)window.attachEvent("onload",v.Ug);else{var Ud=window.onload;window.onload="function"!=typeof window.onload?v.Ug:function(a){Ud&&
Ud(a);v.Ug()}}return window.kB=v}(),w;
(function(){w=o();w.Pq=function(){return w.Zu};w.ve=function(){return w.Ki};w.Cp=function(){return w.gs};w.xf=function(a){return a.layerX||0===a.layerX?new z(a.layerX,a.layerY):new z(a.offsetX,a.offsetY)};w.Yl=function(a){var c=new z(a.offsetLeft,a.offsetTop);a.offsetParent&&(a=w.Yl(a.offsetParent),c.b+=a.b,c.c+=a.c);return c};w.kn=m;w.yf=function(a){if(!a.pageX||!a.target){if(!w.kn)w.kn=j,WebvisuLogger.error("Evaluation of Touch events not supported because the browser uses an unexpected interface");return l}var c=
w.Yl(a.target);return new z(a.pageX-c.b,a.pageY-c.c)};w.Et=navigator.userAgent.match(/OS 6(_\d)+ like Mac OS X/i);w.fx=function(){return w.Et};w.hm=function(a,c){a.style.cssText+="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0);";a.tabIndex=c;a.addEventListener("MSHoldVisual",function(a){a.preventDefault()})};w.ne=function(){return window.devicePixelRatio?window.devicePixelRatio:1};w.fq=function(a,c){w.hm(a,2E3);w.hm(c,1E3)};w.Hm=function(a){if(!(a===i||a===l||0<=a.indexOf("%")))return parseFloat(a)};
w.Im=function(a){if(a===i)return l;a=a.split(/[\s,]/);return 4>a.length?l:new B(parseFloat(a[2]),parseFloat(a[3]))};w.pv=function(a){var c=new XMLHttpRequest;c.open("GET",a.src,m);c.send();return c.responseXML&&c.responseXML.documentElement?c.responseXML&&c.responseXML.documentElement:l};w.zr=function(a,c){var d=new XMLHttpRequest;d.open("GET",a.src);d.onreadystatechange=function(){4===d.readyState&&(200===d.status?d.responseXML&&d.responseXML.documentElement?c(d.responseXML.documentElement):c(l):
c(l))};d.send()};w.Tu=function(a){try{if(0<=a.src.toLowerCase().indexOf(".svg")){WebvisuLogger.ke("Derivation of SVG size for '"+a.src+"' failed. Parsing manually");var c=w.pv(a),d,e,f;if(c!==l){d=w.Hm(c.getAttribute("width"));e=w.Hm(c.getAttribute("height"));if(d&&e)return new B(d,e);f=w.Im(c.getAttribute("viewBox"));if(f!==l)return f}}}catch(g){WebvisuLogger.error("Exception during manual parsing of SVG size.")}return l};w.bq=function(a){if(a.naturalWidth&&a.naturalHeight)return new B(a.naturalWidth,
a.naturalHeight);if(a.width&&a.height)return new B(a.width,a.height);a=w.Tu(a);return a!==l?a:new B(0,0)};w.Hk=function(){return w.Wu};w.Ol="undefined"!==typeof MozBlobBuilder;w.Pl=m;if(w.Ol){var a=navigator.userAgent.indexOf("rv");if(-1!==a)a+=3,w.Pl=9<=parseInt(navigator.userAgent.substr(a,navigator.userAgent.indexOf(".",a)-a),10)}w.Ts="undefined"!==typeof InstallTrigger;w.jq=function(a,c,d){return!w.Ts&&!d.WorkaroundForceSVGEmptySizeWorkaround||d.WorkaroundDisableSVGEmptySizeWorkaround?m:C.kk(c)&&
a.naturalWidth!==i&&0===a.naturalWidth&&a.naturalHeight!==i&&0===a.naturalHeight};w.Ep=function(a,c,d){try{w.zr(a,function(a){if(a===l)d("DoZeroWidthHeightWorkaround: svg xml not available");else{var b;b=w.Im(a.getAttribute("viewBox"));b===l?d("DoZeroWidthHeightWorkaround: no view box available"):(a.setAttribute("width",b.I),a.setAttribute("height",b.J),a=(new XMLSerializer).serializeToString(a),c("data:image/svg+xml;base64,"+btoa(a)))}})}catch(e){d(e.toString())}};w.Wu=-1!==navigator.userAgent.indexOf("Safari");
w.Ki=function(){var a="undefined"===typeof ArrayBuffer||"undefined"==typeof Uint8Array||"undefined"!==typeof Int8Arary;a||(a=new ArrayBuffer(4),a=new Int8Array(a,1,2),a=2!==a.byteLength);return a}();w.gs=function(){if(w.Ki)return m;var a="undefined"!==typeof DataView,c,d,e,f;if(/opera [56789]|opera\/[56789]/i.test(navigator.userAgent)||/MSIE (\d+\.\d+);/.test(navigator.userAgent))return m;try{if(a){c=new ArrayBuffer(8);d=new Int8Array(c);for(f=0;8>f;++f)d[f]=f;e=new DataView(c);if(a="function"===
typeof e.getFloat64&&"function"===typeof e.getFloat32&&"function"===typeof e.getInt32&&"function"===typeof e.getUint32&&"function"===typeof e.getInt16&&"function"===typeof e.getUint16&&"function"===typeof e.getInt8&&"function"===typeof e.getInt8)e.getFloat64(0),e.getFloat32(0),e.getInt32(0),e.getUint32(0),e.getInt16(0),e.getUint16(0),e.getInt8(0),e.getInt8(0)}}catch(g){return m}return a}();w.Zu=w.Ki||!w.Ol||w.Pl})();var Configuration;
Configuration=function(){this.PlcAddress="0101";this.UseLocalHost=j;this.CommBufferSize=5E4;this.ErrorReconnectTime=1E4;this.Application="Application";this.UpdateRate=200;this.BestFitForDialogs=this.BestFit=m;this.StartVisu="Visualization";this.PollingRegistrationInterval=100;this.TimeMeasurements="";this.LogLevel="INFO";this.MaxUnusedImageAge=2E4;this.MaxUndrawnImageAge=1E4;this.NumCachedImages=15;this.ChangeWindowTitle=j;this.TooltipFont="11px Arial";this.DefaultKeyActions=j;this.ANSIStringEncoding=
"iso-8859-1";this.CommitEditcontrolOnClickOut=j;this.HandleTouchEvents=m;this.FuzzyTransparencyColorEvaluation=j;this.TouchHandlingActive=this.Benchmarking=this.HasKeyboard=this.LoadImagesById=m;this.ClientName="";this.ScaleTypeIsotropic=this.lh=this.SemiTransparencyActive=m;this.GesturesFlickPanThresholdPxPerSecond=1E3;this.GesturesPanFlickTimeThresholdMs=40;this.GesturesPanClickThresholdDistSquare=10;this.PostDataInHeader=0;this.AutoFontReductionActive=m;this.WorkaroundDisableMouseUpDownAfterActiveTouch=
j;this.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch=500;this.DebugOnlyDiagnosisDisplay=this.DebugOnlyPrintTouchRectangles=this.DebugOnlyPrintGestures=this.DebugOnlyPrintRawTouches=this.DebugOnlyPrintPaintCommands=this.WorkaroundForceSVGEmptySizeWorkaround=this.WorkaroundDisableSVGEmptySizeWorkaround=this.WorkaroundDisableSVGAspectRatioWorkaround=this.WorkaroundDisableResizeHandling=m};
Configuration.prototype={fz:function(){"string"!==typeof this.PlcAddress&&h(Error("Plc address must be of type string"));"boolean"!==typeof this.UseLocalHost&&h(Error("UseLocalHost must be of type boolean"));"number"!==typeof this.CommBufferSize&&h(Error("CommBufferSize must be of type number"));"number"!==typeof this.ErrorReconnectTime&&h(Error("ErrorReconnectTime must be of type number"));"string"!==typeof this.Application&&h(Error("Application must be of type string"));"number"!==typeof this.UpdateRate&&
h(Error("UpdateRate must be of type number"));"boolean"!==typeof this.BestFit&&h(Error("BestFit must be of type boolean"));"boolean"!==typeof this.BestFitForDialogs&&h(Error("BestFitForDialogs must be of type boolean"));"string"!==typeof this.StartVisu&&h(Error("StartVisu must be of type string"));"number"!==typeof this.PollingRegistrationInterval&&h(Error("PollingRegistrationInterval must be of type number"));"string"!==typeof this.TimeMeasurements&&h(Error("TimeMeasurements must be of type string"));
"string"!==typeof this.TooltipFont&&h(Error("TooltipFont must be of type string"));"boolean"!==typeof this.DefaultKeyActions&&h(Error("DefaultKeyActions must be of type boolean"));"string"!==typeof this.ANSIStringEncoding&&h(Error("ANSIStringEncoding must be of type string"));"boolean"!==typeof this.FuzzyTransparencyColorEvaluation&&h(Error("FuzzyTransparencyColorEvaluation must be of type boolean"));"boolean"!==typeof this.LoadImagesById&&h(Error("LoadImagesById must be of type boolean"));"boolean"!==
typeof this.Benchmarking&&h(Error("Benchmarking must be of type boolean"));"boolean"!==typeof this.TouchHandlingActive&&h(Error("TouchHandlingActive must be of type boolean"));"boolean"!==typeof this.HasKeyboard&&h(Error("HasKeyboard must be of type boolean"));"boolean"!==typeof this.SemiTransparencyActive&&h(Error("SemiTransparencyActive must be of type boolean"));"boolean"!==typeof this.ScaleTypeIsotropic&&h(Error("ScaleTypeIsotropic must be of type boolean"));("number"!==typeof this.GesturesFlickPanThresholdPxPerSecond||
0>this.GesturesFlickPanThresholdPxPerSecond)&&h(Error("GesturesFlickPanThresholdPxPerSecond must be of type nonnegative number"));("number"!==typeof this.GesturesPanFlickTimeThresholdMs||0>this.GesturesPanFlickTimeThresholdMs)&&h(Error("GesturesPanFlickTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesPanClickThresholdDistSquare||0>this.GesturesPanClickThresholdDistSquare)&&h(Error("GesturesPanClickThresholdDistSquare must be of type nonnegative number"));("number"!==
typeof this.PostDataInHeader||0>this.PostDataInHeader||2<this.PostDataInHeader)&&h(Error("PostDataInHeader must be a number in the range 0..2"));"boolean"!==typeof this.AutoFontReductionActive&&h(Error("AutoFontReductionActive must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintPaintCommands&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintRawTouches&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintGestures&&
h(Error("DebugOnlyPrintGestures must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintTouchRectangles&&h(Error("DebugOnlyPrintTouchRectangles must be of type boolean"));"boolean"!==typeof this.DebugOnlyDiagnosisDisplay&&h(Error("DebugOnlyDiagnosisDisplay must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableMouseUpDownAfterActiveTouch&&h(Error("WorkaroundDisableMouseUpDownAfterActiveTouch must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableResizeHandling&&
h(Error("WorkaroundDisableResizeHandling must be of type boolean"));("number"!==typeof this.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch||0>this.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch)&&h(Error("WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch must be of type nonnegative number"));this.lo();this.ma()},lo:function(){return new pa(this.TooltipFont)},ma:function(){return new ea(this.ANSIStringEncoding)},gf:function(){return new ka(this.ANSIStringEncoding)}};var qa;
qa=function(a,b,c,d,e){this.CommBufferSize=a;this.ra=b;this.Bf=c;this.kq=d;this.Vj=43981;this.M=0;this.nk="";this.Qq=e};var xa;xa=function(a,b,c,d,e,f,g,k,p){this.Vh=a;this.pb=d%360;this.Nr=e;this.Or=f;this.Uh=g;(0===this.Uh||2===this.Uh)&&180<this.pb?(this.pb-=180,this.Nf=k?c:p,this.Ce=b):(this.Nf=b,this.Ce=k?c:p)};
xa.prototype={Ww:function(a,b){if(0===b.k()||0===b.j())return"#ffffff";switch(this.Uh){case 0:return this.hl(a,b,m);case 1:return this.Hr(a,b);case 2:return this.hl(a,b,j);default:return"#ffffff"}},hl:function(a,b,c){var d,e,f,g;f=b.Ow();var k;d=90<this.pb?D.bc(180-this.pb):D.bc(this.pb);e=f.b-Math.max(b.j(),b.k())*Math.cos(d);g=f.c-Math.max(b.j(),b.k())*Math.sin(d);this.tm(f.b,f.c,e,g,b.e,b.g,b.e,b.B)?(f=d,d=b.k()/2*Math.tan(f),d=b.j()/2-d,f=Math.PI/2-f,f=d*Math.cos(f),e=f*f/d,g=d-e,k=Math.sqrt(Math.max(0,
g*e)),d=b.e-k,f=b.g+g,e=b.w+k,g=b.B-g):this.tm(f.b,f.c,e,g,b.e,b.g,b.w,b.g)?(f=d,d=b.j()/2/Math.tan(f),d=b.k()/2-d,f=Math.PI/2-f,f=Math.cos(f)*d,e=f*f/d,k=Math.sqrt(Math.max(0,(d-e)*e)),d=b.e+e,f=b.g-k,e=b.w-e,g=b.B+k):(d=b.e,f=b.g,e=b.w,g=b.B);90<this.pb&&(d=b.w-(d-b.e),e=b.w-(e-b.e));a=a.createLinearGradient(d,f,e,g);a.addColorStop(0,this.Nf);c?(a.addColorStop(0.45,this.Ce),a.addColorStop(0.55,this.Ce),a.addColorStop(1,this.Nf)):a.addColorStop(1,this.Ce);return a},Hr:function(a,b){var c=new z(b.e+
b.k()*this.Nr,b.g+b.j()*this.Or),d=this.mt(b,c),c=a.createRadialGradient(c.b,c.c,0,c.b,c.c,d);c.addColorStop(0,this.Nf);c.addColorStop(1,this.Ce);return c},tm:function(a,b,c,d,e,f,g,k){var p;p=(k-f)*(c-a)-(g-e)*(d-b);g=(g-e)*(b-f)-(k-f)*(a-e);a=(c-a)*(b-f)-(d-b)*(a-e);if(0===p)return g===a;b=g/p;p=a/p;return 0<=b&&1>=b&&0<=p&&1>=p},mt:function(a,b){var c=[],d,e;c[0]=this.Pf(new z(a.e,a.g),b);c[1]=this.Pf(new z(a.w,a.g),b);c[2]=this.Pf(new z(a.w,a.B),b);c[3]=this.Pf(new z(a.e,a.B),b);for(d=e=0;4>d;++d)e=
Math.max(e,c[d]);return Math.sqrt(e)},Pf:function(a,b){return(a.b-b.b)*(a.b-b.b)+(a.c-b.c)*(a.c-b.c)}};var Ja;Ja=function(a){this.a=a;this.Je()};
Ja.prototype={Je:function(){var a=this.a.N.s.canvas,b=this;a.addEventListener("keydown",function(a){b.Zt(a)},m);a.addEventListener("keypress",function(a){b.$t(a)},m);a.addEventListener("keyup",function(a){b.au(a)},m)},$t:function(a){var b=this.a.l,a=this.bt(a);b!==l&&a!==l&&this.a.Xb(E.wp(b.M,a))},Zt:function(a){var b=this.cm(a),c=this.a.l;this.il(a);c!==l&&b!==l&&this.a.Xb(E.Sj(G.Rp,c.M,b.key,b.Yb))},au:function(a){var b=this.cm(a),c=this.a.l;this.il(a);c!==l&&b!==l&&this.a.Xb(E.Sj(G.Sp,c.M,b.key,
b.Yb))},cm:function(a){var a=a?a:event,b=a.keyCode,c=0;if(16<=b&&18>=b)return l;a.shiftKey&&(c|=1);a.altKey&&(c|=2);a.ctrlKey&&(c|=4);return{key:b,Yb:c}},bt:function(a){var a=a?a:event,b=0;if(a.charCode)b=a.charCode;else if(a.which)b=a.which;if(0===b||a.altKey!==i&&a.altKey===j&&48<=b&&57>=b)return l;if(a.ctrlKey!==i&&a.ctrlKey||a.altKey!==i&&a.altKey)if(!(a.ctrlKey!==i&&a.ctrlKey)||!(a.altKey!==i&&a.altKey))return l;return String.fromCharCode(b)},il:function(a){this.a.i!==l&&!this.a.i.DefaultKeyActions&&
a.preventDefault&&a.preventDefault()}};var Pa;Pa=function(a){this.a=a;this.bg=m;this.$h=0;this.Je()};
Pa.prototype={Vo:r("bg"),uy:r("$h"),Je:function(){var a=this.a.N.s.canvas,b=this;a.addEventListener("mouseup",function(a){b.gu(a)},m);a.addEventListener("mousedown",function(a){b.du(a)},m);a.addEventListener("mousemove",function(a){b.eu(a)},m);a.addEventListener("mouseout",function(a){b.fu(a)},m);a.addEventListener("touchstart",function(a){b.Pe(a)},j);a.addEventListener("touchmove",function(a){b.Pe(a)},j);a.addEventListener("touchend",function(a){b.Pe(a)},j)},Vf:function(a,b){this.a.l!==l&&this.a.Xb(E.Tj(b,
this.a.l.M,w.xf(a)))},im:function(a){return 1===a.which},gu:function(a){C.Y()<this.$h||this.im(a)&&this.Vf(a,G.bk)},du:function(a){!(C.Y()<this.$h)&&this.im(a)&&(this.a.nc.ro()&&this.a.nc.Xi(this.a.i.CommitEditcontrolOnClickOut),this.a.Mc.wx(a),this.Vf(a,G.fh))},eu:function(a){this.bg||this.Vf(a,G.gh)},fu:function(a){this.Vf(a,G.Wp)},Pe:function(a){if(this.a.i!==l&&this.a.i.HandleTouchEvents&&!this.a.i.TouchHandlingActive){var b,c=l;switch(a.type){case "touchstart":b=G.fh;this.bg=j;break;case "touchmove":b=
G.gh;break;case "touchend":b=G.bk;this.bg=m;break;default:return}a.touches&&1<=a.touches.length?c=w.yf(a.touches[0]):a.changedTouches&&1<=a.changedTouches.length&&(c=w.yf(a.changedTouches[0]));c!==l&&(this.a.l!==l&&(b===G.fh&&this.a.Mc.$y(c),this.a.Xb(E.Tj(b,this.a.l.M,c))),a.preventDefault())}}};var Qa;Qa=function(a,b,c){this.zd=a;this.fs=b;this.Gh=c;this.Dm=J.n(1E3)};Qa.prototype={vx:function(){return this.fs-this.Dm.size()},Zb:s("Dm"),finish:function(){this.Gh=0},Hg:function(){return 0===this.Gh}};
var Ra;Ra=r("a");Ra.prototype={cy:function(){var a=this.a.wa(),b=this.a.Ia();b.kz(this.a.l.M);a.La(b.Ja(),this,j)},lb:o(),O:o()};var Sa;
Sa=function(a,b,c,d){this.a=a;var b=this.Zl(b),c=this.Zl(c),e=1;(b.width!==c.width||b.height!==c.height)&&h(Error("Expected two canvasses of the same size"));w.fq(b,c);this.na=this.$l(b);this.s=this.$l(c);this.Dv=Wa.cq();d&&(this.no()&&(e=w.ne()),this.Yn(e));this.Th=new Xa;this.Wl=new Ya(this.s);this.Kf=new Ya(this.na);this.Pd=m;this.bi=new Za;this.ai=new $a(this.a);this.og=new ab(this);this.Li=new bb(this);this.Eh=m;this.ms=new gb(a);this.Ua=new hb};
Sa.prototype={zc:function(){return new L(0,0,this.na.canvas.width,this.na.canvas.height)},clear:function(){this.s.clearRect(0,0,this.s.canvas.width,this.s.canvas.height);this.na.fillStyle="#ffffff";this.na.fillRect(0,0,this.na.canvas.width,this.na.canvas.height)},Nw:function(){var a=C.qh(this.na.canvas);return new z(a.e,a.g)},getContext:function(){var a,b;a=l;b=this.Ua.Si();-1!==b&&(a=this.Ua.Rg(b));return this.Pd?a!==l?a.na:this.na:a!==l?a.De:this.s},F:function(){var a,b;a=l;b=this.Ua.Si();-1!==
b&&(a=this.Ua.Rg(b));return this.Pd?a!==l?a.Kf:this.Kf:a!==l?a.Br:this.Wl},Ux:function(){this.Pd=j},Vx:function(){this.Pd=m},bw:function(){this.Eh=j},Ew:function(a,b){this.a.Mc.Uy();this.Th.clear();this.s.save();this.Wl.apply();this.Kf.apply();var c=this.Iu(a),d,e=m,f=this;for(d=0;d<c.length;++d)c[d]instanceof ib&&!c[d].gx(this.ai,this.bi)&&(e=j),c[d]instanceof jb&&c[d].execute(this);this.Lr()?(e?(WebvisuLogger.R("Waiting for image(s) to load"),this.ai.Sv(function(){WebvisuLogger.R("Loading image(s) finished so continue with drawing");
f.Bl(c,b)})):this.Bl(c,b),this.a.da!==l&&this.a.da.o.Ie&&this.qs()):b()},yx:function(){(new kb).Mv("DevicePixelRatioChanged","true")},no:function(){return(new kb).dx("DevicePixelRatioChanged")},Dh:function(a){this.na.canvas.width=this.s.canvas.width=a.I;this.na.canvas.height=this.s.canvas.height=a.J},zl:function(){return new B(document.documentElement.clientWidth,document.documentElement.clientHeight)},Yn:function(a){this.Dv&&(a=1);try{var b=this.zl(),c;this.Dh(b.scale(a));c=this.zl();(c.I>b.I||c.J>
b.J)&&this.Dh(c.scale(a))}catch(d){WebvisuLogger.warn("Exception during resizing canvasses: "+d),this.Dh((new B(window.innerWidth,window.innerHeight)).scale(a))}},Bl:function(a,b){if(this.Eh)this.a.Ln(),this.Eh=m;var c,d,e=[];for(c=0;c<a.length;++c)d=a[c],d instanceof lb?d.execute(this):d instanceof mb&&e.push(d);this.Th.Qv(this.s);for(c=0;c<a.length;++c)d=a[c],!(d instanceof lb)&&!(d instanceof mb)&&!(d instanceof jb)&&a[c].execute(this);this.s.restore();for(c=0;c<e.length;++c)e[c].execute(this);
this.uu();this.a.Mc.Cw(0===a.length);this.ms.xg(this.s);b()},Lr:function(){return this.a.da===l||this.a.da.o.Ie||!this.a.da.o.kj()},uu:function(){if(!this.a.l.kq){if(this.Rl===i)this.Rl=C.Y();if(!(3E4>C.Y()-this.Rl)){this.s.save();var a=new L(this.s.canvas.width-160,10,this.s.canvas.width-10,50);this.s.strokeStyle="#808080";this.s.fillStyle="#c7c7c7";this.s.lineWidth=2;D.Wj(this.s,a.e,a.g,a.k(),a.j(),j,j);this.s.fillStyle="#ffffff";this.s.font="16px Arial";this.s.textAlign="center";this.s.textBaseline=
"middle";this.s.fillText("Demo Mode",a.e+a.k()/2,a.g+a.j()/2);this.s.restore()}}},Iu:function(a){var b=Array(a.zd),c,d;if(0<a.zd){c=N.n(a.Zb().Zb(),this.a.l.ra,this.a.ma());c=new nb(c);for(d=0;d<a.zd;++d)if(c.G()<c.size()-4){var e=c.G(),f=c.getUint32(),g=c.getUint32();b[d]=ob.xp(g,c,f,this);c.seek(e+f)}}return b},Zl:function(a){var b=window.document.getElementById(a);b===l&&h(Error("Canvas "+a+" does not exist"));return b},$l:function(a){a=a.getContext("2d");a===l&&h(Error("Creating graphics context failed"));
return a},qs:function(){var a,b,c,d,e=this.a.da;if(e!==l)for(a=0;a<e.pa.C.length;++a)if(c=e.pa.Zw(a),c.info().qj(0)!==l&&(b=e.rb,b!==l))d=this.s,d.save(),b.Bo(this,c),d.restore()}};var pb;pb=function(a,b,c){this.Sc=m;this.De=a;this.na=b;this.Br=new Ya(this.De);this.Kf=new Ya(this.na);this.Rd=c};pb.prototype={wy:r("Sc"),size:s("Rd")};var Ya;
Ya=function(a){this.Jd=l;this.Oh="#ffffff";this.em=m;this.fi="#000000";this.Kd=m;this.gi=0.5;this.fn="#000000";this.qb="12px Arial";this.Fe=12;this.X=a;this.ui=new z(0,0);this.si=new z(0,0)};
Ya.prototype={py:function(a,b){this.Oh=a;this.em=b;this.X.fillStyle=this.Oh},Ay:function(a,b,c,d,e,f){this.gi=a;this.fi=b;this.Sb=c;this.fc=d;this.gc=e;this.we=f;this.X.strokeStyle=this.fi;this.X.lineWidth=Math.max(1,this.gi);this.X.lineCap=this.fc;this.X.lineJoin=this.gc;this.X.miterLimit=this.we;if("function"===typeof this.X.setLineDash){if(this.Kd=m,0===this.Sb&&this.X.setLineDash([]),1===this.Sb&&this.X.setLineDash([8,3]),2===this.Sb&&this.X.setLineDash([3,3]),3===this.Sb&&this.X.setLineDash([8,
3,3,3]),4===this.Sb&&this.X.setLineDash([8,3,3,3,3,3]),5===this.Sb)this.Kd=j,this.X.setLineDash([0,0])}else this.Kd=5===this.Sb},Py:function(a,b,c){this.qb=a;this.Fe=b;this.fn=c;this.X.font=this.qb},apply:function(){this.X.fillStyle=this.Oh;this.X.strokeStyle=this.fi;this.X.lineWidth=this.gi;this.X.font=this.qb;this.X.lineCap=this.fc;this.X.lineJoin=this.gc;this.X.miterLimit=this.we},jj:function(){return this.Jd===l?this.em:this.Jd.Vh},Ac:function(){return this.Jd!==l},sy:r("Jd"),Sg:function(){this.Jd=
l;this.apply()},ug:function(a){this.X.fillStyle=this.Jd.Ww(this.X,a)},Uo:r("Fe"),qy:function(a){this.qb=a;this.X.font=this.qb}};var hb;hb=function(){this.Db=[];this.xe=[];this.xt=m};
hb.prototype={Rg:function(a){return this.Db.length>a?this.Db[a]:l},Lv:function(a,b){this.Db[a]=b},Tx:function(a){this.Db.length>a&&(this.Db[a]=l)},Si:function(){return 0<this.xe.length?this.xe[this.xe.length-1]:-1},Ix:function(a){this.xe.push(a)},Gx:function(){return this.xe.pop()},vy:r("xt"),$v:function(a){for(var b=0;b<this.Db.length;++b)if(this.Db[b]!==l&&this.Db[b].Sc){var c=this.Db[b].De,d=this.Db[b].na.canvas;c.save();c.beginPath();c.rect(a.e,a.g,a.k(),a.j());c.clip();c.drawImage(d,0,0);c.restore()}}};
var qb;qb=o();qb.mr="3.5.13.0";var rb;rb=function(a,b,c){this.zt();WebvisuLogger.info("Webvisualization starting");WebvisuLogger.info("Version: "+qb.mr);this.da=this.Qd=l;this.nc=new sb(this);this.xi();this.N=new Sa(this,a,b,c);this.Je();this.lA=new Ja(this);this.ni=new Pa(this);this.Mc=new tb(this);this.At(b);this.Ye=l;this.Lh=new ub(new Configuration);this.Ei("Loading Webvisualization");this.Uf=l;this.ib=-1;this.Bd=new vb(this);this.Ll()};window.Webvisu=rb;
rb.prototype={Ll:function(){var a=this.Bd;if(this.Uf!==l)this.ha!==l&&this.ha.push(this.Uf),this.Uf=l;this.Bd=l;try{a.execute()}catch(b){this.error("Unexpected Exception: "+b)}},xi:function(){this.ha=this.i=this.d=this.l=l;this.qA=this.Km=m;if(this.da!==l)this.da.aj(),this.da=l;this.nc.ro()&&this.nc.close();this.Qd!==l&&this.Qd.detach();WebvisuExtensionMgr.tw()},Je:function(){var a=this;window.addEventListener("unload",function(b){a.bu(b)},m)},At:function(a){var b="WebvisuAutotestInst";window[b]=
new WebvisuAutotest(this,a);window.WebvisuAutotest_raiseMouse=window[b].raiseMouse;window.WebvisuAutotest_raiseKey=window[b].raiseKey;b="WebvisuExtensionMgr";window[b]=WebvisuExtensionMgr;window.WebvisuExtensionMgr_register=window[b].register;window.WebvisuExtensionMgr_openControlRelative=window[b].openControlRelative},zt:function(){WebvisuLogger=v.gj();var a=window.document.getElementById("WebvisuLoggingElem");a!==l?(a=new v.eq(a),a.Hy(),a.Wg(m),a.tj(100)):(a=new v.qp,a.Qy());WebvisuLogger.un(a);
WebvisuLogger.Ib(v.cc.md)},Ei:function(a){this.Ye!==l&&this.Ln();this.Ye=new wb(a,this.N)},Ln:function(){this.Ye!==l&&this.Ye.close();this.Ye=l},wa:function(){return new xb(this)},Ia:function(){return this.l===l?new yb(j,43981,5E4):new yb(this.l.ra,this.l.Vj,this.l.CommBufferSize)},Qo:function(a){"TRACE"===a.LogLevel?WebvisuLogger.Ib(v.cc.zh):"DEBUG"===a.LogLevel?WebvisuLogger.Ib(v.cc.me):"INFO"===a.LogLevel?WebvisuLogger.Ib(v.cc.md):"WARNING"===a.LogLevel?WebvisuLogger.Ib(v.cc.fA):"ERROR"===a.LogLevel?
WebvisuLogger.Ib(v.cc.oe):"FATAL"===a.LogLevel?WebvisuLogger.Ib(v.cc.ek):WebvisuLogger.warn("Unexpected loglevel: "+a.LogLevel);this.i=a;this.Lh=new ub(a);if(this.i.TouchHandlingActive)this.da=new zb(this);if(this.i.BestFit&&!this.i.WorkaroundDisableResizeHandling){if(this.Qd===l)this.Qd=new Ab(this);this.Qd.Rv()}},ma:function(){return this.Lh.Jh},gf:function(){return this.Lh.Fd},Yo:function(a){!window.btoa&&a&&(WebvisuLogger.warn("POST data in header should be done but is not supported by the browser"),
a=m);this.Km=a},gy:r("l"),ie:function(a){this.d=a===l?l:a},H:function(a,b){this.Bd=a;0>=b&&(b=0);this.$m(b)},oy:r("Uf"),ev:r("Bd"),error:function(a){WebvisuLogger.error(a);a=this.i!==l?this.i.ErrorReconnectTime:1E4;WebvisuLogger.info("Will restart in "+a+"ms");this.xi();this.Ru();this.Ei("An error happened; will automatically restart");this.H(new Bb(this),a)},tx:function(){this.gp("The webvisualization license expired.","License Expired")},gp:function(a,b){WebvisuLogger.warn(a+" Webvisualization is stopped");
this.Ei(b);this.xi();this.ev(new Bb(this))},ny:r("ha"),$m:function(a){var b=this;this.ib=window.setTimeout(function(){b.Ll()},a)},Xb:function(a){this.ha!==l&&(this.ha.push(a),this.Bd!==l&&this.Bd.Kn()&&(clearTimeout(this.ib),this.$m(0)))},bu:function(){this.l!==l&&(new Ra(this)).cy()},Ru:function(){var a=this.N.s,b;for(b=0;20>b;++b)a.restore()}};var WebvisuAutotest;WebvisuAutotest=function(a,b){this.a=a;this.kl=b};
WebvisuAutotest.prototype={raiseMouse:function(a,b,c){var d,e,f=window.document.getElementById(this.kl),g;d="mousemove"!==a;e=window;g=window.document.createEvent("MouseEvents");g.initMouseEvent(a,j,d,e,0,b,c,b,c,m,m,m,m,0,f);Object.defineProperty(g,"layerX",{value:b});Object.defineProperty(g,"layerY",{value:c});g.button=1;g.which=1;f.dispatchEvent(g)},raiseKey:function(a,b,c,d,e){var f=this.a.nc.eb;f!==l?13===b||27===b||37===b||38===b||39===b||40===b?this.Om(f,a,b,c,d,e):this.Hu(f,b,a,c):this.Om(window.document.getElementById(this.kl),
a,b,c,d,e)},Hu:function(a,b,c,d){if("keypress"===c){var c=a.selectionStart,e=a.selectionEnd,b=String.fromCharCode(b);d||(b=b.toLowerCase());a.value=a.value.substr(0,c)+b+a.value.substr(e);c===e&&this.at(a);this.cv(a,c+1)}},cv:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",b);c.select()}},at:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),
b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},Om:function(a,b,c,d,e,f){var g;window.document.createEventObject!==i?(g=document.createEvent("Events"),g.initEvent(b,j,j),g.which=c,g.keyCode=c,g.shiftKey=d,g.ctrlKey=f,g.altKey=e,g.metaKey=m):(g=window.document.createEvent("KeyboardEvent"),g.initKeyboardEvent===i?g.initKeyEvent(b,j,j,l,f,e,d,m,c,c,c,a):g.initKeyboardEvent(b,j,j,l,f,e,d,m,c,c,c,a),delete g.keyCode,
Object.defineProperty(g,"keyCode",{value:c}),delete g.charCode,Object.defineProperty(g,"charCode",{value:0}),delete g.shiftKey,Object.defineProperty(g,"shiftKey",{value:d}),delete g.ctrlKey,Object.defineProperty(g,"ctrlKey",{value:f}),delete g.altKey,Object.defineProperty(g,"altKey",{value:e}),delete g.metaKey,Object.defineProperty(g,"metaKey",{value:m}),delete g.which,Object.defineProperty(g,"which",{value:0}),delete g.target,Object.defineProperty(g,"target",{value:a}));a.dispatchEvent(g)}};var WebvisuExtensionMgr;
(function(){var a;a=function(){this.Nh=[];this.vd={}};a.prototype={register:function(a){a===l&&h(Error("null value not expected"));"function"!==typeof a.instantiateIf&&h(Error("function instantiateIf of extensionFactory expected"));this.Nh.push(a)},openControlRelative:function(a,c,d,e,f,g){a===l&&h(Error("null value not expected"));"number"!==typeof c&&h(new TypeError("Expected numeric value"));"number"!==typeof d&&h(new TypeError("Expected numeric value"));"number"!==typeof e&&h(new TypeError("Expected numeric value"));
"number"!==typeof f&&h(new TypeError("Expected numeric value"));g===l&&h(Error("null value not expected"));c=new L(c,d,c+e,d+f);d=C.qh(g);c=c.ub(d.e,d.g);C.re(a,c);a.style.zIndex=300;g.parentNode.appendChild(a)},az:function(a){var c;for(c=0;c<this.Nh.length;++c){var d=this.Nh[c].instantiateIf(a);if(d!==l&&d!==i){if(this.Bv(d))return d;break}}return l},tw:function(){var a;for(a=0;a<this.vd.length;++a)this.vd[a]&&this.Wn(a);this.vd=[]},lw:function(a,c,d,e){a.create(d.e,d.g,d.k(),d.j(),e);this.vd[c]=
a},Wn:function(a){var c=this.Zf(a);c!==l&&(c.destroy(),delete this.vd[a])},kw:function(a,c){var d=this.Zf(a);d!==l&&d.setVisibility(c)},jw:function(a,c){var d=this.Zf(a);d!==l&&d.move(c.e,c.g,c.k(),c.j())},iw:function(a,c,d){a=this.Zf(a);return a===l?l:a.invoke(c,d)},Zf:function(a){var c=this.vd[a];return!c?(WebvisuLogger.warn("Not existing extension with id "+a+" accessed; ignored"),l):c},Bv:function(a){return!this.Ae(a,"create")||!this.Ae(a,"setVisibility")||!this.Ae(a,"move")||!this.Ae(a,"invoke")||
!this.Ae(a,"destroy")?m:j},Ae:function(a,c){return"function"!==typeof a[c]?(WebvisuLogger.warn("Extension object is missing an implementation of '"+c+"'"),m):j}};WebvisuExtensionMgr=new a})();var J;J=function(a){a===i&&(a=10);this.t=new ArrayBuffer(a);this.Ob=new Uint8Array(this.t);this.ca=0};J.n=function(a){return w.ve()?new Cb:new J(a)};
J.prototype={Su:function(){this.Um(this.Vt(this.t.byteLength))},Um:function(a){var b=this.Ob;this.t=new ArrayBuffer(a);this.Ob=new Uint8Array(this.t);for(a=0;a<this.ca;++a)this.Ob[a]=b[a]},Vt:function(a){return 500>a?2*a:Math.floor(1.3*a)},kg:function(a,b){this.Ob[a]=b},Io:function(a){a>this.t.byteLength&&this.Um(a)},sg:function(a){this.ca>=this.t.byteLength&&this.Su();var b=this.ca;this.ca++;this.kg(b,a)},Cn:function(a,b,c){var d=new Uint8Array(a),e;this.Io(this.size()+c);if(200<c&&0===b%4&&0===
this.ca%4&&!w.Hk()){var f=Math.floor(c/4);e=Math.floor(this.ca/4);var a=new Uint32Array(a,4*Math.floor(b/4),f),g=new Uint32Array(this.t,4*e,f),k=c-4*f;for(e=0;e<f;++e)g[e]=a[e];for(e=0;e<k;++e)this.Ob[this.ca+e+4*f]=d[b+e+4*f]}else for(e=0;e<c;++e)this.Ob[this.ca+e]=d[b+e];this.ca+=c},rj:function(a,b){this.kg(a,b)},ao:function(a){return this.Ob[a]},size:s("ca"),Zb:function(){var a=new ArrayBuffer(this.ca),b=new Uint8Array(this.t),c,d=new Uint8Array(a);for(c=0;c<this.ca;++c)d[c]=b[c];return a}};var Cb;
(function(){function a(a){return String.fromCharCode((a>>4)+65)+String.fromCharCode((a&15)+65)}Cb=function(){this.t="";this.ca=0};Cb.prototype={kg:function(b,c){var d=l,e=l,f;0<b&&(d=this.t.substr(0,2*b));b<this.ca-1&&(e=this.t.substr(2*b+2,this.t.length-2*b-2));f="";d!==l&&(f=d);f=f.concat(a(c));e!==l&&(f=f.concat(e));this.t=f},Io:o(),sg:function(b){this.t=this.t.concat(a(b));this.ca++},Pv:function(b){var c="",d;for(d=0;d<b.length;++d)c=c.concat(a(b.charCodeAt(d)));this.t=this.t.concat(c);this.ca+=
c.length/2},Cn:function(a,c,d){this.t=this.t.concat(a.substr(2*c,2*d));this.ca+=d},rj:function(a,c){this.kg(a,c)},ao:function(a){return this.t.charCodeAt(2*a)-65<<4|this.t.charCodeAt(2*a+1)-65},size:s("ca"),Zb:s("t")}})();var N;
(function(){function a(a,b,c){return function(){if(0===this.h%c&&(1===c||this.Q))try{return(new a[b+"Array"](this.t,this.h,1))[0]}catch(d){}return l}}function b(a,b){return function(){var c=this["getOptimized"+a]();c===l&&(c=this["_get"+a]());this.h+=b;return c}}function c(c,d){N.prototype["getOptimized"+c]=a(this,c,d);N.prototype["get"+c]=b(c,d)}N=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));
c===i&&(c=(new Configuration).ma());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ea||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.Q=b;this.ic=e;this.t=a;this.h=d;this.Ob=new Uint8Array(this.t);this.rc=c;this.p=new Db(this,this.Q)};N.n=function(a,b,c,d,e){return w.Cp()?new Eb(a,b,c,d,e):w.ve()?new Fb(a,b,c,d,e):new N(a,b,c,d,e)};N.prototype={ce:s("Q"),je:s("rc"),getString:function(a,
b){var c=a*(b?2:1),d;(0>a||this.h+c>this.t.byteLength)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.p.Go(this.t,this.h,a,c,b,this.rc);this.h+=c;return d},$b:function(a){return this.p.$b(a)},$d:function(){return String.fromCharCode(this.getUint8())},bd:function(){return this.h>=this.ic},G:s("h"),seek:r("h"),size:s("ic"),it:function(){return this.p.Rn()},ht:function(){return this.p.Qn()},kt:function(){return this.p.Tn()},pt:function(){return this.p.$i()},jt:function(){return this.p.Sn()},ot:function(){return this.p.Zi()},
lt:function(){return this.p.Un()},L:function(a){return this.Ob[a]},getUint8:function(){var a=this.L(this.h);this.h++;return a},ff:s("t")};var d={Int8:1,Int16:2,Int32:4,Uint16:2,Uint32:4,Float32:4,Float64:8},e,f;for(e in d)if(d.hasOwnProperty(e))c(e,d[e]),f="_getFloat64",N.prototype[f]=N.prototype.it,f="_getFloat32",N.prototype[f]=N.prototype.ht,f="_getInt32",N.prototype[f]=N.prototype.kt,f="_getUint32",N.prototype[f]=N.prototype.pt,f="_getInt16",N.prototype[f]=N.prototype.jt,f="_getUint16",N.prototype[f]=
N.prototype.ot,f="_getInt8",N.prototype[f]=N.prototype.lt})();var nb;nb=r("p");
nb.prototype={ce:function(){return this.p.ce()},je:function(){return this.p.je()},getString:function(a,b){return this.p.getString(a,b)},$b:function(a){return this.p.$b(a)},$d:function(){return this.p.$d()},bd:function(){return this.p.bd()},G:function(){return this.p.G()},seek:function(a){this.p.seek(a)},size:function(){return this.p.size()},getFloat64:function(){this.wd(8);return this.p.getFloat64()},getFloat32:function(){this.wd(4);return this.p.getFloat32()},getInt32:function(){this.wd(4);return this.p.getInt32()},
getUint32:function(){this.wd(4);return this.p.getUint32()},getInt16:function(){this.wd(2);return this.p.getInt16()},getUint16:function(){this.wd(2);return this.p.getUint16()},getInt8:function(){return this.p.getInt8()},getUint8:function(){return this.p.getUint8()},L:function(a){return this.p.L(a)},ff:function(){return this.p.ff()},wd:function(a){var b=this.p.G();8!==a&&4!==a&&2!==a||0===b%a||this.p.seek(b+a-b%a)}};var Eb;
Eb=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader_DataView requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ma());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ea||h(new TypeError("BinaryReader_DataView requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.Q=b;this.vc=new DataView(a,0,e+d);this.ic=e;this.t=a;this.h=d;this.rc=
c;this.p=new Db(this,this.Q)};
Eb.prototype={ce:s("Q"),je:s("rc"),getString:function(a,b){var c=a*(b?2:1),d;(0>a||2*(this.h+c)>this.t.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.p.Go(this.t,this.h,a,c,b,this.rc);this.h+=c;return d},$b:function(a){return this.p.$b(a)},$d:function(){return String.fromCharCode(this.getUint8())},bd:function(){return this.h>=this.ic},G:s("h"),seek:r("h"),size:s("ic"),getFloat64:function(){var a=this.vc.getFloat64(this.h,this.Q);this.h+=8;return a},getFloat32:function(){var a=this.vc.getFloat32(this.h,
this.Q);this.h+=4;return a},getInt32:function(){var a=this.vc.getInt32(this.h,this.Q);this.h+=4;return a},getUint32:function(){var a=this.vc.getUint32(this.h,this.Q);this.h+=4;return a},getInt16:function(){var a=this.vc.getInt16(this.h,this.Q);this.h+=2;return a},getUint16:function(){var a=this.vc.getUint16(this.h,this.Q);this.h+=2;return a},getInt8:function(){var a=this.vc.getInt8(this.h);this.h++;return a},getUint8:function(){var a=this.L(this.h);this.h++;return a},L:function(a){return this.vc.getUint8(a)},
ff:s("t")};var Fb;Fb=function(a,b,c,d,e){"string"!==typeof a&&h(new TypeError("BinaryReader_StringBased expects a string"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ma());d===i&&(d=0);e===i&&(e=a.length/2);c instanceof ea||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.length/2)&&h(Error("Valid data range exceeded"));this.Q=b;this.ic=e;this.t=a;this.h=d;this.rc=c;this.p=new Db(this,b)};
Fb.prototype={ce:s("Q"),je:s("rc"),getString:function(a,b){var c=a*(b?2:1),d,e;(0>a||2*(this.h+c)>this.t.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=Array(a);if(b){var f;if(this.Q)for(e=0;e<a;++e)f=2*e+this.h,d[e]=(this.L(f+1)<<8)+this.L(f);else for(e=0;e<a;++e)f=2*e+this.h,d[e]=this.L(f+1)+(this.L(f)<<8);d=String.fromCharCode.apply(l,d)}else{for(e=this.h;e<this.h+a;++e)d[e-this.h]=this.L(e);d=this.rc.qw(d)}this.h+=c;return d},$b:function(a){return this.p.$b(a)},$d:function(){return String.fromCharCode(this.getUint8())},
bd:function(){return this.h>=this.ic},G:s("h"),seek:r("h"),size:s("ic"),getFloat64:function(){var a=this.p.Rn();this.h+=8;return a},getFloat32:function(){var a=this.p.Qn();this.h+=4;return a},getInt32:function(){var a=this.p.Tn();this.h+=4;return a},getUint32:function(){var a=this.p.$i();this.h+=4;return a},getInt16:function(){var a=this.p.Sn();this.h+=2;return a},getUint16:function(){var a=this.p.Zi();this.h+=2;return a},getInt8:function(){var a=this.p.Un();this.h++;return a},getUint8:function(){var a=
this.L(this.h);this.h++;return a},L:function(a){return this.t.charCodeAt(2*a)-65<<4|this.t.charCodeAt(2*a+1)-65},ff:s("t")};var Db;Db=function(a,b){this.K=a;this.Q=b};
Db.prototype={$b:function(a){var b=this.K.G(),c=0;if(a)for(;0!==this.K.getUint16();)c++;else for(;0!==this.K.getUint8();)c++;this.K.seek(b);b=this.K.getString(c,a);a?this.K.getUint16():this.K.getUint8();return b},Rn:function(){var a=this.K.G(),b=this.K.L(this.ka(a,0,8)),c=this.K.L(this.ka(a,1,8)),d=this.K.L(this.ka(a,2,8)),e=this.K.L(this.ka(a,3,8)),f=this.K.L(this.ka(a,4,8)),g=this.K.L(this.ka(a,5,8)),k=this.K.L(this.ka(a,6,8)),p=this.K.L(this.ka(a,7,8)),a=1-2*(b>>7),b=((b<<1&255)<<3|c>>4)-(Math.pow(2,
10)-1),c=(c&15)*Math.pow(2,48)+d*Math.pow(2,40)+e*Math.pow(2,32)+f*Math.pow(2,24)+g*Math.pow(2,16)+k*Math.pow(2,8)+p;return 1024===b?0!==c?NaN:Infinity*a:-1023===b?a*c*Math.pow(2,-1074):a*(1+c*Math.pow(2,-52))*Math.pow(2,b)},Qn:function(){var a=this.K.G(),b=this.K.L(this.ka(a,0,4)),c=this.K.L(this.ka(a,1,4)),d=this.K.L(this.ka(a,2,4)),e=this.K.L(this.ka(a,3,4)),a=1-2*(b>>7),b=(b<<1&255|c>>7)-127,c=(c&127)<<16|d<<8|e;return 128===b?0!==c?NaN:Infinity*a:-127===b?a*c*Math.pow(2,-149):a*(1+c*Math.pow(2,
-23))*Math.pow(2,b)},Tn:function(){var a=this.$i();return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},$i:function(){var a=this.K.G(),b=this.K.L(this.ka(a,0,4)),c=this.K.L(this.ka(a,1,4)),d=this.K.L(this.ka(a,2,4)),a=this.K.L(this.ka(a,3,4));return b*Math.pow(2,24)+(c<<16)+(d<<8)+a},Sn:function(){var a=this.Zi();return a>Math.pow(2,15)-1?a-Math.pow(2,16):a},Zi:function(){var a=this.K.G(),b=this.K.L(this.ka(a,0,2)),a=this.K.L(this.ka(a,1,2));return(b<<8)+a},Un:function(){var a=this.K.L(this.K.G());return a>
Math.pow(2,7)-1?a-Math.pow(2,8):a},Go:function(a,b,c,d,e,f){var g=l;if(e){if(this.Q&&0===b%2)try{g=new Int16Array(a,b,c)}catch(k){}if(g===l)if(g=new Int16Array(Array(c)),b=new Uint8Array(a,b,d),this.Q)for(a=0;a<c;++a)g[a]=(b[2*a+1]<<8)+b[2*a];else for(a=0;a<c;++a)g[a]=b[2*a+1]+(b[2*a]<<8);b=[];for(a=0;a<c;++a)b[a]=g[a];return String.fromCharCode.apply(l,b)}g=new Int8Array(a,b,c);return f.Yi(g)},ka:function(a,b,c){return a+(this.Q?c-b-1:b)}};var O;
O=function(a,b,c){a instanceof J||h(new TypeError("BinaryWriter expects a BinaryBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.Nc=a;this.Q=b;this.Qa=-1;this.Mh=c};O.n=function(a,b,c){c=new Kb(c);return w.ve()?new Lb(a,b,c):new O(a,b,c)};
O.prototype={nv:function(a){var b=a.length/2,c,d;1!==b&&2!==b&&4!==b&&h(Error("Unexpected size for swapping"));for(d=0;d<b;++d)c=a[d],a[d]=a[a.length-d-1],a[a.length-d-1]=c},Lc:function(a,b,c){var d=new ArrayBuffer(c),b=new b(d),d=new Uint8Array(d);b[0]=a;1<c&&!this.Q&&this.nv(d,c);for(a=0;a<c;++a)this.cl(d[a])},cl:function(a){-1!==this.Qa?(this.Nc.rj(this.Qa,a),this.Qa++):this.Nc.sg(a)},seek:r("Qa"),G:function(){return-1!==this.Qa?this.Qa:this.Nc.size()},tg:function(a){var b=[204,221],c;for(c=0;c<
a;++c)this.$(b[c%2])},$:function(a){this.cl(a)},Bn:function(a){this.Lc(a,Int8Array,1)},ia:function(a){this.Lc(a,Uint16Array,2)},Va:function(a){this.Lc(a,Int16Array,2)},r:function(a){this.Lc(a,Uint32Array,4)},An:function(a){this.Lc(a,Int32Array,4)},yn:function(a){this.Lc(a,Float32Array,4)},zn:function(a){this.Lc(a,Float64Array,8)},xc:function(a,b){this.ye(a,b,m)},Wa:function(a,b){this.ye(a,b,j)},ye:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ia(e):128>e?this.$(e):this.$(this.Mh.Xn(e))}c&&
(b?this.ia(0):this.$(0))}};var Lb;Lb=function(a,b,c){a instanceof Cb||h(new TypeError("BinaryWriter expects a BinaryBuffer_StringBased"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.Nc=a;this.Q=b;this.Qa=-1;this.Mh=c};
Lb.prototype={hc:function(a){if(-1!==this.Qa)for(var b=0;b<a.length;++b)this.Nc.rj(this.Qa,a.charCodeAt(b)&255),this.Qa++;else this.Nc.Pv(a)},seek:r("Qa"),G:function(){return-1!==this.Qa?this.Qa:this.Nc.size()},tg:function(a){var b=[204,221],c;for(c=0;c<a;++c)this.$(b[c%2])},$:function(a){this.hc(this.Ed(a,8,m))},Bn:function(a){this.hc(this.Ed(a,8,j))},ia:function(a){this.hc(this.Ed(a,16,m))},Va:function(a){this.hc(this.Ed(a,16,j))},r:function(a){this.hc(this.Ed(a,32,m))},An:function(a){this.hc(this.Ed(a,
32,j))},yn:function(a){this.hc(this.Il(a,23,8))},zn:function(a){this.hc(this.Il(a,52,11))},xc:function(a,b){this.ye(a,b,m)},Wa:function(a,b){this.ye(a,b,j)},ye:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ia(e):128>e?this.$(e):this.$(this.Mh.Xn(e))}c&&(b?this.ia(0):this.$(0))},Il:function(a,b,c){var d=Math.pow(2,c-1)-1,e=-d+1,f=e-b,g=parseFloat(a),k=isNaN(g)||-Infinity==g||Infinity==g?g:0,p=0,n=2*d+1+b+3,a=Array(n),x=0>(g=0!==k?0:g),F=Math.floor(g=Math.abs(g)),A=g-F,M=
[],u;for(u=n;u;a[--u]=0);for(u=d+2;F&&u;a[--u]=F%2,F=Math.floor(F/2));for(u=d+1;0<A&&u;(a[++u]=(1<=(A*=2))-0)&&--A);for(u=-1;++u<n&&!a[u];);if(a[(M=b-1+(u=(p=d+1-u)>=e&&p<=d?u+1:d+1-(p=e-1)))+1]){if(!(g=a[M]))for(A=M+2;!g&&A<n;g=a[A++]);for(A=M+1;g&&0<=--A;(a[A]=!a[A]-0)&&(g=0));}for(u=0>u-2?-1:u-3;++u<n&&!a[u];);(p=d+1-u)>=e&&p<=d?++u:p<e&&(p!=d+1-n&&p<f&&this.warn("encodeFloat::float underflow"),u=d+1-(p=e-1));if(F||0!==k)this.warn(F?"encodeFloat::float overflow":"encodeFloat::"+k),p=d+1,u=d+2,
-Infinity==k?x=1:isNaN(k)&&(a[u]=1);for(g=Math.abs(p+d),A=c+1,c="";--A;c=g%2+c,g=g>>=1);for(g=0,A=0,u=(c=(x?"1":"0")+c+a.slice(u,u+b).join("")).length,M=[];u;A=(A+1)%8)g+=(1<<A)*c.charAt(--u),7==A&&(M[M.length]=String.fromCharCode(g),g=0);M[M.length]=g?String.fromCharCode(g):"";return(this.Q?M:M.reverse()).join("")},Ed:function(a,b,c){var d=[],e=Math.pow(2,b);if(c){if(c=-Math.pow(2,b-1),a>-c-1||a<c)this.tn("encodeInt::overflow"),a=0}else if(a>e||0>a)this.tn("encodeInt::overflow"),a=0;for(0>a&&(a+=
e);a;a=Math.floor(a/256))d[d.length]=String.fromCharCode(a%256);for(b=-(-b>>3)-d.length;b;b--)d[d.length]=String.fromCharCode(0);return(this.Q?d:d.reverse()).join("")},tn:function(a){h(Error(a))}};var Mb;Mb=function(a,b,c,d,e){this.p=N.n(a,b,c,d,e)};Mb.prototype={ae:function(){var a,b=0,c=0;do a=this.p.getUint8(),b|=(a&127)<<c,c+=7;while(0!==(a&128));return b}};var Nb;Nb=function(a,b,c){this.yd=O.n(a,b,c)};
Nb.prototype={q:function(a,b){var c,d,e;c=b!==i?b:this.fo(a);0===c&&h(Error("Expected value for MBui greater then zero"));d=a;for(e=0;e<c-1;e++)this.yd.$(d&127|128),d>>=7;this.yd.$(d&127);0!==d>>7&&h(Error("Value "+a+" cannot be written as an MBUI with "+c+" bytes"))},fo:function(a){var b=0;do a>>=7,b++;while(0<a);return b}};var Ob;Ob=function(a,b,c,d){this.rk=a;this.Bf=b;this.zp=c;this.sp=d};var xb;xb=function(a){this.V=new XMLHttpRequest;this.a=a};
xb.prototype={La:function(a,b,c,d){c===i&&(c=m);d===i&&(d=m);this.cb=b;var b="/Tc3PlcHmiWebService",e=this,d=this.$u(d,a);w.fx()&&(b+="?"+C.Y());this.V.open("POST",b,!c);if(!c&&!w.ve())this.V.responseType="arraybuffer";this.V.setRequestHeader("Content-Type","application/octet-stream");d&&this.V.setRequestHeader("3S-Repl-Content",this.Gs(a));if(!c)this.V.onreadystatechange=function(){e.Cx()};w.Pq()?d?this.V.send():this.V.send(a):(c=new MozBlobBuilder,c.append(a),this.V.send(c.getBlob()))},$u:function(a,
b){return!window.btoa?m:(a||this.a.Km)&&b instanceof ArrayBuffer&&70>b.byteLength?j:m},Gs:function(a){var b="",a=new Uint8Array(a),c=a.byteLength,d;for(d=0;d<c;d++)b+=String.fromCharCode(a[d]);return window.btoa(b)},uo:function(a,b){this.cb=b;this.V.open("GET",a,j);var c=this;this.V.onreadystatechange=function(){c.Bx(a)};this.V.send()},Bx:function(a){4==this.V.readyState&&(200==this.V.status||"OK"==this.V.status?this.cb.Zn(this.V.responseText):this.cb.O("Loading file '"+a+"' failed: "+this.V.status))},
Cx:function(){if(4==this.V.readyState)if(200==this.V.status||"OK"==this.V.status){this.V.onreadystatechange=l;var a;w.ve()?(a=this.V.responseText,""===a&&(a=l)):(a=this.V.response,a instanceof ArrayBuffer&&0===a.byteLength&&(a=l));try{a!==l||this.Is()?this.cb.lb(a):this.cb.O("Sending service failed, server not available?")}catch(b){this.cb.O("Unexpected exception while evaluating comm result"+b)}}else 4E3===this.V.status?this.a.tx():0===this.V.status?this.cb.O("Sending service aborted"):this.cb.O("Sending service failed, status: "+
this.V.status)},Is:function(){return"function"!==typeof this.cb.Dg?m:j}};var P;P=o();P.Dk=65407;P.Ek=1;P.sk=2;P.Wq=130;P.Xq=32;P.Yq=33;P.Lk=34;P.Kk=35;P.Uq=129;P.Zq=16;P.Vq=17;P.ec=4;P.Gk=1;P.Oq=2;P.Fk=3;P.sh=4;P.Wz=5;P.Nq=6;P.$q=1;P.bA=1;P.ar=3;P.yh=132;P.gr=1;P.br=2;P.hr=3;P.cr=4;P.ir=2;P.dr=3;P.er=4;P.fr=1;P.jr=134;P.kr=2;P.Hc=8;P.wk=1;P.xk=2;P.Rz=3;P.uk=4;P.yk=5;P.Sz=6;P.Ck=7;P.vk=8;P.tk=9;P.Tz=10;P.Nz=11;P.Mz=12;P.Lz=14;P.Qz=15;P.Jz=16;P.Kz=17;P.Pz=18;P.Oz=19;P.Uz=20;P.Ak=1;P.Af=2;P.Lq=3;
P.zk=5;P.Fq=6;P.Gq=7;P.Mq=34;P.Vz=4;P.Jq=129;P.Kq=132;P.rh=5;P.Hq=6;P.Bk=7;P.Iq=8;P.Za=0;P.Fp=1;P.Nj=0;P.rp=1;var Pb;Pb=function(a,b,c){this.Bi=a;this.Ci=b;this.Xm=c;this.Xc=0};
Pb.Jx=function(a){var b=a.getUint16(),c;52565!=b&&h(Error("Unsupported protocol: "+b));this.Ge=a.getUint16();12>this.Ge&&h(Error("Unsupported length of header: "+this.Ge));this.Bi=a.getUint16();this.Ci=a.getUint16();this.Xm=a.getUint32();this.Xc=a.getUint32();b=this.Ge-12;16<=this.Ge&&(a.getUint16(),b-=2);for(c=0;c<b;++c)a.getUint8();return this};Pb.Dq=4;Pb.Eq=20;Pb.or=16;Pb.prototype={write:function(a,b){a.ia(52565);a.ia(Pb.or);a.ia(this.Bi);a.ia(this.Ci);a.r(this.Xm);a.r(b);a.ia(0);a.ia(0)}};var Qb;
Qb=function(a,b,c){this.Uc=new Mb(a,b,c);this.A=this.Uc.p};
Qb.prototype={Mx:function(){try{if("|"!=this.A.$d())return"Unexpected format of service: 1";var a=this.jn(),b=m;if(4>a.length)return"Unexpected format of service: 2";5<=a.length&&(b="true"===a[4]);return new qa(parseInt(a[0],10),0===parseInt(a[1],10),parseInt(a[2],10),"true"!==a[3],b)}catch(c){return"Exception during readOpenConnectionResult: "+c}},Nx:function(){var a=this.jn(),b;for(b=0;b<a.length;++b)if(0===a[b].indexOf("IPv4:"))return a[b].substr(5);return""},jn:function(){for(var a=[],b="";!this.A.bd();){var c=
this.A.$d();"|"==c?(a.push(b),b=""):b+=c}return a},qc:function(a,b){for(var c=this.A.G()+a;this.A.G()<c;){var d=this.Uc.ae(),e=this.Uc.ae(),d=b[d],f=this.A.G();"function"===typeof d&&d(this,e);d=this.A.G()-f;d<e&&this.iv(e-d)}},Kx:function(){try{var a=this.Wc(P.Ek,P.sk),b=0,c=0,d=0,e=P.Nj,f={};f[P.Wq]=function(a,d){var e={};e[P.Xq]=function(a){b=a.A.getUint16()};e[P.Yq]=function(a){c=a.A.getUint32()};a.qc(d,e)};f[P.Lk]=function(a){e=a.A.getUint32()};f[P.Kk]=function(a){d=a.A.getUint32()};this.qc(a.Xc,
f);return new Ob(b,c,e,d)}catch(g){return"Exception during readDeviceLoginResult: "+g}},Px:function(){try{for(this.Wc(P.ec,P.Gk);!this.A.bd();){var a=this.Uc.ae(),b;this.Uc.ae();if(a===P.Dk)return"Visu not supported by the plc";b=this.A.getUint32();return 2952790016>b?b:4294967292===b?"No more memory on the plc":4294967293===b?"Connection to invalid application":"Unknown error"}return"Unexpected format of service: 4"}catch(c){return"Exception during readVisuRegisterClientResult: "+c}},Ox:function(){try{for(this.Wc(P.ec,
P.Fk);!this.A.bd();){var a=this.Uc.ae(),b;this.Uc.ae();if(a===P.Dk)return"Visu not supported by the plc";b=this.A.getUint32();return 0===b||1===b?b:2===b?"Client registration failed":3===b?"Client registration failed due to an invalid external id":"Unknown error"}return"Unexpected format of service: 5"}catch(c){return"Exception during readVisuIsRegisteredClientResult: "+c}},pj:function(a){var b=a.direction==Q.za?P.yk:P.xk,c=P.Kq;if(a.status.qa==S.jh)b=P.wk,c=P.Jq;try{var d=this.Wc(P.Hc,b),b={};b[c]=
function(b,c){var d={};d[P.Af]=function(b){a.pd.bz=b.A.getUint32();a.pd.wb=b.A.getUint32()};d[P.Lq]=function(b){a.pf=b.A.getUint32()};d[P.Iq]=function(b){a.status.result=b.A.getUint16()};b.qc(c,d)};b[P.Mq]=function(a){a.A.getUint32()};this.qc(d.Xc,b)}catch(e){return"Exception during readtFileAndSessionInfoResult: "+e}},Fo:function(a){var b=a.direction==Q.za?P.Ck:P.uk,c=0;try{var d=this.Wc(P.Hc,b),e=a.direction==Q.za?a.pd.wb:a.ld.wb,f={};a.direction==Q.za?(f[P.Hq]=function(a){c=a.A.getUint32()},f[P.Bk]=
function(b,c){a.status.sb=j;f[P.rh](b,c)},f[P.rh]=function(b,d){if(a.buffer===l)a.buffer=J.n(e);if(a.status.Ya+c<=e&&c<=d){for(var f=0;f<c;)a.buffer.sg(b.A.getUint8()),f++;a.status.Ya+=c;a.status.result=P.Za}else a.status.Ya=4294967295}):f[P.rh]=function(b){b=b.A.getUint16();b==P.Za?(a.status.result=P.Za,a.status.Ya+=a.status.gd,a.status.gd=0,a.status.sb=a.status.Ya>=e):a.status.result=b};this.qc(d.Xc,f)}catch(g){return"Exception during readtFileAndSessionInfoResult: "+g}},Lx:function(a){var b;b=
a.direction==Q.za?a.pd.wb:a.ld.wb;b=a.status.result==P.Za&&a.status.Ya==b&&a.status.sb?P.vk:P.tk;try{var c=this.Wc(P.Hc,b);b={};b[P.Bk]=function(b){b.A.getUint16();a.status.sb=j};this.qc(c.Xc,b)}catch(d){return"Exception during readFinishFileTransferResult: "+d}},Qg:function(a){try{var b=this.Wc(P.ec,P.sh),c=0,d=a,a={};a[P.yh]=function(a,b){var e={};e[P.ir]=function(a){a.A.getUint32();var b=a.A.getUint32(),c=a.A.getUint32(),a=a.A.getUint32();d=new Qa(b,c,a)};e[P.er]=function(){d.finish()};e[P.fr]=
function(a){c=a.A.getUint32()};e[P.dr]=function(a,b){d.Zb().Cn(a.A.ff(),a.A.G(),Math.min(b,d.vx()))};a.qc(b,e)};this.qc(b.Xc,a);return 0!==c?65535===c?"Client id not or no longer valid":c.toString():d===l?"Unexpected format of service: 6":d}catch(e){return"Exception during readVisuGetPaintDataResult: "+e}},iv:function(a){this.A.seek(this.A.G()+a)},Wc:function(a,b){var c=Pb.Jx(this.A),d=Pb.Dq+c.Ge+c.Xc;this.A.size()<d&&h(Error("Actual packet size "+this.A.size()+" smaller than expected "+d));(c.Bi!=
(128|a)||c.Ci!=b)&&h(Error("Unexpected format of service: 3"));return c}};var yb;yb=function(a,b,c,d){this.Q=a;this.ls=b;this.t=J.n(50);this.Xr=c;this.z=new Nb(this.t,a,d);this.m=this.z.yd};
yb.prototype={Ja:function(){return this.t.Zb()},Ex:function(a,b,c){this.If(1);this.m.xc("|",m);this.m.xc(a,m);this.m.xc("|",m);this.m.xc(b.toString(),m);this.m.xc("|",m);this.m.xc(c.toString(),m);this.m.xc("|",m)},$x:function(){this.If(3)},Aw:function(){this.If(100)},vw:function(a,b,c,d){if(a===i||a===l)a="";b===i&&(b=l);c===i&&(c=0);if(d===i)d=P.Nj;var e=this.Eb(P.Ek,P.sk),f=l;this.z.q(P.Lk);this.z.q(4,3);this.m.r(d);0!==c&&(this.z.q(P.Kk),this.z.q(4,3),this.m.r(c));a=this.gt(a);b!==l&&0!==c&&d===
P.rp&&(f=this.ft(b,c));this.z.q(P.Uq);this.z.q(a.size()+(f!==l?f.size():0),2);this.Hf(this.m,a);f!==l&&this.Hf(this.m,f);this.Bb(e)},jz:function(a,b,c){var d=this.Eb(P.ec,P.Gk),e=a.length+4+1,f=this.Id(e,4,0),g=0,k=0;b&&0<b.length&&g++;c&&0<c.length&&g++;0<g&&(k=8+84*g,e+=k);this.z.q(P.$q);this.z.q(e+f,3);this.m.Wa(a,m);this.xd(this.m,f,0);this.m.r(524288);0<g&&(this.m.r(k),this.m.r(g),b&&0<b.length&&(this.m.ia(1),this.m.Wa(b,m),this.m.tg(82-b.length-1)),c&&0<c.length&&(this.m.ia(2),this.m.Wa(c,m),
this.m.tg(82-c.length-1)));this.Bb(d)},hz:function(a){var b=this.Eb(P.ec,P.Fk);this.z.q(P.ar);this.z.q(4,3);this.m.r(a);this.Bb(b)},bh:function(a){this.sn(a,P.sh,P.yh)},gz:function(a){var b=this.Eb(P.ec,P.sh);this.z.q(P.yh);this.z.q(8,2);this.z.q(P.cr);this.z.q(4,3);this.m.r(a);this.Bb(b)},iz:function(a){this.sn(a,P.Nq,P.jr)},kz:function(a){var b=this.Eb(P.ec,P.Oq);this.z.q(P.kr);this.z.q(4,3);this.m.r(a);this.Bb(b)},mw:function(a){var b=this.Eb(P.Hc,P.wk),c=a.vb.length+1,d=this.Id(c,4,2);this.z.q(P.Ak);
this.z.q(c+d);this.m.Wa(a.vb,m);this.xd(this.m,d,0);this.z.q(P.Af);this.z.q(4,3);this.m.r(0);this.m.r(0);this.Bb(b)},On:function(a){var b=this.Eb(P.Hc,a.direction==Q.za?P.yk:P.xk),c=a.vb.length+1,d=this.Id(c,4,2);this.z.q(P.Ak);this.z.q(c+d);this.m.Wa(a.vb,m);this.xd(this.m,d,0);a.direction==Q.za?(this.z.q(P.Af),this.z.q(4,3),this.m.r(0),this.m.r(0)):(this.z.q(P.Af),this.z.q(4,3),a.ld.wb=a.buffer.size(),this.m.r(0),this.m.r(a.ld.wb));this.Bb(b)},Nn:function(a){var b=this.Eb(P.Hc,a.direction==Q.za?
P.Ck:P.uk),c=0,d=0;if(a.direction==Q.td){var c=a.ld.wb,e=0,d=this.$s();if(20<d)d-=20;else return P.Fp;d>c-a.status.Ya&&(d=c-a.status.Ya);c=this.Id(d,4,2);this.z.q(P.Fq);this.z.q(4,3);this.m.r(d);a.status.gd=d;this.z.q(P.zk);this.z.q(4+d+c,3);this.m.r(a.pf);for(e=0;e<d;e++)this.m.$(a.buffer.getUint8());this.xd(this.m,c,0)}else this.z.q(P.zk),this.z.q(4,3),this.m.r(a.pf),this.m.r(P.Za);this.Bb(b)},nw:function(a){var b;b=a.direction==Q.za?a.pd.wb:a.ld.wb;b=this.Eb(P.Hc,a.status.result==P.Za&&a.status.Ya==
b&&a.status.sb?P.vk:P.tk);this.z.q(P.Gq);this.z.q(4,3);this.m.r(a.pf);this.Bb(b)},sn:function(a,b,c){b=this.Eb(P.ec,b);a=this.qt(a);this.z.q(c);c=2>=this.z.fo(a.size())?2:6;this.z.q(a.size(),c);this.Hf(this.m,a);this.Bb(b)},Bb:function(a){var b=this.m.G()-a.Sq;this.Ev(a.dq,b)},Eb:function(a,b){var c=new Pb(a,b,this.ls);this.If(2);this.m.tg(Pb.Eq);return{dq:c,Sq:this.m.G()}},gt:function(a){var b=J.n(10+a.length),c=new Nb(b,this.Q),d=c.yd,e=a.length+1,f=this.Id(e,4,2);c.q(P.Zq);c.q(e+f);d.Wa(a,m);this.xd(d,
f,0);return b},ft:function(a,b){var c=this.et(a,b),d=J.n(10+c.length),e=new Nb(d,this.Q),f=e.yd;e.q(P.Vq);e.q(c.length,3);for(e=0;e<c.length;++e)f.$(c[e]);return d},et:function(a,b){var c="Qcw@e46A6!R.gssltR4dg=_l)B^nQSo^",d="",e=[],f,g=0,k=0,p,n=a.length+1,x=[b&255,0,0,0];for(f=0;f<c.length;f+=4)d=d.concat(String.fromCharCode(c.charCodeAt(f+2)+3)),d=d.concat(String.fromCharCode(c.charCodeAt(f+1)+2)),d=d.concat(String.fromCharCode(c.charCodeAt(f+3)+4)),d=d.concat(String.fromCharCode(c.charCodeAt(f+
0)+1));c=d;32>n&&(n=32);0!==n%4&&(n+=4-n%4);for(f=0;f<n;++f)d=c.charCodeAt(g),p=0,f<a.length&&(p=a.charCodeAt(f)),e[f]=(p^d+x[k])&255,g++,g===c.length&&(g=0),k++,4===k&&(k=0);return e},$s:function(){return this.Xr-this.m.G()},qt:function(a){var b=J.n(100),c=new Nb(b,this.Q),d=c.yd,e=a.Zk;c.q(P.gr);c.q(16,3);d.r(a.Jb);d.r(a.rq);d.r(a.sq);d.r(a.up);if(e!==l){c.q(P.br);var f=e.size(),g;g=this.Id(f,4,0);c.q(f+g,3);this.Hf(d,e);this.xd(d,g,0)}a.Fc!==l&&(c.q(P.hr),c.q(8,3),d.ia(a.Fc.e),d.ia(a.Fc.g),d.ia(a.Fc.w),
d.ia(a.Fc.B));return b},Hf:function(a,b){var c=b.size(),d;for(d=0;d<c;++d)a.$(b.ao(d))},Id:function(a,b,c){for(var d=0;0!==(a+c)%b;)a++,d++;return d},xd:function(a,b,c){for(var d=0;d<b;++d)a.$(c)},If:function(a){this.m.$(a);this.m.$(0);this.m.ia(0)},Ev:function(a,b){this.m.seek(4);a.write(this.m,b)}};var G;G=o();G.Vp=1;G.fh=2;G.bk=4;G.gh=16;G.Rp=128;G.Sp=256;G.Gp=257;G.ak=1048576;G.Pp=512;G.Qp=513;G.Xp=515;G.ck=516;G.Up=518;G.Tp=519;G.$j=521;G.Zj=528;G.Yj=529;G.Xj=530;G.Hp=532;G.Mp=2049;G.Lp=2050;
G.Ip=2051;G.Jp=2052;G.Kp=2053;G.Np=2054;G.Op=2055;G.Wp=4096;G.Yp=4097;G.hh=4098;G.dk=2097152;G.Zp=7;var E;E=function(a,b,c,d){c===i&&(c=0);d===i&&(d=0);this.Jb=a;this.up=b;this.rq=c;this.sq=d;this.Fc=this.Zk=l;this.Od=m};E.Tj=function(a,b,c){return E.Rj(a,b,c)};E.Sj=function(a,b,c,d){return new E(a,b,c,d)};E.wp=function(a,b){return new E(G.Gp,a,b.charCodeAt(0))};E.Uj=function(a,b,c,d,e){a=new E(G.ck,a,b?c?d?7:5:d?3:1:0,0);b=J.n(8);c=O.n(b,j);c.Va(0);c.Va(0);c.Va(e.k()-1);c.Va(e.j()-1);a.ya(b);return a};
E.yp=function(a,b,c){return E.Rj(a,b,c)};E.Rj=function(a,b,c){return new E(a,b,c.yc())};E.prototype={ya:r("Zk"),Ly:function(){this.Od=j}};var Rb;Rb=function(a){a===i&&(a=100);this.Tf=[];this.Ud=this.Se=0;this.Ne=a;this.Yf=m;this.pm=0};
Rb.prototype={push:function(a){if(a.Jb!==G.dk)this.pm=C.Y();if(this.Ft(a))return j;if(this.Yf)return"undefined"!==typeof WebvisuLogger&&WebvisuLogger.warn("Eventqueue full, dropped event with tag "+a.Jb),m;this.Tf[this.Ud%this.Ne]=a;this.Ud=(this.Ud+1)%this.Ne;if(this.Ud==this.Se)this.Yf=j;return j},empty:function(){return!this.Yf&&this.Se===this.Ud},pop:function(){if(this.empty())return l;this.Yf=m;var a=this.Se;this.Se=(this.Se+1)%this.Ne;return this.Tf[a]},Ft:function(a){if(!this.empty()&&(a.Jb===
G.gh||a.Jb===G.Kp||a.Jb===G.Op||a.Jb===G.ck)){var b=(this.Ud+this.Ne-1)%this.Ne;if(this.Tf[b].Jb===a.Jb)return this.Tf[b]=a,j}return m}};var $a;$a=function(a){this.sc={};this.a=a;this.hi=l};
$a.prototype={Fg:function(a,b,c){c===i&&(c=l);var d=this.Xt(a,c),e;e=this.sc[d];if(e!==i)return e;e=new Sb(this.a,a,c,b);return this.sc[d]=e},Sv:function(a){var b=[];this.Vl(function(c){c.mf()||(b.push(c),c.Tv(function(){b.splice(b.indexOf(c),1);0===b.length&&setTimeout(a,0)}))})},Yv:function(){var a=C.Y(),b=[],c=this.a.i,d,e;if(-1!==c.NumCachedImages)if(0===c.NumCachedImages)this.sc={};else if(this.Vl(function(d,e){var k=d.Ot,p=d.Bm?c.MaxUnusedImageAge:c.MaxUndrawnImageAge;0!==k&&k<a-p&&b.push({path:e,
time:k})}),d=Math.min(C.Dp(this.sc)-c.NumCachedImages,b.length),0<d){b.sort(function(a,b){return a.hp-b.hp});for(e=0;e<d;++e)delete this.sc[b[e].path]}},Sx:function(a){delete this.sc[a]},ux:function(){if(this.hi===l)this.hi=this.a.i.LoadImagesById;return this.hi},Vl:function(a){var b,c;for(b in this.sc)c=this.sc[b],a(c,b)},Xt:function(a,b){return b===l?a:a+":"+b}};var Sb;Sb=function(a,b,c,d){this.a=a;this.Bm=m;this.tc=c;this.Qc=C.ik(b);this.Mu=3;this.Hi(d,l);this.Mi();this.ci=this.gg=this.pg=l};
Sb.prototype={wt:function(){try{w.jq(this.Qb,this.Qc,this.a.i)?this.Us():(this.tc!==l&&!this.km()&&this.xv(),this.Mf(2))}catch(a){this.a.error("Unexpected exception during load image callback: "+a)}},km:function(){return C.kk(this.Qc)},xv:function(){try{var a=window.document.createElement("canvas"),b=a.getContext("2d"),c,d,e=parseInt(this.tc.substr(1,2),16),f=parseInt(this.tc.substr(3,2),16),g=parseInt(this.tc.substr(5,2),16),k=this.ct(),p=this.eo();a.width=p.I;a.height=p.J;b.drawImage(this.Qb,0,
0);c=b.getImageData(0,0,a.width,a.height);for(d=0;d<c.data.length;d+=4)k(c.data[d+0],c.data[d+1],c.data[d+2],e,f,g)&&(c.data[d+3]=0,c.data[d+0]=0,c.data[d+1]=0,c.data[d+2]=0);b.putImageData(c,0,0);this.pg=a;this.Qb=l}catch(n){this.pg=this.tc=l,WebvisuLogger.warn("Exception during making image "+this.Qc+" transparent. Is this an SVG? As a workaround it will be rendered ignoring the transparency color")}},Rt:function(a){try{if(WebvisuLogger.warn("Loading image "+this.Qc+" failed: "+a.type),0<=this.Mu--){var b=
this;window.setTimeout(function(){WebvisuLogger.info("Triing to load the image "+b.Qc+" again");b.Hi(j,l)},50);this.Mf(4)}else this.Mf(3)}catch(c){this.a.error("Unexpected exception during handling of load image problems: "+c)}},Xw:function(){this.Mi();this.Bm=j;2!==this.T&&WebvisuLogger.warn("Access to not (yet) loaded image");return this.pg!==l?this.pg:this.Qb},eo:function(){if(this.ci===l)this.ci=w.bq(this.Qb);return this.ci},Tv:r("gg"),mf:function(){return 2===this.T||3===this.T},loaded:function(){return 2===
this.T},Mf:function(a){this.Mi();this.T=a;if(this.gg!==l&&this.mf())this.gg(),this.gg=l},Mi:function(){this.Ot=C.Y()},Hi:function(a,b){this.Qb=new Image;var c=this,d=b===l?this.Qc:b;this.Qb.onload=function(){c.wt()};this.Qb.onerror=function(a){c.Rt(a)};this.T=1;this.Qb.src=this.Fr(d,a)},Fr:function(a,b){var c=a;b&&(c+="?"+C.Y());this.km()&&!this.a.i.WorkaroundDisableSVGAspectRatioWorkaround&&(c+="#svgView(preserveAspectRatio(none))");return c},ct:function(){return this.a.i.FuzzyTransparencyColorEvaluation?
function(a,b,c,d,e,f){return 2>Math.abs(a-d)&&2>Math.abs(b-e)&&2>Math.abs(c-f)}:function(a,b,c,d,e,f){return a===d&&b===e&&c===f}},Us:function(){WebvisuLogger.R("Workaround for image "+this.Qc+" without width/height activated");var a=this;w.Ep(this.Qb,function(b){a.Hi(m,b)},function(b){WebvisuLogger.warn("Retrieving workaround image failed so going on as formerly, reason: "+b);a.Mf(3)})}};var Za;Za=function(){this.Tb={};this.Nb=l;this.wf="<Project>"};
Za.prototype={io:function(a){var a=a.toLowerCase().split("."),b=[],c;for(c=0;c<a.length;++c)b[c]=C.rd(a[c]);var d;if(1>b.length)return l;a=b[b.length-1];if(1===b.length)return this.Qe(this.Ps(a));c=b[b.length-2];if(2==b.length){d=this.Qs(c);if(d!==l)return this.Qe(this.Ph(a,d));d=this.Rh(c);return d!==l?this.Qe(this.Xf(a,d)):l}b=b.slice(0,b.length-2).join(".");d=this.Rh(b);if(d!==l&&(d=this.Qh(c,d),d!==l))return this.Qe(this.Ph(a,d));d=this.Rh(b+"."+c);return d!==l?this.Qe(this.Xf(a,d)):l},dy:r("Nb"),
Qe:function(a){return a!==l?a.path:l},Rh:function(a){var b=this.Nl(a);b===l&&(b=this.Rs(a));return b},Nl:function(a){a=this.Tb[a];return a!==i?a:l},Rs:function(a){if(this.Nb!==l){var a=a.toLowerCase(),b,c=l,d;for(b=0;b<this.Nb.length;++b)if(this.Nb[b].oj===a){c=this.Nb[b].Co;break}if(c!==l)for(b=0;b<this.Nb.length;++b)if(this.Nb[b].oj!==a&&this.Nb[b].Co===c&&(d=this.Nl(this.Nb[b].oj),d!==l))return d}return l},Ps:function(a){var b=this.Tb[this.wf],c;if(b!==i&&(b=this.Xf(a,b),b!==l))return b;for(c in this.Tb)if(c!==
this.wf&&(b=this.Xf(a,this.Tb[c]),b!==l))return b;return l},Xf:function(a,b){var c,d;for(c in b.ee)if(d=this.Ph(a,b.ee[c]),d!==l)return d;return l},Ph:function(a,b){var c=b.Ag[a];return c===i?l:c},Qs:function(a){var b=this.Tb[this.wf],c;if(b!==i&&(b=this.Qh(a,b),b!==l))return b;for(c in this.Tb)if(b=this.Qh(a,this.Tb[c]),b!==l)return b;return l},Qh:function(a,b){var c=b.ee[a];return c!==i?c:l},fill:function(a){var a=a.replace(/\r\n/g,"\n").split("\n"),b,c,d,e,f,g,k;for(b=0;b<a.length;++b)c=a[b].split(";"),
4>c.length||(d=this.Wt(C.rd(c[1])),e=C.rd(c[0]).toLowerCase(),f=C.rd(c[2]).toLowerCase(),g=C.rd(c[3]),c=this.Tb[d],c===i?(c={ee:{}},k=this.wl(e),k.Ag[f]=this.Hh(f,g),c.ee[e]=k,this.Tb[d]=c):(k=c.ee[e],k===i?(k=this.wl(e),k.Ag[f]=this.Hh(f,g),c.ee[e]=k):k.Ag[f]=this.Hh(f,g)))},Wt:function(a){return a===l||""===a?this.wf:a.toLowerCase()},wl:function(a){return{name:a,Ag:{}}},Hh:function(a,b){return{id:a,path:b}}};var jb;jb=o();jb.prototype={execute:function(a){a=a.a.da;a!==l&&a.Gv()}};var Tb;
Tb=function(a,b){this.f=D.dc(b)};Tb.prototype={execute:function(a){a=a.getContext();a.save();a.beginPath();a.rect(this.f.e,this.f.g,this.f.k()+1,this.f.j()+1);a.clip()}};var Ub;Ub=function(a,b){this.f=D.zf(b,m);this.ig=0!==b.getInt8();this.uc=b.getInt8();switch(this.uc){case 2:case 4:this.Rf=b.getUint32();this.El=b.getUint32();this.Sf=b.getUint32();break;case 1:case 3:this.rl=b.getInt16(),this.Rf=b.getUint32()}};
Ub.prototype={execute:function(a){var b=a.getContext(),c=this.f.e,d=this.f.g,e=this.f.k(),f=this.f.j(),g=b.lineWidth;b.save();this.Wm=a.a.i.SemiTransparencyActive;a.F().Ac()?a.F().ug(this.f):b.fillStyle=this.Wm===j?D.xb(this.Rf):D.Fa(this.Rf);b.lineWidth=1;c+=0.5;d+=0.5;switch(this.uc){case 2:case 4:this.wu(b,c,d,e,f);break;case 1:case 3:this.vu(b,c,d,e,f)}b.lineWidth=g;a.F().Ac()&&a.F().Sg();b.restore()},wu:function(a,b,c,d,e){var f,g,k;this.Wm===j?(f=this.ig?D.xb(this.Sf):"#000000",g=D.xb(this.El),
k=D.xb(this.Sf)):(f=this.ig?D.Fa(this.Sf):"#000000",g=D.Fa(this.El),k=D.Fa(this.Sf));this.ig?(a.strokeStyle=f,a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e)):(a.fillRect(b,c,d,e),a.strokeStyle=g,a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.moveTo(b,c),a.lineTo(b,c+e),a.stroke(),a.closePath(),a.strokeStyle=f,a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c+e),a.lineTo(b+d,c),a.stroke(),a.closePath(),a.strokeStyle=k,a.beginPath(),a.moveTo(b+1,c+e-1),a.lineTo(b+d-2,c+e-1),a.moveTo(b+d-1,c+1),a.lineTo(b+d-1,
c+e-1),a.stroke(),a.closePath())},vu:function(a,b,c,d,e){var f=new Vb(this.Rf,this.rl);if(this.ig)a.strokeStyle=D.Fa(f.bo(0)),a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e);else{a.strokeStyle="#000000";a.fillRect(b,c,d,e);a.strokeRect(b,c,d,e);var g;for(g=0;g<this.rl;++g)a.beginPath(),a.moveTo(b+g,c+e-g),a.lineTo(b+g,c+g),a.lineTo(b+d-g,c+g),a.strokeStyle=D.Fa(f.Mw(g)),a.stroke(),a.beginPath(),a.moveTo(b+d-g,c+1+g),a.lineTo(b+d-g,c+e-g),a.lineTo(b+1+g,c+e-g),a.strokeStyle=D.Fa(f.bo(g)),a.stroke()}}};var ib;
ib=function(a,b,c){var a=b.G(),d,e;d=b.getUint16();e=b.getString(d,m);d=b.getUint16();d=b.getString(d,m);""!==e&&(d=e+"."+d);this.cg=d;this.f=D.zf(b,j);this.f.normalize();e=b.getUint32();this.Lt=0!==(e&1);this.bl=0!==(e&2);this.Sl=0!==(e&4);this.hv=0!==(e&8);this.nl=0!==(e&16);this.mn=0!==(e&32);this.dm=0!==(e&128);this.Vm=0!==(e&256);this.qn=0!==(e&1024);this.fl=0!==(e&2048);this.Ue=0!==(e&4096);this.Ml=m;this.tc=D.Fa(b.getUint32());if(c>=b.G()-a+16)this.Ml=j,this.Js=b.getFloat32(),this.Ks=b.getFloat32();
this.Cb=l};
ib.prototype={execute:function(a){var a=a.getContext(),b=D.iq(this.f),c=this.f.Da(),d=this;this.fv(a,c,b);this.Cb!==l&&(this.Cb.loaded()?this.ts(a,this.Cb.Xw(),function(){return d.Cb.eo()},c):this.us(a,this.f));this.hv&&(c=D.mh(a),a.strokeRect(this.f.e+c,this.f.g+c,this.f.k(),this.f.j()));this.Ur(a,b)},gx:function(a,b){var c;this.Ue&&(c=b.io(this.cg))!==l&&a.Sx(c);if(this.Cb===l){if(a.ux())return c="/ImageByImagePoolId?id="+this.cg,this.Cb=this.mn?a.Fg(c,this.Ue,this.tc):a.Fg(c,this.Ue),this.Cb.mf();
c=b.io(this.cg);if(c!==l)return this.Cb=this.mn?a.Fg(c,this.Ue,this.tc):a.Fg(c,this.Ue),this.Cb.mf();WebvisuLogger.warn("Imagepoolentry for "+this.cg+" not found");return j}return this.Cb.mf()},ts:function(a,b,c,d){if(this.Sl&&this.Ml){var e=c(),d=this.rr(d,new B(this.Js*e.I,this.Ks*e.J));this.Sl=m;this.bl=j}this.bl?a.drawImage(b,d.e,d.g,d.k(),d.j()):this.Lt?(e=c(),d.k()/e.I<d.j()/e.J?(c=d.k()*e.J/e.I,e=d.k()):(c=d.j(),e=d.j()*e.I/e.J),d=this.sr(new L(d.e,d.g,d.e+e,d.g+c),d),a.drawImage(b,d.e,d.g,
e,c)):a.drawImage(b,d.e,d.g)},rr:function(a,b){this.dm?(a.e+=Math.floor(a.k()/2)-Math.floor(b.I/2),a.w=a.e+b.I):this.Vm?a.e=a.w-b.I:a.w=a.e+b.I;this.qn?(a.g+=Math.floor(a.j()/2)-Math.floor(b.J/2),a.B=a.g+b.J):this.fl?a.g=a.B-b.J:a.B=a.g+b.J;return a},sr:function(a,b){a.k()<b.k()&&(this.dm?a=a.ub(Math.floor(b.k()/2)-Math.floor(a.k()/2),0):this.Vm&&(a=a.ub(b.k()-a.k(),0)));a.j()<b.j()&&(this.qn?a=a.ub(0,Math.floor(b.j()/2)-Math.floor(a.j()/2)):this.fl&&(a=a.ub(0,b.j()-a.j())));return a},fv:function(a,
b,c){c&&(a.save(),b.mb.vg(a,b));this.nl&&(a.save(),a.beginPath(),a.rect(b.e,b.g,b.k()+1,b.j()+1),a.clip())},Ur:function(a,b){this.nl&&a.restore();b&&a.restore()},us:function(a,b){var c=b.oo(-3);a.save();a.fillStyle="#eeeeee";a.strokeStyle="#ff0000";a.lineWidth=3;a.fillRect(c.e,c.g,c.k(),c.j());a.beginPath();a.moveTo(c.e,c.g);a.lineTo(c.w,c.B);a.moveTo(c.w,c.g);a.lineTo(c.e,c.B);a.closePath();a.stroke();a.restore()}};var Wb;
Wb=function(a,b){this.f=D.zf(b,j);this.bn=D.bc(b.getInt16());this.ov=D.bc(b.getInt16());this.Ls=1==b.getInt16()};
Wb.prototype={execute:function(a){var b=a.getContext(),c=this.f.k(),d=this.f.j(),e=!a.F().jj(),f=!a.F().Kd,g=Math.min(c,d)/2;0>=c||0>=d||(b.save(),this.ur(b),a.F().Ac()&&a.F().ug(this.nt(g)),b.beginPath(),b.arc(0,0,g,this.bn,this.bn+this.ov,m),this.Ls&&(b.lineTo(0,0),b.closePath(),e&&b.fill()),b.restore(),f&&b.stroke(),a.F().Ac()&&a.F().Sg())},nt:function(a){return new L(-a,-a,a,a)},ur:function(a){var b=this.f.k(),c=this.f.j();this.f.mb!==l?this.f.mb.vg(a,this.f):a.translate(this.f.e+0.5,this.f.g+
0.5);a.translate(b/2,c/2);b>c?a.scale(b/c,1):a.scale(1,c/b)}};var Xb;Xb=function(a,b){this.u=D.qk(b)};Xb.prototype={execute:function(a){var a=a.getContext(),b;for(b=0;b<this.u.length;++b)a.fillRect(this.u[b].b,this.u[b].c,1,1)}};var Yb;Yb=function(a,b){this.uc=b.getUint16();if(2==a)this.u=D.qk(b);else if(59==a)this.u=D.Bq(b)};
Yb.prototype={execute:function(a){var b=a.getContext(),c=!a.F().jj(),d=!a.F().Kd;if(!(2>this.u.length)){a.F().Ac()&&a.F().ug(this.mv());d&&this.Gu(b);switch(this.uc){case 0:this.vs(b,c,d);break;case 1:d&&this.ws(b);break;case 2:d&&this.rs(b)}a.F().Ac()&&a.F().Sg()}},Gu:function(a){var a=D.mh(a),b;if(0!==a)for(b=0;b<this.u.length;++b)this.u[b].b+=a,this.u[b].c+=a},vs:function(a,b,c){a.beginPath();a.moveTo(this.u[0].b,this.u[0].c);for(var d=1;d<this.u.length;++d)a.lineTo(this.u[d].b,this.u[d].c);a.closePath();
b&&a.fill();c&&a.stroke()},ws:function(a){var b;a.beginPath();a.moveTo(this.u[0].b,this.u[0].c);for(b=1;b<this.u.length;++b)a.lineTo(this.u[b].b,this.u[b].c);a.stroke()},rs:function(a){a.beginPath();a.moveTo(this.u[0].b,this.u[0].c);for(var b=1;b+3<=this.u.length;)a.bezierCurveTo(this.u[b].b,this.u[b].c,this.u[b+1].b,this.u[b+1].c,this.u[b+2].b,this.u[b+2].c),b+=3;for(;b<this.u.length;++b)a.lineTo(this.u[b].b,this.u[b].c);a.stroke()},mv:function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e;for(e=0;e<this.u.length;++e){if(this.u[e].b<
a)a=this.u[e].b;if(this.u[e].c<c)c=this.u[e].c;if(this.u[e].b>b)b=this.u[e].b;if(this.u[e].c>d)d=this.u[e].c}return new L(a,c,b,d)}};var Zb;Zb=function(a,b){var c,d;c=b.getUint16();switch(a){case 1:d=D.zf(b,j);break;case 45:d=D.dc(b);break;case 60:d=D.yq(b);break;case 61:d=D.xq(b)}this.Av=new $b(c,d)};Zb.prototype={execute:function(a){this.Av.xg(a)}};var ac;
ac=function(a,b){this.uc=b.getUint16();var c,d;c=b.getUint16();d=b.getUint16();this.Rd=new B(c,d);c=b.getUint16();d=b.getUint16();this.Fi=new B(c,d);c=b.getUint32();this.yv=0!==(c&1);this.zv=0!==(c&2);this.Ni=0!==(c&4)};ac.prototype={execute:function(a){var b=a.F().ui,c,d,e;d=new z(b.b+this.Fi.I,b.c+this.Fi.J);this.Ni?(c=a.F().si,e=d.b,d.b=c.b+this.Fi.I,c=e-d.b):c=this.Rd.I;(new $b(this.uc,new L(d.b,d.c,d.b+c,d.c+this.Rd.J))).xg(a);this.yv&&(b.b+=this.Rd.I);this.zv&&(b.c+=this.Rd.J)}};var $b;
$b=function(a,b){this.uc=a;this.f=b.xx()};
$b.prototype={ss:function(a,b,c,d,e,f,g){var k=0.5522848*(d/2),p=0.5522848*(e/2),n=b+d,x=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-p,d-k,c,d,c);a.bezierCurveTo(d+k,c,n,e-p,n,e);a.bezierCurveTo(n,e+p,d+k,x,d,x);a.bezierCurveTo(d-k,x,b,e+p,b,e);a.closePath();f&&a.fill();g&&a.stroke()},xs:function(a,b,c,d,e,f,g){f&&a.fillRect(b,c,d,e);g&&a.strokeRect(b,c,d,e)},xg:function(a){var b=a.getContext(),c=this.f.e,d=this.f.g,e=this.f.k(),f=this.f.j(),g=!a.F().jj(),k=!a.F().Kd,p=this.f.mb;
if(!(0>e||0>f)){a.F().Ac()&&a.F().ug(this.f);p!==l&&(b.save(),this.f.mb.vg(b,this.f));if(k&&p===l)var n=D.mh(b),c=c+n,d=d+n;switch(this.uc){case 0:this.xs(b,c,d,e,f,g,k);break;case 1:D.Wj(b,c,d,e,f,g,k);break;case 2:this.ss(b,c,d,e,f,g,k);break;case 3:k&&(b.beginPath(),b.moveTo(c,d+f),b.lineTo(c+e,d),b.stroke());break;case 4:k&&(b.beginPath(),b.moveTo(c,d),b.lineTo(c+e,d+f),b.stroke())}p!==l&&b.restore();a.F().Ac()&&a.F().Sg()}}};var bc;
bc=function(a,b){var c,d;if(3==a||11==a)d=D.pk(b);else if(46==a||47==a)d=D.Aq(b);c=b.getUint32();this.$f=this.ut(c);this.Td=this.Cv(c);this.el=0!==(c&16);this.Ir=0!==(c&32);this.Lu=0!==(c&64);this.Xu=0!==(c&1024);this.Ni=0!==(c&2048);this.ng=0!==(c&256);this.Ze=0!==(c&512);this.f=D.Lj(d,0!==(c&128));c=b.getUint16();this.U=b.getString(c,11==a||47==a);this.Oe=D.gq(this.U);this.dn=D.hq(this.U);this.Yc=this.U};
bc.prototype={execute:function(a){var b=a.getContext(),c=a.F(),d,e,f,g;if(this.Lu)d=c.ui,this.Ni?(f=c.si,e=f.b,d=f.c):(e=d.b,d=d.c),this.f=new L(e,d,e+this.f.k(),d+this.f.j());b.save();this.f.mb!==l&&this.f.mb.vg(b,this.f);b.beginPath();b.rect(this.f.e-0.5,this.f.g-0.5,this.f.k()+1,this.f.j()+1);b.clip();b.fillStyle=a.F().fn;d=m;e=b.font;g=c.Fe;this.qr(b,a);if(a.a.i.AutoFontReductionActive===j&&this.Ze||a.a.i.AutoFontReductionActive===m&&(this.ng||this.Ze))d=this.Pu(b,a);d===m&&(this.Oe?this.vi(b,
a):this.Rm(b));if(this.Ir){d=a.F().ui;f=a.F().si;d.b=this.f.e;d.c=this.f.g;if(this.Xu)f.b=d.b+1,f.c=d.c;d.b=this.f.e+this.sv(b)}if(a.a.i.AutoFontReductionActive===j&&m===this.Ze)b.font=e,c.Uo(g);b.restore()},qr:function(a,b){var c=b.F(),d,e,f,g,k,p;if(b.a.i.AutoFontReductionActive===j&&m===this.Ze){g=a.font;f=c.Fe;d=this.f.k()+1;e=this.f.j()+1;for(k=j;(d>this.f.k()||e>this.f.j())&&1<f;){k===m&&(f-=1,c.Uo(f),c.qy(C.tp(g,f)));this.Yc=this.U;j===this.ng&&this.Sm(a,b,j,this.Yc);if(this.Oe===j)if(e=D.Cf(this.Yc),
d=0,0<e.length){for(p=0;p<e.length;++p)k=a.measureText(e[p]).width,d<k&&(d=k);e=C.Dc(b)*e.length}else d=a.measureText(this.Yc).width,e=C.Dc(b);else d=a.measureText(this.Yc).width,e=C.Dc(b);k=m}this.U=this.Yc}},Rm:function(a){this.dn?this.Nu(a):this.Qf(a,this.U,this.Ch(a))},vi:function(a,b){var c=D.Cf(this.U),d=this,e,f,g,k,p;if(0<c.length){f=C.Dc(b);e=f*c.length;this.pr(a,e);e=this.tr(a,e);var n=function(b){d.Qf(a,b.text,g)};for(p=0;p<c.length;++p)this.dn?(k=D.vh(a,c[p]),g=this.$k(a,k),g.c=e.c,this.mm(k,
g,n)):this.Qf(a,c[p],e),e.c+=f}},Pu:function(a,b){var c;this.ng?c=this.Sm(a,b,m,this.U):this.Ze&&(c=this.Ou(a,b));return c},Sm:function(a,b,c,d){var e,f,g,k,p,n,x,F,A,M=Array(100),u,$=[];e=m;n=x=-1;A=p=k=0;F=this.f.w-this.f.e;if(this.gn(a,d)>F){e=j;for(f=d[k];f!==i;)g=d[k+1],"\r"==f&&"\n"==g?(p=0,k+=1):(p+=a.measureText(f).width," "==f&&p<=F&&(x=k,n=p),p>F&&(100>A&&-1!=x&&(M[A]=x,A+=1,x=-1),-1!=n&&(p-=n,n=-1))),k+=1,f=d[k];if(0<A){this.Oe=j;f=0;for(g=d.length-1;" "==d[g];)g-=1;for(;0<A;){for(u=M[A-
1];g>u;)$[f]=d[g],g-=1,f+=1;$[f]="\n";f+=1;g-=1;A-=1}}d=d.substr(0,u);for(k=$.length-1;-1<k;k--)d+=$[k];c===m?(this.U=d,this.vi(a,b)):this.Yc=d}return e},Ou:function(a,b){this.el=j;this.Oe?this.vi(a,b):this.Rm(a,b);return j},Nu:function(a){var b=D.vh(a,this.U),c=this.$k(a,b),d=this;this.mm(b,c,function(b){d.Qf(a,b.text,c)})},mm:function(a,b,c){var d;if(2==this.$f)for(d=a.length-1;0<=d;--d)c(a[d]),b.b-=a[d].zj*D.sd;else for(d=0;d<a.length;++d)c(a[d]),b.b+=a[d].zj*D.sd},Qf:function(a,b,c){this.el&&
(b=this.Vs(a,b));a.fillText(b,c.b,c.c)},Vs:function(a,b){if(D.Ec(a,b,m)<=this.f.k())return b;for(var c,d=0,e=b.length-1,f,g;1<e-d;){f=Math.floor((d+e)/2);c=b.substr(0,f)+"...";g=D.Ec(a,c,m)-this.f.k();if(0===g)return c;0>g?(d=f,g=m):(e=f,g=j)}return g===j?0<f?c.substr(0,f-1)+"...":"":c},tr:function(a,b){var c=this.Ch(a);a.textBaseline="top";3===this.Td?c=new z(c.b,this.f.g+this.f.j()/2-b/2):2===this.Td&&(c=new z(c.b,c.c-b));return c},pr:function(a,b){if(this.ng&&3===this.Td&&this.f.j()<b)this.Td=
1},Ch:function(a){var b,c;1===this.$f?(b=this.f.e+1,a.textAlign="left"):3===this.$f?(b=this.f.e+this.f.k()/2,a.textAlign="center"):(b=this.f.w-1,a.textAlign="right");1===this.Td?(c=this.f.g+2,a.textBaseline="top"):3===this.Td?(c=this.f.g+this.f.j()/2,a.textBaseline="middle"):(c=this.f.B-1,a.textBaseline="bottom");return new z(b,c)},$k:function(a,b){var c=this.Ch(a),d,e=0;if(3===this.$f){for(d=0;d<b.length;++d)e+=b[d].zj*D.sd;c.b=this.f.e+(this.f.k()-e+D.sd)/2}return c},ut:function(a){var b=1;0!==
(a&1)?b=3:0!==(a&2)&&(b=2);return b},Cv:function(a){var b=1;0!==(a&4)?b=3:0!==(a&8)&&(b=2);return b},sv:function(a){return this.gn(a,this.U)},gn:function(a,b){if(this.Oe){var c=0,d=D.Cf(b),e;for(e=0;e<d.length;++e)c=Math.max(c,D.Ec(a,d[e],j));return c}return D.Ec(a,b,j)}};var mb;
(function(){var a=l;mb=function(a,c){var d=c.getUint16();this.U=c.getString(d,15==a);this.h=D.qd(c);this.Ut=1===(c.getUint32()&1)};mb.prototype={execute:function(b){var c=b.getContext(),d=D.Cf(this.U),e=b.a.i.lo(),f=this.Jr(c,e,d),g=f.lineHeight,k=new B(6,4),f=this.Kr(b.zc(),f.size,k),f=f.ub(0.5,0.5);c.save();c.font=e.hk;c.textBaseline="top";c.textAlign="left";c.lineWidth=1;c.strokeStyle="#000000";c.fillStyle="#ffffe1";c.fillRect(f.e,f.g,f.k(),f.j());c.strokeRect(f.e,f.g,f.k(),f.j());c.fillStyle=
"#000000";k=new z(f.e+k.I/2,f.g+k.J/2);for(e=0;e<d.length;++e)c.fillText(d[e],k.b,k.c),k=new z(k.b,k.c+g);this.Ut&&(a=new L(0,0,0,0));(a===l||!f.Bg(a))&&this.av(b.a,f);a=f;c.restore()},av:function(a,c){var d=new E(G.Qp,a.l.M,0,0),e=J.n(8),f=O.n(e,j);f.Va(Math.floor(c.e));f.Va(Math.floor(c.g));f.Va(Math.ceil(c.w));f.Va(Math.ceil(c.B));d.ya(e);a.ha.push(d)},Jr:function(a,c,d){var e=new B(0,0),f=a.font,g,k,p=0;a.font=c.hk;for(g=0;g<d.length;++g)0===g&&(p=C.kh(c.aq)),k=D.Ec(a,d[g],m),e.I=Math.max(e.I,
k),e.J+=p+0;e.J=Math.ceil(e.J);a.font=f;return{size:e,lineHeight:p}},Kr:function(a,c,d){var e,f;e=this.h.b+20+d.I+c.I>=a.k()?this.h.b-20-d.I-c.I:this.h.b+20;f=this.h.c+20+c.J>=a.j()?this.h.c-20-c.J:this.h.c+20;0>e&&(e=c.I<a.k()?(a.k()-c.I)/2:0);0>f&&(f=c.J<a.j()?(a.j()-c.J)/2:0);return new L(e,f,e+c.I+d.I,f+d.J+c.J)}}})();var cc;cc=o();cc.prototype={execute:o()};var dc;dc=function(a,b){var c=b.getUint16();this.Vr=0===c||2==c};dc.prototype={execute:function(a){this.Vr&&a.a.nc.close();a.a.nc.Zx()}};
var ec;ec=function(a,b,c){var d;d=b.G();this.Wr=b.getUint16();a=b.getUint16();this.pl=b.getString(a,m);c>=b.G()-d+10?(a=b.getUint16(),this.ql=b.getString(a,m)):this.ql=""};
ec.prototype={execute:function(){switch(this.Wr){case 0:WebvisuLogger.warn("The functionality start process is not possible in the webvisualization.");break;case 1:case 2:case 3:WebvisuLogger.warn("The functionality printing is not possible in the webvisualization.");break;case 4:this.Tt()}},Tt:function(){"replace"===this.ql?window.location.href=this.pl:window.open(this.pl)}};var fc;fc=function(a,b){this.Ee=b.getUint8();this.Ee=this.Ee==Q.za?Q.xh:Q.Ic;this.Wf=new gc(0,b)};
fc.prototype={execute:function(a){a.a.ie(new hc(0,this.Ee,this.Wf.Bt,l,this.Wf))}};var ic;ic=function(a,b,c,d){a=d.a.d;d=c=0;this.gb=b.getUint32();d=b.getUint16();this.rn=b.getString(d,m);d=b.getUint32();if(a.buffer===l)a.buffer=J.n(d);for(;c<d;)a.buffer.sg(b.getUint8()),c++;a.status.Ya+=d;if(0!==(this.gb&1))a.status.jb?(a.status.jb=m,a.status.tb=j):a.status.sb=j;if(0===d)a.status.sb=j};ic.prototype={execute:o()};var jc;
jc=function(a,b){var c;this.Qu=b.getUint16();this.Ee=b.getUint8();c=b.getUint16();this.Fu=b.getString(c,m);c=b.getUint16();this.rn=0<c?b.getString(c,m):"";this.Wf=new gc(0,b)};jc.prototype={execute:function(a){a.a.ie(new hc(this.Qu,this.Ee,this.Fu,this.rn,this.Wf))}};var lb;lb=function(a,b,c){a=b.G();this.f=D.dc(b);this.ml=j;if(c>=b.G()-a+12)this.ml=0===(b.getUint32()&1)};
lb.prototype={execute:function(a){a.Th.Ti(this.f);this.ml&&(a.s.clearRect(this.f.e,this.f.g,this.f.k(),this.f.j()),a.Ua.$v(this.f));a.a.Mc.Qx(this.f)}};var kc;
kc=function(a,b){var c,d,e,f,g;this.Fl=b.getUint32();this.Ds=b.getUint32();c=b.getUint16();this.ym=b.getString(c,m);c=b.getUint32();d=b.getUint16();this.Fm=[];this.Gm=m;try{for(e=0;e<d;++e)f=b.getUint32(),g=b.getUint32(),this.Fm.push(this.Ju(b,f,g))}catch(k){k instanceof TypeError?(WebvisuLogger.error("Invalid argumenttype for calling '"+this.ym+"'; call will not be executed"),this.Gm=j):h(k)}2==(c&2)?(this.Ve=b.getUint32(),this.yi=b.getUint32()):this.yi=this.Ve=l};
kc.prototype={execute:function(a){if(!this.Gm){var b=WebvisuExtensionMgr.iw(this.Fl,this.ym,this.Fm);b!==l&&b!==i&&this.yi!==l&&this.Ve!==l&&this.Fs(b,a.a)}},Zr:function(a,b){var c=J.n(b),d=O.n(c,j),e;for(e=0;e<b;++e)d.$(a.getUint8());return N.n(c.Zb(),a.ce(),a.je())},Ju:function(a,b,c){a=this.Zr(a,c);switch(b){case 0:case 1:return 0!==a.getUint8();case 2:case 10:return a.getUint8();case 6:return a.getInt8();case 3:case 11:return a.getUint16();case 7:return a.getInt16();case 8:return a.getInt32();
case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:return a.getUint32();case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:return a.getFloat32();case 15:return a.getFloat64();case 16:case 17:return a.$b(17===b);default:h(new TypeError("TypeCode + "+b.toString()+" not supported"))}},Fs:function(a,b){var c=J.n(this.yi),d=O.n(c,b.l.ra,b.gf()),e=new E(G.Xp,b.l.M,this.Fl,this.Ds);try{this.Hs(a,d),e.ya(c)}catch(f){WebvisuLogger.error("Failed to encode return value: "+
a.toString()+". Result ignored")}b.Xb(e)},Hs:function(a,b){switch(this.Ve){case 0:case 1:b.$(a?1:0);break;case 2:case 10:b.$(a);break;case 6:b.Bn(a);break;case 3:case 11:b.ia(a);break;case 7:b.Va(a);break;case 8:b.An(a);break;case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:b.r(a);break;case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:b.yn(a);break;case 15:b.zn(a);break;case 16:case 17:b.Wa(a,17===this.Ve);break;default:h(new TypeError("TypeCode + "+this.Ve.toString()+
" not supported"))}}};var lc;lc=function(a,b){var c;this.Cd=b.getUint32();c=b.getUint16();this.sl=b.getString(c,m);this.Me=D.dc(b)};lc.prototype={execute:function(a){var b=WebvisuExtensionMgr.az(this.sl);b===l?WebvisuLogger.warn("No native control named '"+this.sl+"' found"):WebvisuExtensionMgr.lw(b,this.Cd,this.Me,a.s.canvas)}};var mc;mc=function(a,b){this.Cd=b.getUint32();this.Me=D.dc(b)};mc.prototype={execute:function(){WebvisuExtensionMgr.jw(this.Cd,this.Me)}};var nc;
nc=function(a,b){this.Cd=b.getUint32();var c=b.getUint32();this.gv=1===(c&1);this.kA=2===(c&2);this.ks=4===(c&4)};nc.prototype={execute:function(){this.ks?WebvisuExtensionMgr.Wn(this.Cd):WebvisuExtensionMgr.kw(this.Cd,this.gv)}};var oc;
oc=function(a,b){var c,d,e,f;b.getUint16();b.getUint16();this.Dd=D.dc(b);d=b.getUint32();this.Mt=0!==(d&1);this.Er=0!==(d&2);this.Tl=b.getUint16();c=b.getUint16();this.Xs=b.getString(c,m);this.Gf=b.getUint16();f=b.getUint16();c=J.n(f);d=O.n(c,j);for(e=0;e<f;++e)d.$(b.getUint8());this.Jf=this.Jm=m;if(25==a)d=b.getUint16(),this.Jm=0!==(d&1),this.Jf=2==(d&2);0<f?(this.Jf&&(f/=2),c=N.n(c.Zb(),b.ce(),b.je()),this.gm=c.getString(f,this.Jf)):this.gm=""};
oc.prototype={execute:function(a){var b=window.document.createElement("input"),c=this.Gr(),d=a.Nw();if(this.Jm)b.type="password";b.value=this.gm;c=c.ub(d.b,d.c);C.re(b,c);b.style.zIndex=300;b.style.textAlign=0!==(this.Gf&1)?"center":0!==(this.Gf&2)?"right":"left";b.style.fontFamily=this.Xs;b.style.fontSize=this.Tl+"px";if(this.Mt)b.style.fontStyle="italic";if(this.Er)b.style.fontWeight="bold";a.a.nc.open(b,this.Jf);b.select()},Gr:function(){var a=this.Dd.e+3,b=this.Dd.w-9,c,d=C.kh(this.Tl);c=0!==
(this.Gf&8)?this.Dd.B-d-9:0!==(this.Gf&4)?this.Dd.g+(this.Dd.j()-d)/2:this.Dd.g+1;return new L(a,c,b,c+d)}};var ob;(function(){var a=l;ob=o();ob.xp=function(b,c,d,e){a===l&&(a=[cc,Zb,Yb,bc,pc,qc,rc,lb,Tb,sc,oc,bc,dc,cc,mb,mb,cc,ec,tc,ib,uc,vc,vc,Ub,wc,oc,lc,kc,mc,nc,xc,ac,yc,zc,zc,Ac,Wb,Bc,cc,cc,cc,jb,Cc,Dc,Xb,Zb,bc,bc,xc,Ec,Fc,Gc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Yb,Zb,Zb,cc,cc,cc,cc,Nc,jc,fc,ic,cc,Oc,Pc]);return b<a.length?new a[b](b,c,d,e):new cc}})();var D;
(function(){var a="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(","),b,c;b=function(b){return a[b>>4&15]+a[b&15]};c=function(a){return a&255};D=o();D.sd=50;D.Mj=0;D.sf=1;D.le=2;D.rf=3;D.qd=function(a){var b=a.getInt16(),a=a.getInt16();return new z(b,a)};D.ph=function(a){var b=a.getFloat32(),a=a.getFloat32();return new z(b,a)};D.Wk=function(a,b){var c=[],g;for(g=0;4>g;++g)c[g]=b(a);return c};D.pk=function(a){return D.Wk(a,D.qd)};D.zq=function(a){return D.Wk(a,D.ph)};D.Aq=function(a){var b=[];b[0]=D.qd(a);
b[2]=D.qd(a);b[1]=new z(b[2].b,b[0].c);b[3]=new z(b[0].b,b[2].c);return b};D.tq=function(a){return a[1].c!==a[0].c||a[2].b!==a[1].b||a[3].c<a[0].c||a[2].b<a[1].b};D.Lj=function(a,b){if(b&&D.tq(a)){var c,g;c=Math.sqrt((a[0].b-a[1].b)*(a[0].b-a[1].b)+(a[0].c-a[1].c)*(a[0].c-a[1].c));g=Math.sqrt((a[0].b-a[3].b)*(a[0].b-a[3].b)+(a[0].c-a[3].c)*(a[0].c-a[3].c));return new L(0,0,c,g,Qc.vp((a[1].b-a[0].b)/c,(a[1].c-a[0].c)/c,(a[3].b-a[0].b)/g,(a[3].c-a[0].c)/g,a[0].b,a[0].c))}return new L(a[0].b,a[0].c,
a[2].b,a[2].c)};D.Vk=function(a,b,c){a=c(a);return D.Lj(a,b)};D.zf=function(a,b){return D.Vk(a,b,D.pk)};D.yq=function(a){return D.Vk(a,j,D.zq)};D.Uk=function(a,b){var c,g;c=b(a);g=b(a);return new L(c.b,c.c,g.b,g.c)};D.dc=function(a){return D.Uk(a,D.qd)};D.xq=function(a){return D.Uk(a,D.ph)};D.Xk=function(a,b){var c=a.getUint16(),g,k;k=Array(c);for(g=0;g<c;++g)k[g]=b(a);return k};D.qk=function(a){return D.Xk(a,D.qd)};D.Bq=function(a){return D.Xk(a,D.ph)};D.bc=function(a){return Math.PI*a/180};D.Fa=
function(a){return"#"+b(a>>16)+b(a>>8)+b(a)};D.xb=function(a){var e;e=a>>24&255;return 255==e?"#"+b(a>>16)+b(a>>8)+b(a):"rgba("+c(a>>16)+", "+c(a>>8)+", "+c(a)+", "+e/255+")"};D.mh=function(a){return 1==a.lineWidth%2?0.5:0};D.gq=function(a){return 0<=a.indexOf("\n")||0<=a.indexOf("\r")};D.fd=function(a,b,c){return b>a.length-1?a:a.substr(0,b)+c+a.substr(b+1)};D.vq=function(a){var b,c,g,k;b=a.length;g=c=0;for(k=D.Mj;c<b;)switch(k){case D.Mj:switch(a[c]){case "\n":k=D.le;break;case "\r":k=D.rf;break;
default:k=D.sf}break;case D.sf:switch(a[c]){case "\n":k=D.le;g!=c&&(a=D.fd(a,g,a[c]));g++;break;case "\r":k=D.rf;break;default:g!=c&&(a=D.fd(a,g,a[c])),g++}c++;break;case D.le:switch(a[c]){case "\n":g!=c&&(a=D.fd(a,g,a[c]));g++;break;case "\r":k=D.rf;break;default:k=D.sf,g!=c&&(a=D.fd(a,g,a[c])),g++}c++;break;case D.rf:a=D.fd(a,g,"\n");g++;switch(a[c]){case "\n":k=D.le;break;case "\r":a=D.fd(a,g,"\n");g++;k=D.le;break;default:g!=c&&(a=D.fd(a,g,a[c])),g++,k=D.sf}c++}return a.substring(0,g)};D.Cf=function(a){return D.vq(a).split("\n")};
D.hq=function(a){return 0<=a.indexOf("\t")};D.Rq=function(a){return a.split("\t")};D.Ec=function(a,b,c){if(c){a=D.vh(a,b);for(b=c=0;b<a.length;++b)c+=a[b].mz;return c}return a.measureText(b).width};D.lq=function(a,b,c,g){var k=a.getContext(),p=D.Ec(k,b,j);if(c!==i&&g!==i&&p>c&&0!==(g&256)){for(var n,x=1,F=0,A=0,M=0,u=-1,g=0;g<b.length;++g)p=b.charAt(g),n=b.charAt(g+1),"\r"===p&&"\n"===n?(++x,A=Math.max(F,A),F=0):(n=k.measureText(p).width,F+n<=c||0>=u?(F+=n," "===p&&(M=F,u=g)):(++x,A=Math.max(F,M),
F=F-M+n));A=Math.max(F,A);return new z(A,x*C.Dc(a))}return new z(p,C.Dc(a))};D.vh=function(a,b){var c=D.Rq(b),g=[],k,p,n;for(k=0;k<c.length;++k)p=a.measureText(c[k]).width,n=Math.max(1,Math.ceil(p/D.sd)),k<c.length-1&&(p=n*D.sd),g.push({text:c[k],zj:n,mz:p});return g};D.iq=function(a){return a.mb!==l};D.Wj=function(a,b,c,g,k,p,n){var x=D.bc(90),F=D.bc(180),A=D.bc(270),M=D.bc(360),u;u=Math.max(1,Math.min(g,k)/8);a.beginPath();a.moveTo(b+u,c);a.lineTo(b+g-u,c);a.arc(b+g-u,c+u,u,A,M,m);a.lineTo(b+g,
c+k-u);a.arc(b+g-u,c+k-u,u,M,x,m);a.lineTo(b+u,c+k);a.arc(b+u,c+k-u,u,x,F,m);a.lineTo(b,c+u);a.arc(b+u,c+u,u,F,A,m);a.closePath();p&&a.fill();n&&a.stroke()}})();var Nc;Nc=function(a,b){this.qv=b.getUint16();this.Oi=b.getUint32()};Nc.prototype={execute:function(a){switch(this.qv){case 1:a=a.a.da;a!==l&&a.yy(this.Oi/100);break;case 2:a=a.a.da;a!==l&&a.xy(this.Oi/100);break;case 3:a=a.a.da;a!==l&&a.Jy(Boolean(this.Oi));break;case 4:a.a.i.AutoFontReductionActive=j}}};var wc;
wc=function(a,b){switch(b.getUint16()){case 0:this.Ca="pointer";break;case 1:this.Ca="default";break;case 2:this.Ca="pointer";break;case 3:this.Ca="wait";break;case 4:this.Ca="text";break;case 5:this.Ca="crosshair";break;case 6:this.Ca="help";break;case 7:this.Ca="col-resize";break;case 8:this.Ca="row-resize";break;case 9:this.Ca="nw-resize";break;case 10:this.Ca="ne-resize";break;case 11:this.Ca="w-resize";break;case 12:this.Ca="s-resize";break;case 13:this.Ca="pointer";break;default:this.Ca="default"}};
wc.prototype={execute:function(a){a.s.canvas.style.cursor=this.Ca}};var pc;pc=function(a,b,c,d){a=b.getUint32();b=b.getUint32();this.Vh=1===(a&1);this.Be=d.a.i.SemiTransparencyActive===j?D.xb(b):D.Fa(b)};pc.prototype={execute:function(a){a.F().py(this.Be,this.Vh)}};var rc;rc=function(a,b,c,d){this.Be=d.a.i.SemiTransparencyActive===j?D.xb(b.getUint32()):D.Fa(b.getUint32());a=this.lv(b.getUint32());this.Ul=b.getUint16();c=b.getUint16();b=b.getString(c,m);this.qb=a+" "+this.Ul+'px "'+b+'"'};
rc.prototype={execute:function(a){a.F().Py(this.qb,this.Ul,this.Be)},lv:function(a){var b=[];0!==(a&1)&&b.push("italic");0!==(a&2)&&b.push("bold");0!==(a&16)&&b.push("lighter");0!==(a&32)&&b.push("bolder");0!==(a&64)&&b.push("900");return b.join(" ")}};var xc;
xc=function(a,b,c,d){var c=1===b.getUint32(),e=b.getUint32(),f=b.getUint32(),g,k,p,n,x;30==a?(g=b.getUint32(),k=b.getUint32()/100,p=b.getUint32()/100,n=b.getUint32(),x=0===b.getUint32(),b.getUint32(),b=b.getUint32()):(g=b.getUint16(),k=b.getUint8()/100,p=b.getUint8()/100,n=b.getUint8(),x=j,b=0);d.a.i.SemiTransparencyActive===j?(e=D.xb(e),f=D.xb(f),30==a&&(b=D.xb(b))):(e=D.Fa(e),f=D.Fa(f),30==a&&(b=D.Fa(b)));this.rt=new xa(c,e,f,g,k,p,n,x,b)};xc.prototype={execute:function(a){a.F().sy(this.rt)}};var Cc;
Cc=function(a,b,c,d){this.ta=b.getUint32();d.a.i.SemiTransparencyActive=2===(this.ta&2);d.a.i.lh=8===(this.ta&8)};Cc.prototype={execute:function(a){a=a.a.da;a!==l&&(a.o.ty(1===(this.ta&1)),a.sj(0!==(this.ta&4)))}};var Ec;Ec=function(a,b,c,d){var e,f,g,k,a=b.getUint16();g=[];for(c=0;c<a;++c)e=b.getUint16(),g[c]=b.getString(e,m);this.Aa=[];a=b.getUint16();for(c=0;c<a;++c){k=[];e=b.getUint16();for(f=0;f<e;++f)k[f]=g[b.getUint16()];this.Aa.push({oj:k.join(".").toLowerCase(),Co:b.getUint16()})}d.bi.dy(this.Aa)};
Ec.prototype={execute:o()};var qc;
qc=function(a,b,c,d){var e=b.G(),f=b.getUint32(),g=b.getUint32(),a=b.getUint16(),k=["butt","square","round"],p=["miter","bevel","round"];this.Sb=f;this.Be=d.a.i.SemiTransparencyActive===j?D.xb(g):D.Fa(g);this.$c=a;if(c>=b.G()-e+11){c=b.getUint16();this.fc=k[0];if(0!==(c&0))this.fc=k[0];if(0!==(c&1))this.fc=k[1];if(0!==(c&2))this.fc=k[2];c=b.getUint16();this.gc=p[0];if(0!==(c&0))this.gc=p[0];if(0!==(c&1))this.gc=p[1];if(0!==(c&2))this.gc=p[2];b=b.getUint16();this.we=d.a.i.lh?b/2:1==b?1.7*a:2*b}else this.fc=
k[0],this.gc=p[0],this.we=d.a.i.lh?1.5:1.7*a};qc.prototype={execute:function(a){a.F().Ay(this.$c,this.Be,this.Sb,this.fc,this.gc,this.we)}};var Dc;Dc=function(a,b,c){this.pa=[];for(var d=l,a=b.G(),e,f;b.G()-a<c-8;)e=b.getUint32(),e&2147483648?(f=b.getUint32(),d=D.dc(b),d.B-=1,d.w-=1,d=new Rc(f,d,e&2147483647),this.pa.push(d)):d!==l&&(f=e&65535,e=(e&2147483647)>>16,f=b.G()+f,this.Ku(b,d,e),b.seek(f))};
Dc.prototype={execute:function(a){var b=a.a.da,c;if(b!==l){b.pa.clear();for(c=0;c<this.pa.length;++c)b.pa.Ti(this.pa[c]);a.a.i.DebugOnlyPrintTouchRectangles&&this.Bs()}},Ku:function(a,b,c){switch(c){case 3:b.info().scroll().Z.Dy(new z(a.getInt32(),a.getInt32()));b.info().scroll().Z.By(new z(a.getInt32(),a.getInt32()));b.rg(Sc.Ik);break;case 4:b.info().zoom().Z.Ey(a.getFloat32());b.info().zoom().Z.Cy(a.getFloat32());b.rg(Sc.Sk);break;case 5:b.info().hy(new L(a.getUint16(),a.getUint16(),a.getUint16(),
a.getUint16()));break;case 6:var c=a.getUint16(),d=a.getUint16(),e=Boolean(a.getUint8()),f=Boolean(a.getUint8()),a=new z(a.getUint16(),a.getUint16());b.info().$o(c,new Tc(d,e,f,a))}},Bs:function(){var a,b;for(a=0;a<this.pa.length;++a)b=this.pa[a],WebvisuLogger.R(C.aa("TouchRect ({0}): {1} (Flags: {2})",b.id(),C.Cq(b.P),b.Yb())),b.v(Sc.Ik)&&WebvisuLogger.R(C.aa("  ScrollLimits {0} -> {1}",C.Gc(b.info().scroll().Z.Ta),C.Gc(b.info().scroll().Z.Sa))),b.v(Sc.Sk)&&WebvisuLogger.R(C.aa("  Zoomlimits: {0} -> {1}",
b.info().zoom().Z.Ta,b.info().zoom().Z.Sa))}};var tc;tc=function(a,b){this.Cr=1===b.getUint16()};tc.prototype={execute:function(a){this.Cr?a.Ux():a.Vx()}};var Bc;Bc=function(a,b){var c=b.getUint16();this.U=b.getString(c,m)};Bc.prototype={execute:function(a){if(a.a.i.ChangeWindowTitle)window.document.title=this.U}};var sc;sc=function(a,b){this.f=D.dc(b)};sc.prototype={execute:function(a){a.getContext().restore();a.F().apply()}};var gc;
gc=function(a,b){var c=b.getUint16(),d;this.rA=b.getString(c,m);c=b.getUint16();this.Bt=b.getString(c,m);this.Xh=b.getUint16();this.Tk=[];for(d=0;d<this.Xh;++d)c=b.getUint16(),this.Tk[d]=b.getString(c,m);this.gb=b.getUint32();this.jA=b.getUint32()};var Uc;Uc=function(){this.wb=this.bz=0};var Vc;Vc=o();Vc.vf=0;Vc.Fz=1;Vc.Gz=2;Vc.Ah=4;Vc.jd=8;var Q;Q=o();Q.za=0;Q.td=1;Q.xh=2;Q.Ic=3;var hc;
hc=function(a,b,c,d,e){this.yj=a;this.direction=b;this.vb=c;this.Do=d;this.Ga=e;this.pf=0;this.pd=new Uc;this.ld=new Uc;this.status=new S;this.xa=this.buffer=l;this.Oo=C.Y()};var S;S=function(){this.Wb=j;this.sb=this.tb=this.jb=m;this.gd=this.Ya=this.result=0;this.qa=S.wh};S.wh=1;S.jh=2;S.jd=3;S.Oj=4;S.fk=19;S.kd=20;var uc;uc=o();uc.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteClientProgram is not possible in the webvisualization.")}};var vc;vc=o();vc.prototype={execute:function(){WebvisuLogger.warn("The functionality OpenFileDialog is not possible in the webvisualization.")}};
var Ic;Ic=function(a,b){this.Rc=b.getUint16();this.$c=b.getUint16();this.He=b.getUint16();this.ta=b.getUint32();this.np=1};Ic.prototype={execute:function(a){var b=l,c=C.Qj(this.$c-1,this.He-1).getContext("2d");c.fillStyle="white";c.fillRect(0,0,this.$c-1,this.He-1);if(this.ta&this.np)b=C.Qj(this.$c-1,this.He-1).getContext("2d"),b.fillStyle="white",b.fillRect(0,0,this.$c-1,this.He-1);a.Ua.Lv(this.Rc,new pb(c,b,new B(this.$c,this.He)))}};var Jc;Jc=function(a,b){this.Rc=b.getUint16()};
Jc.prototype={execute:function(a){a.Ua.Tx(this.Rc);a.a.da.pa.lx(this.Rc)}};var Mc;Mc=function(a,b){this.wv=b.getUint32();this.vt=b.getUint16();this.ag=b.getUint16();this.ii=Boolean(b.getUint8());this.ji=Boolean(b.getUint8());this.oi=new z(b.getUint16(),b.getUint16())};Mc.prototype={execute:function(a){var b=new Tc(this.ag,this.ii,this.ji,this.oi);a.a.da.pa.$w(this.wv).info().$o(this.vt,b)}};var Kc;Kc=function(a,b){this.Rc=b.getUint16()};Kc.prototype={execute:function(a){a.Ua.Ix(this.Rc);a.Ua.vy(j)}};
var Lc;Lc=function(a,b){this.Rc=b.getUint16()};Lc.prototype={execute:function(a){var b=a.Ua.Rg(a.Ua.Si());!b.Sc&&a.Pd&&b.De.drawImage(b.na.canvas,0,0);!b.Sc&&!a.Pd&&b.wy(j);a.Ua.Gx()}};var Hc;Hc=o();Hc.prototype={execute:function(a){var b=a.a.ha,c=a.Li,d,e,f;d=J.n(2*c.cf());e=O.n(d,a.a.l.ra);for(f=0;f<c.cf();++f)e.Va(c.ax(f));a=new E(G.Tp,a.a.l.M,0,0);a.ya(d);b.push(a)}};var Ac;Ac=o();
Ac.prototype={execute:function(a){var b=a.a.ha,c=a.og,d,e,f;d=J.n(4*c.cf());e=O.n(d,a.a.l.ra);for(f=0;f<c.cf();++f)e.Va(c.k(f)),e.Va(c.j(f));a=new E(G.Up,a.a.l.M,0,0);a.ya(d);b.push(a)}};var Gc;Gc=function(a,b){var c=b.getUint16();this.U=b.getString(c,52==a)};Gc.prototype={execute:function(a){a.Li.Kv(this.U)}};var zc;zc=function(a,b){var c=b.getUint16();this.U=b.getString(c,34==a)};zc.prototype={execute:function(a){a.og.wn(this.U)}};var Fc;Fc=function(a,b){b.getUint32();b.getUint32()};
Fc.prototype={execute:function(a){a.Li.clear()}};var yc;yc=function(a,b){b.getUint32();b.getUint32()};yc.prototype={execute:function(a){a.og.clear()}};var Wc;Wc=function(a,b){this.rv=b.getUint32();this.Ar=b.getInt16();this.iA=b.getInt16()};Wc.prototype={execute:function(a){a.og.wn(this.U,this.Ar,this.rv)}};var Oc;Oc=function(a,b){var c=b.getUint16();this.U=b.getString(c,m);Wc.call(this,0,b)};Oc.prototype=Object.create(Wc.prototype);var Pc;
Pc=function(a,b){var c=b.getUint16();this.U=b.getString(c,j);Wc.call(this,0,b)};Pc.prototype=Object.create(Wc.prototype);var Xc;Xc=function(a){this.a=a;this.ki=j;this.cn=this.Qi=0};
Xc.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia();b.Aw();this.cn=C.Y();a.La(b.Ja(),this,m,!this.ki)},Dg:t(j),lb:function(){var a=C.Y()-this.cn;this.ki?(this.Qi=a,this.ki=m,this.a.H(this,0)):(WebvisuLogger.ke(C.aa("Deriving post method difference: {0}ms data in body, {1}ms without",this.Qi,a)),a<this.Qi-20&&(WebvisuLogger.R("POST requests will be sent with the data in header because this seems faster"),this.a.Yo(j)),this.a.H(new Yc(this.a),0))},O:function(){this.a.error("deriving the best post method failed")},
className:t("DerivingPostMethodState")};var Yc;Yc=function(a,b,c,d,e){b===i&&(b=l);c===i&&(c=l);this.a=a;this.su=b;this.ru=c;this.qu=e;this.pu=d};
Yc.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia();b.vw(this.su,this.ru,this.pu,this.qu);a.La(b.Ja(),this)},lb:function(a){a=(new Qb(a,this.a.l.ra,this.a.ma())).Kx();a instanceof Ob?0===a.rk?(WebvisuLogger.R("Successfully Logged in! DeviceSessionId: "+a.Bf),this.a.l.Vj=a.Bf,this.a.H(new Zc(this.a),0)):(WebvisuLogger.R("Login failed. Probably credentials necessary; result: "+a.rk),this.a.H(new $c(this.a,a),0)):this.O("DeviceLogin failed with the following error: "+a)},O:function(a){this.a.error("Login to the plc device failed: "+
a)},className:t("DeviceLoginState")};var Bb;Bb=r("a");Bb.prototype={execute:function(){WebvisuLogger.info("Triing to reconnect after error");this.a.H(new vb(this.a),0)},className:t("ErrorState")};var $c;$c=function(a,b){this.a=a;this.Nm=b};
$c.prototype={execute:function(){this.pi()},className:t("QueryCredentialsState"),pi:function(){var a=window.document.createElement("div"),b=this.kc("Ok"),c=this.kc("Cancel"),d=this.ds(),e=this;b.addEventListener("click",function(){e.hu(a,d.lp,d.Fx)},m);c.addEventListener("click",function(){e.eg(a)},m);a.style.Jn=a.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";a.align="center";a.appendChild(d.Zg);a.appendChild(b);a.appendChild(c);window.document.body.appendChild(a);C.re(a,this.Lf(300,200));
a.style.zIndex=300;a.style.backgroundColor="#d4d0c8";d.lp.focus()},ds:function(){var a=window.document.createElement("table"),b=window.document.createElement("input"),c=window.document.createElement("input");c.type="password";a.border="0";a.appendChild(this.vl("Username: ",b));a.appendChild(this.vl("Password: ",c));return{Zg:a,lp:b,Fx:c}},vl:function(a,b){var c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);
d=window.document.createElement("td");d.appendChild(b);c.appendChild(d);return c},Lf:function(a,b){var c=this.a.N.zc();return new z((c.e+c.w-a)/2,(c.g+c.B-b)/2)},ol:function(a){window.document.body.removeChild(a)},hu:function(a,b,c){this.ol(a);this.a.H(new Yc(this.a,b.value,c.value,this.Nm.sp,this.Nm.zp),0)},eg:function(a){this.a.gp("The user did not provide credentials.","No credentials");this.ol(a)},kc:function(a){var b=window.document.createElement("input");b.type="button";b.value=a;return b}};
var vb;
(function(){var a,b;a=function(a){return Wa.ok(a)};b=[{ea:"HandleTouchEvents",ja:"CFG_HandleTouchEvents",type:"boolean",ga:a},{ea:"TouchHandlingActive",ja:"CFG_TouchHandlingActive",type:"boolean",ga:a},{ea:"BestFit",ja:"CFG_BestFit",type:"boolean",ga:a},{ea:"BestFitForDialogs",ja:"CFG_BestFitForDialogs",type:"boolean",ga:a},{ea:"LogLevel",ja:"CFG_LogLevel",type:"string",ga:l},{ea:"Benchmarking",ja:"CFG_Benchmarking",type:"boolean",ga:a},{ea:"WorkaroundDisableMouseUpDownAfterActiveTouch",ja:"CFG_WorkaroundDisableMouseUpDownAfterActiveTouch",type:"boolean",
ga:a},{ea:"WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch",ja:"CFG_WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch",type:"number",ga:function(a){return parseInt(a,10)}},{ea:"WorkaroundDisableResizeHandling",ja:"CFG_WorkaroundDisableResizeHandling",type:"boolean",ga:a},{ea:"WorkaroundDisableSVGAspectRatioWorkaround",ja:"CFG_WorkaroundDisableSVGAspectRatioWorkaroundg",type:"boolean",ga:a},{ea:"WorkaroundDisableSVGEmptySizeWorkaround",ja:"CFG_WorkaroundDisableSVGEmptySizeWorkaround",
type:"boolean",ga:a},{ea:"WorkaroundForceSVGEmptySizeWorkaround",ja:"CFG_WorkaroundForceSVGEmptySizeWorkaround",type:"boolean",ga:a},{ea:"PostDataInHeader",ja:"CFG_PostDataInHeader",type:"number",ga:function(a){a=parseInt(a,10);if(0===a||1===a||2===a)return a;WebvisuLogger.info("Unexpected value at the URL configured; only 0..2 are allowed so falling back to default value");return 0}},{ea:"DebugOnlyPrintPaintCommands",ja:"CFG_DebugOnlyPrintPaintCommands",type:"boolean",ga:a},{ea:"DebugOnlyPrintRawTouches",
ja:"CFG_DebugOnlyPrintRawTouches",type:"boolean",ga:a},{ea:"DebugOnlyPrintGestures",ja:"CFG_DebugOnlyPrintGestures",type:"boolean",ga:a},{ea:"DebugOnlyPrintTouchRectangles",ja:"CFG_DebugOnlyPrintTouchRectangles",type:"boolean",ga:a},{ea:"DebugOnlyDiagnosisDisplay",ja:"CFG_DebugOnlyDiagnosisDisplay",type:"boolean",ga:a},{ea:"ClientName",ja:"ClientName",type:"string",ga:l}];vb=r("a");vb.prototype={execute:function(){var a=this.a.wa(),b;b=window.document.URL;b=b.substr(0,b.lastIndexOf("."));a.uo(b+".cfg.json",
this)},Zn:function(a){try{var b=this.Cu(a);this.Du(b);this.a.Qo(b);this.zs(b);this.We()}catch(e){this.O(e)}},Du:function(a){var d,e,f;for(d=0;d<b.length;++d)e=b[d],f=Wa.lk(e.ja),f!==l&&(f=e.ga!==l?e.ga(f):f,a[e.ea]=f,WebvisuLogger.info("Overridden Config Entry: "+e.ea+" = "+f))},Cu:function(a){try{var b=JSON.parse(a),e=new Configuration,f;for(f in b)f!==i&&(e[f]=b[f]);e.fz();return e}catch(g){return this.Le(g),new Configuration}},O:function(a){this.Le(a);this.a.Qo(new Configuration);this.We()},We:function(){this.a.H(new ad(this.a),
0)},Le:function(a){WebvisuLogger.error("Loading the configuration failed for the following reason: "+a+". A default config will be used instead.")},className:t("RetrievingConfigurationState"),zs:function(a){WebvisuLogger.R("Configuration:");for(var b in a)a.hasOwnProperty(b)&&WebvisuLogger.R(C.aa(" - {0}: {1}",b,a[b]));a.Benchmarking&&WebvisuLogger.info("Benchmarking active")}}})();var bd;bd=r("a");
bd.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia();b.$x();a.La(b.Ja(),this)},Dg:t(j),lb:function(a){if(a!==l&&(a=(new Qb(a,j,this.a.ma())).Nx(),""!==a))this.a.l.nk=a;this.a.H(this.hs(),0)},hs:function(){if(this.a.l.Qq){if(0===this.a.i.PostDataInHeader)return new Xc(this.a);1===this.a.i.PostDataInHeader&&(WebvisuLogger.info("POST-Data in header active by override"),this.a.Yo(j))}1===this.a.i.PostDataInHeader&&WebvisuLogger.warn("POST-Data in header active by override but not supported by Webserver");
return new Yc(this.a)},O:function(a){this.a.error("Retrieving IP Info failed: "+a)},className:t("RetrievingMyIpState")};var cd;cd=r("a");
cd.prototype={execute:function(){var a=this.a.wa(),b=this.a.i,c=this.a.Ia();c.Ex(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.La(c.Ja(),this)},Dg:t(j),lb:function(a){a===l?this.a.H(this,this.a.i.PollingRegistrationInterval):(a=(new Qb(a,j,this.a.ma())).Mx(),a instanceof qa?(WebvisuLogger.R("Successfully connected! SessionId: "+a.Bf+" IntelByteOrder: "+a.ra),this.a.gy(a),this.a.H(new bd(this.a),0)):this.a.error("Connection failed: "+a))},O:function(a){this.a.error("Starting to connect failed: "+
a)},className:t("StartConnectState")};var ad;ad=r("a");ad.prototype={execute:function(){this.a.wa().uo(C.ik((this.a.i.Application+".imagepoolcollection.csv").toLowerCase()),this)},Zn:function(a){try{this.a.N.bi.fill(a)}catch(b){this.Le(b)}this.We()},O:function(a){this.Le(a);this.We()},We:function(){this.a.H(new cd(this.a),0)},Le:function(a){WebvisuLogger.error("Loading the imagepool failed for the following reason: "+a+". Images will not work at all.")},className:t("UploadImagePoolState")};var dd;
dd=function(a,b){this.a=a;this.Ra=b;this.d=this.a.d};
dd.prototype={execute:function(){var a,b;if(this.d===l)this.a.H(this.Ra,0);else{if(this.d.direction==Q.Ic&&(b=C.Y(),b-this.d.Oo<this.a.i.UpdateRate)){this.a.H(this.Ra,0);return}if(this.d.status.qa==S.Oj){a=G.$j;if(this.d.direction==Q.Ic)a=G.Yj;a=new E(a,this.a.l.M,0,1);this.a.ie(l);this.a.H(this.Ra,0);this.a.ha.push(a)}else if(this.d.status.qa==S.kd)this.d.direction!=Q.Ic&&(a=this.cs(this.d)),this.a.ie(l),this.a.H(this.Ra,0),this.d.direction!=Q.Ic&&this.a.ha.push(a);else{if(this.d.direction==Q.td||
this.d.direction==Q.za)if((this.d.status.result!=P.Za||this.d.status.sb)&&this.d.status.qa!=S.fk){a=this.a.wa();b=this.a.Ia();0!==this.d.pf?(b.nw(this.d),a.La(b.Ja(),this)):(this.a.ie(l),this.a.H(this.Ra,0));this.d.status.sb=j;this.d.status.qa=S.fk;if(this.d.status.result!=P.Za)this.d.status.qa=S.kd;return}if(this.d.direction==Q.td||this.d.direction==Q.Ic){if(this.d.status.Wb){this.d.status.Wb=m;this.pi(this.d);this.a.H(this.Ra,0);return}if(this.d.direction==Q.td){if(this.d.status.qa!=S.jd&&(this.d.status.jb||
this.d.status.tb)){a=this.a.wa();b=this.a.Ia();this.d.status.jb?(0<(this.d.Ga.gb&Vc.Ah)&&this.Xo(this.d),0<(this.d.Ga.gb&Vc.jd)?(b.mw(this.d),this.d.status.qa=S.jh):b.On(this.d)):this.d.status.tb&&b.Nn(this.d);a.La(b.Ja(),this);return}}else if(this.d.status.jb||this.d.status.tb){if(this.d.xa!==l)window.document.body.removeChild(this.d.xa),this.d.xa=l;this.d.status.jb?(this.Xo(this.d),a=this.bs(this.d),this.d.status.jb=m,this.d.status.tb=j,this.a.ha.push(a),a=new E(G.Hp,this.a.l.M,this.d.buffer.size(),
0)):a=this.as(this.d);this.a.H(this.Ra,0);this.a.ha.push(a);this.d.Oo=C.Y();return}}else if(this.d.direction==Q.za){if(this.d.status.Wb||this.d.status.tb){a=this.a.wa();b=this.a.Ia();this.d.status.Wb?b.On(this.d):this.d.status.tb&&b.Nn(this.d);a.La(b.Ja(),this);return}}else if(this.d.direction==Q.xh){if(this.d.status.Wb){this.d.status.Wb=m;a=this.$r(this.d);this.a.H(this.Ra,0);this.a.ha.push(a);return}if(this.d.status.sb&&this.d.status.qa!=S.kd){this.a.H(this.Ra,0);this.Lo(this.d);return}}this.a.H(this.Ra,
0)}}},lb:function(a){var b=m;if(a===l&&(this.d.direction==Q.za||this.d.direction==Q.td)){if(this.d.xa!==l)window.document.body.removeChild(this.d.xa),this.d.xa=l;b=new E(G.Zj,this.a.l.M,this.d.yj,G.Zp);this.a.ie(l);this.a.H(this.Ra,0);this.a.ha.push(b)}else if(a=new Qb(a,this.a.l.ra,this.a.ma()),this.d.status.sb&&this.d.status.qa!=S.kd)a.Lx(this.d),this.a.H(this.Ra,0),this.Lo(this.d);else{if(this.d.direction==Q.za)if(this.d.status.Wb){if(this.d.status.Wb=m,a.pj(this.d),this.d.status.result==P.Za)this.d.status.tb=
b=j}else this.d.status.tb&&a.Fo(this.d);else if(this.d.status.qa==S.jh)this.d.status.Wb=m,a.pj(this.d),this.d.status.result==P.Za&&0<this.d.pd.wb?(this.d.xa!==l&&window.document.body.removeChild(this.d.xa),this.d.status.qa=S.jd,this.ou(this.d)):(this.d.status.result=0,this.d.status.qa=S.wh,this.d.status.jb=j,this.d.Ga.gb&=~Vc.Ah,this.d.Ga.gb&=~Vc.jd);else if(this.d.status.jb){if(a.pj(this.d),this.d.status.jb=m,this.d.status.result==P.Za)this.d.status.tb=b=j}else this.d.status.tb&&a.Fo(this.d);this.a.H(this.Ra,
0);if(b&&(b=new E(G.$j,this.a.l.M,this.d.yj,this.d.status.result),this.a.ha.push(b),this.d.direction==Q.td))this.d.xa!==l&&window.document.body.removeChild(this.d.xa),this.d.xa=l}},Dg:t(j),Xo:function(a){var b,c,d,e;b=a.vb.split("/");c=a.Do.split("/");if(0<b.length&&0<c.length){for(e=0;e<b.length-1;++e)d=0===e?b[e]:d+"/"+b[e];d=d!==i?d+"/"+c[c.length-1]:c[c.length-1];a.vb=d}},Lo:function(a){var b=l,c=this.uw();if(a.buffer!==l&&(a.direction==Q.za||a.direction==Q.xh))b=a.buffer.Zb();this.d.xa!==l&&
window.document.body.removeChild(a.xa);a.status.qa=S.kd;if(b!==l&&a.status.result==P.Za)b=new Blob([b],{type:"application/octet-binary"}),a=a.vb,a=a.split("/"),a=a[a.length-1],c?this.zw(b,a):this.yw(b,a)},zw:function(a,b){window.navigator.msSaveBlob(a,b)},uw:function(){var a=window.navigator.userAgent,b=a.indexOf("Trident/");return 0<a.indexOf("MSIE ")?j:0<b?j:m},yw:function(a,b){var c=window.document.createElement("a");c.setAttribute("href",window.URL.createObjectURL(a));c.setAttribute("download",
b);if(window.document.createEvent){var d=document.createEvent("MouseEvents");d.initEvent("click",j,j);c.dispatchEvent(d)}else c.click()},Kn:t(j),O:function(a){this.a.error("Error while processing the visualization: "+a)},className:t("VisuFileTransferState"),ul:function(a){var b=window.document.createElement("table"),c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);b.border="0";b.appendChild(c);return{Zg:b}},
kc:function(a,b,c){var d=window.document.createElement("input"),e;d.type=b;if(a!==l)d.value=a;else if(d.style.display="none",c!==l&&c.Ga!==l&&0<c.Ga.Xh){for(a=0;a<c.Ga.Xh;++a)b=c.Ga.Tk[a],b=b.split("|"),"*.*"!=b[1]&&(e=0===a?b[1].substr(1):e+","+b[1].substr(1));d.accept=e}return d},pi:function(a){var b=window.document.createElement("div"),c=this.kc(l,"file",a),d=this.kc("Browse...","button",a),a=this.kc("Cancel","button",a),e=this.ul("Choose file to transfer..."),f=this;c.addEventListener("change",
function(a){f.st(a,b)},m);a.addEventListener("click",function(){f.eg(b)},m);d.addEventListener("click",function(){c.click()},m);b.style.Jn=b.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";b.align="center";b.appendChild(e.Zg);b.appendChild(c);b.appendChild(d);b.appendChild(a);window.document.body.appendChild(b);C.re(b,this.Lf(300,200));b.style.zIndex=300;b.style.backgroundColor="#d4d0c8";this.d.xa=b},ou:function(a){var b=window.document.createElement("div"),c=this.kc("Ok","button",a),a=this.kc("Cancel",
"button",a),d=this.ul("The file already exists in the plc. Do you want to overwrite the file? "),e=this;a.addEventListener("click",function(){e.eg(b)},m);c.addEventListener("click",function(){e.iu(b)},m);b.style.Jn=b.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";b.align="center";b.appendChild(d.Zg);b.appendChild(c);b.appendChild(a);window.document.body.appendChild(b);C.re(b,this.Lf(300,200));b.style.zIndex=300;b.style.backgroundColor="#d4d0c8";this.d.xa=b},st:function(a){var b=new FileReader,
c=this,d=this.a.d;b.onload=function(a){c.cu(a)};d.Do=a.target.files[0].name;b.readAsArrayBuffer(a.target.files[0])},cu:function(a){var b=this.a.d;b.buffer=N.n(a.target.result,this.a.l.ra,this.a.ma());b.status.jb=j},Lf:function(a,b){var c=this.a.N.zc();return new z((c.e+c.w-a)/2,(c.g+c.B-b)/2)},eg:function(a){var b=this.a.d;if(b!==l)b.status.qa=S.Oj;window.document.body.removeChild(a)},iu:function(a){if(this.a.d!==l)this.d.status.qa=S.wh,this.d.Ga.gb&=~Vc.Ah,this.d.Ga.gb&=~Vc.jd;window.document.body.removeChild(a);
this.d.xa=l},cs:function(a){var b=this.a.l.CommBufferSize-2E3,c=J.n(b+4),d=O.n(c,j),b=a.vb.length;d.Wa(a.vb,m);a=new E(G.Zj,this.a.l.M,a.yj,a.status.result);0<b&&a.ya(c);return a},as:function(a){var b;b=0;var c=this.a.l.CommBufferSize-2E3,d=J.n(c+4),e=O.n(d,j),f;if(a.buffer.size()-a.status.gd<c)c=a.buffer.size()-a.status.gd,a.status.qa=S.kd,b=1;e.r(c);for(f=0;f<c;f++)e.$(a.buffer.getUint8());b=new E(G.Xj,this.a.l.M,b,0);b.ya(d);a.status.gd+=c;return b},bs:function(a){var b=this.a.l.CommBufferSize-
2E3,c=J.n(b+4),d=O.n(c,j),b=a.vb.length;d.r(b);d.Wa(a.vb,m);a=new E(G.Xj,this.a.l.M,2,0);a.ya(c);return a},$r:function(a){var b,c=J.n(20);O.n(c,j).Wa("DummyFileName",m);b=new E(G.Yj,this.a.l.M,0,0);b.ya(c);a.status.jb=j;return b}};var ed;ed=r("a");
ed.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia(),c=E.Uj(this.a.l.M,this.a.i.BestFit,this.a.i.BestFitForDialogs,this.a.i.ScaleTypeIsotropic,this.a.N.zc());b.bh(c);a.La(b.Ja(),this)},lb:function(a){a=(new Qb(a,this.a.l.ra,this.a.ma())).Qg(l);a instanceof Qa?!a.Hg()||0<a.zd?this.O("Unexpected paint result in "+this.className()):this.a.H(new fd(this.a),0):this.O(a)},O:function(a){this.a.error("Error during initializing (1) the visualization: "+a)},className:t("VisuOnlineInitState1")};
var fd;fd=r("a");
fd.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia(),c=new E(G.ak,this.a.l.M,0,0),d=J.n(16),e=O.n(d,j),f=this.a.i,g;e.r(458752);e.r(7);g=0;f.HasKeyboard===j&&(g|=24);f.TouchHandlingActive&&(g|=3);e.r(g);c.ya(d);b.bh(c);a.La(b.Ja(),this)},lb:function(a){a=(new Qb(a,this.a.l.ra,this.a.ma())).Qg(l);a instanceof Qa?!a.Hg()||0<a.zd?this.O("Unexpected paint result in "+this.className()):this.a.H(new gd(this.a),0):this.O(a)},O:function(a){this.a.error("Error during initializing (2) the visualization: "+a)},
className:t("VisuOnlineInitState2")};var gd;gd=r("a");
gd.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia(),c=new E(G.ak,this.a.l.M,0,0),d=J.n(32),e=O.n(d,j);e.r(1);e.Wa(this.a.i.StartVisu,m);c.ya(d);b.bh(c);a.La(b.Ja(),this)},lb:function(a){a=(new Qb(a,this.a.l.ra,this.a.ma())).Qg(l);a instanceof Qa?!a.Hg()||0<a.zd?this.O("Unexpected paint result in "+this.className()):this.a.H(new hd(this.a),0):this.O(a)},O:function(a){this.a.error("Error during initializing (3) the visualization: "+a)},className:t("VisuOnlineInitState3")};var hd;
hd=function(a){this.a=a;this.Ad=l;this.mA=C.Y();this.a.ny(new Rb);this.Pi=m;this.Ql=j;this.ri=m};
hd.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia();this.Sr(this.a.N.ai);if(this.Ad===l){var c;c=this.a.ha.empty()?new E(G.Vp,this.a.l.M,0,0):this.a.ha.pop();c.Od?(this.ri=j,b.iz(c)):(this.ri=m,b.bh(c))}else b.gz(this.Ad.Gh);this.bv=C.Y();a.La(b.Ja(),this)},Kn:function(){return this.Ad===l&&!this.Pi},lb:function(a){if(this.ri)this.a.H(this.am(),this.Al());else{var a=(new Qb(a,this.a.l.ra,this.a.ma())).Qg(this.Ad),b=this;if(a instanceof Qa)if(a.Hg()){this.Ad=l;if(this.Ql)this.a.N.bw(),
this.Ql=m;this.Pi=j;this.a.N.Ew(a,function(){b.Pi=m;b.a.H(b.am(),b.Al())})}else this.Ad=a,this.a.H(this,0);else this.O(a)}},am:function(){return this.a.d!==l?new dd(this.a,this):this},Al:function(){var a=this.a.ha;if(this.a.d!==l&&this.a.d.direction==Q.Ic)return this.a.i.UpdateRate;if(a.empty()&&this.a.d===l){var b=C.Y(),c=this.a.i.UpdateRate,a=b-a.pm;return 0<=a&&a<Math.min(2*c,500)?Math.max(10,c/5):Math.max(10,c-(b-this.bv))}return 0},Sr:function(a){a.Yv()},O:function(a){this.a.error("Error while processing the visualization: "+
a)},className:t("VisuOnlineState")};var id;id=function(a){this.a=a;this.Uu=0};
id.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia();b.hz(this.a.l.M);a.La(b.Ja(),this)},lb:function(a){a=(new Qb(a,this.a.l.ra,this.a.ma())).Ox();"number"===typeof a?0===a?(WebvisuLogger.R("Successfully finished visu registration"),this.a.H(new ed(this.a),0)):1===a?(0===this.Uu++%20&&WebvisuLogger.info("Still polling the registration of the visualization. Is the visu stopped?"),this.a.H(this,this.a.i.PollingRegistrationInterval)):this.O("Unexpected return value: "+a):this.O(a)},O:function(a){this.a.error("Visu registration in the plc failed: "+
a)},className:t("VisuPollingRegistrationState")};var Zc;Zc=r("a");
Zc.prototype={execute:function(){var a=this.a.wa(),b=this.a.Ia(),c=this.a.i;b.jz(c.Application,c.ClientName,this.a.l.nk);a.La(b.Ja(),this)},lb:function(a){a=(new Qb(a,this.a.l.ra,this.a.ma())).Px();"number"===typeof a?(WebvisuLogger.R("Successful first visu registration step: "+a),this.a.l.M=a,this.a.H(new id(this.a),this.a.i.PollingRegistrationInterval)):this.O(a)},O:function(a){this.a.error("Visu registration in the plc failed: "+a)},className:t("VisuRegistrationState")};var jd;
jd=function(a){this.a=a;this.jc=l;this.hb=[];this.bb=[];"onpointerdown"in window?(WebvisuLogger.ke("Touchsupport using PointerEvents"),this.Ns(),this.Qm(this.jl)):"ontouchstart"in window?(WebvisuLogger.ke("Touchsupport using TouchEvents"),this.Os(),this.Qm(this.jl)):WebvisuLogger.warn("No touch support")};
jd.prototype={register:r("jc"),aj:function(){var a;for(a=0;a<this.hb.length;++a)this.a.N.s.canvas.removeEventListener(this.hb[a].ad,this.hb[a].Ea)},jl:function(){return this.a.N.s.canvas},Qm:function(){var a;for(a=0;a<this.hb.length;++a)this.a.N.s.canvas.addEventListener(this.hb[a].ad,this.hb[a].Ea)},Os:function(){function a(a){b.Pe(a)}var b=this;this.hb.push({ad:"touchstart",Ea:a});this.hb.push({ad:"touchmove",Ea:a});this.hb.push({ad:"touchend",Ea:a})},Ns:function(){var a=this;this.hb.push({ad:"pointerdown",
Ea:function(b){a.ju(b)}});this.hb.push({ad:"pointermove",Ea:function(b){a.ku(b)}});this.hb.push({ad:"pointerup",Ea:function(b){a.lu(b)}})},vv:function(a,b){var c;for(c=0;c<a.length;++c)if(a[c].identifier===b)return j;return m},Bh:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],b.Vd(new kd(e.identifier,w.yf(e),c))},Yk:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],this.vv(b,e.identifier)||c.Vd(new kd(e.identifier,w.yf(e),T.Lb))},ns:function(){this.a.i!==l&&this.a.i.WorkaroundDisableMouseUpDownAfterActiveTouch&&
this.a.ni.uy(C.Y()+this.a.i.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch)},Pe:function(a){if(this.jc!==l){a.preventDefault();this.ns();var b=new ld;"touchstart"==a.type?(this.Bh(a.changedTouches,b,T.nb),this.Yk(a.targetTouches,a.changedTouches,b,T.Lb)):"touchmove"==a.type?this.Bh(a.targetTouches,b,T.Lb):(this.Bh(a.changedTouches,b,T.ab),this.Yk(a.targetTouches,a.changedTouches,b,T.Lb),0===a.targetTouches.length&&this.en());this.jc(b)}},ju:function(a){"mouse"!==a.pointerType&&(a.preventDefault(),
-1!==this.Sh(a.pointerId)?WebvisuLogger.warn(C.aa("Unexpected Pointerdown event for id: {0}; Ignored!",a.pointerId)):(this.on(),this.bb.push(new kd(a.pointerId,w.xf(a),T.nb)),this.Pm()))},lu:function(a){this.pn(a,T.ab);this.bb.splice(this.Sh(a.pointerId),1);"touch"===a.pointerType&&0===this.bb.length&&this.en()},ku:function(a){this.pn(a,T.Lb)},pn:function(a,b){"mouse"!==a.pointerType&&(a.preventDefault(),this.on(),this.bb[this.Sh(a.pointerId)]=new kd(a.pointerId,w.xf(a),b),this.Pm())},Pm:function(){var a=
new ld,b;for(b=0;b<this.bb.length;++b)a.Vd(this.bb[b]);this.jc(a)},on:function(){var a;for(a=0;a<this.bb.length;++a)this.bb[a]=new kd(this.bb[a].id(),this.bb[a].location().oa,T.Lb)},Sh:function(a){var b;for(b=0;b<this.bb.length;++b)if(this.bb[b].id()===a)return b;return-1},en:function(){function a(a){a.preventDefault()}var b=this;b.a.N.s.canvas.addEventListener("contextmenu",a);window.setTimeout(function(){b.a.N.s.canvas.removeEventListener("contextmenu",a)},500)}};var md;
md=function(a){this.zb=this.fb=l;if(!a)a=T.Na;this.Yg(a)};
md.prototype={type:function(){this.fb===l&&h(Error("Unexpected call. Gesture data not yet assigned"));return this.fb.type()},Yg:function(a){if(!(this.fb!==l&&this.type()===a))switch(a){case T.Mb:this.fb=new nd;break;case T.Na:this.fb=new od;break;case T.Kc:this.fb=new pd;break;case T.Ab:this.fb=new qd(m);break;case T.ob:this.fb=new qd(j);break;default:h(Error("Unexpected gesture type"))}},data:s("fb"),Da:function(){var a=new md;if(this.fb!==l)a.fb=this.fb.Da();a.zb=this.zb;return a}};var T;
T={Lb:1,ab:2,nb:4,Ff:8,Pk:16,nh:5,Na:0,Kc:1,Mb:2,Ab:3,ob:4,Jc:0,Ef:1,lr:2,Df:4,Nk:8,Ok:16,dA:255,$a:0,se:5,te:10};T.Ma=T.te;T.ue=11;T.Kb=12;T.yb=13;T.Tq=T.yb;var rd;rd=function(){this.Aj=this.uf=this.aA=this.ih=this.oh=this.eh=m};var sd;sd=function(){this.Pc=[]};
sd.prototype={Ho:function(a,b){WebvisuLogger.R("Record GesturesTouchEvent");this.empty()||!this.It(a)||!b?this.Pc.push(a):this.Pc[this.Pc.length-1]=a},Xx:function(a,b){WebvisuLogger.R("Replay");for(var c;"undefined"!==typeof(c=this.Pc.shift());)a.nf(c,b)},empty:function(){return 0===this.Pc.length},It:function(a){var b=this.Pc[this.Pc.length-1],c,d,e;if(a.touches().length!==b.touches().length)return m;for(c=0;c<a.touches().length;++c)if(d=a.touches()[c],e=b.touches()[c],d.id()!==e.id()||d.Yb()!==
e.Yb()||d.v(T.ab)||d.v(T.nb))return m;return j}};var kd;kd=function(a,b,c){this.Yh=a;this.ta=c;this.Me=new td(b)};kd.prototype={id:s("Yh"),location:s("Me"),Yb:s("ta"),rg:function(a){this.ta|=a},v:function(a){return(this.ta&a)===a}};var ld;ld=function(){this.ba=[];this.tv=C.Y()};ld.prototype={touches:s("ba"),Vd:function(a){this.ba.push(a)},timeStamp:s("tv")};var td;td=function(a){this.oa=a;this.nm=l};td.prototype={kf:s("nm"),zy:r("nm")};var W;
W={cj:function(a,b){var c=0<b.touches().length,d,e;a.data().aw();for(d=0;d<b.touches().length;++d)e=b.touches()[d],a.data().Vd(e.id(),e.location().oa,e.Yb()),e.v(T.ab)||(c=m);return c},Ov:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(a.touches()[c].v(b))return j;return m},Wd:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(!a.touches()[c].v(b))return m;return j},sw:function(a){var b=T.Nk|T.Ok;1===a.touches().length?b|=T.Ef|T.Df:2===a.touches().length&&(b|=T.lr);return b},hf:function(a){return a===
T.Ab||a===T.ob}};var ud;ud={Qk:40};var zb;zb=function(a){var b=this;this.a=a;this.Jl=new jd(a);this.Jl.register(function(a){b.jc(a)});this.rb=l;this.pa=new vd;this.o=new wd;this.Vc=new xd(a.i);this.wi=-1;this.Ym("none");this.oc=new yd;this.Ai=j};
zb.prototype={aj:function(){this.Ym("auto");this.Jl.aj()},sj:function(a){this.o.sj(a);if(a)this.rb=new zd(this.a.N.s.canvas,j)},yy:function(a){this.oc.Ny(a)},xy:function(a){this.oc.my(a)},Jy:r("Ai"),Pg:function(a,b){this.a.Xb(E.yp(a,this.a.l.M,b))},ox:function(){return this.oc.Hv()},Vy:function(){this.oc.stop()},Kw:function(a,b){var c=new rd,d;if(this.di(a,T.Nk)&&this.pa.Gw(b))c.Aj=j;else if(this.di(a,T.Ok)&&this.pa.Nv(b))c.uf=j;else if(this.di(a,T.Ef|T.Df))d=[],this.pa.Zv(b,d),c.oh=d[0],c.ih=d[1];
c.eh=!this.Qr();return c},dj:function(a,b,c){if(a>=T.te&&a<=T.Tq)if(b.type()===T.Na||b.type()===T.Kc){if(this.Ys(a,b,b.zb,c))return j}else if(this.Ht(b.type())&&this.Zs(a,b,b.zb))return j;return m},Gv:function(){this.o.pw();!this.o.kj()&&this.Vc.buffer().empty()&&this.o.uj(m)},Ym:function(a){this.a.N.s.canvas.style.touchAction=a},Qr:function(){return this.o.kj()?(this.o.uj(j),m):j},di:function(a,b){return(a&b)==b},Ht:function(a){return a===T.Mb||W.hf(a)},jm:function(a){return a===T.ob},Ys:function(a,
b,c){var d=Z.vf;if(a===T.Ma){c=this.pa.$n(b);if(c===l)return j;b.zb=c;this.jv(c);this.o.hx()}else if(a===T.yb||a===T.Kb)if(c!==l&&(b.type()!==T.Na||!this.oc.start(this.a.N,c,this.rb,b,this)))this.Kl(d,b,c),this.Mm(b,c);if(c!==l){if(b.type()===T.Kc||b.type()===T.Na)d=b.data().Fn(c,a,this);Z.be(d,Z.Cj)&&(d=Z.Hb(d,Z.Pj))}a!==T.Kb&&(this.Kl(d,b,c),this.rb.Ao(this.a.N,c));return m},px:function(a,b){var c=b.info().scroll().Ih.ub(b.info().scroll().sa);this.Mm(a,b);this.Pg(G.hh,c)},Zs:function(a,b,c){if(a===
T.Ma){c=this.pa.$n(b);if(c===l&&!this.jm(b.type()))return j;b.zb=c;W.hf(b.type())&&this.qi(b,c)}else if(c!==l||this.jm(b.type()))W.hf(b.type())?this.qi(b,c):(a===T.yb||a===T.Kb)&&this.qi(b,c);return m},qi:function(a,b){this.Cl(a.data().createEvent(this.a.l.M,b))},Cl:function(a){this.a.Xb(a)},Mm:function(a,b){var c=a.data().createEvent(this.a.l.M,b);c.Fc=b.P;this.Cl(c)},jv:function(a){a.info().zoom().Tg(1);a.info().scroll().Bc(new z(0,0));this.a.da.o.Ie||this.rb.Wv(this.a.N,a.P)},Kl:function(a,b,c){Z.be(a,
Z.nq)&&this.os(a,b,c);Z.v(a,Z.uh)&&(c.info().zoom().Tg(c.info().zoom().Z.Ta),this.wr(b,c));Z.v(a,Z.th)&&c.info().zoom().Tg(c.info().zoom().Z.Sa)},wr:function(a,b){this.sm(Z.nd|Z.od,b)},os:function(a,b,c){b.type()===T.Kc?this.sm(a,c):b.type()===T.Na&&this.Qt(a,c)},sm:function(a,b){var c=b.Vn(),d=b.info().zoom(),e;Z.v(a,Z.pe)?d.he(new z(d.Pb.b+c.e,d.Pa.c)):Z.v(a,Z.nd)&&(e=d.Pb.b-(1-d.mc)*d.Pb.b,d.he(new z(e,d.Pa.c)),b.info().scroll().Bc(new z(d.Pa.b-d.Pb.b,b.info().scroll().sa.c)));Z.v(a,Z.qe)?d.he(new z(d.Pa.b,
d.Pb.c+c.g)):Z.v(a,Z.od)&&(e=d.Pb.c-(1-d.mc)*d.Pb.c,d.he(new z(d.Pa.b,e)),b.info().scroll().Bc(new z(b.info().scroll().sa.b,d.Pa.c-d.Pb.c)))},Qt:function(a,b){b.to(a)},jc:function(a){var b=this.a.i;if(!(b===l||!this.o.fm||!b.TouchHandlingActive)){b.DebugOnlyPrintRawTouches&&this.Cs(a);this.Tr(a);if(this.rb===l)this.rb=new zd(this.a.N.s.canvas,m);this.o.ti?(this.Vc.buffer().Ho(a,j),this.Zm()):this.Vc.nf(a,this)&&(this.o.ti&&this.Vc.buffer().Ho(a,j),this.Vc.buffer().empty()||this.Zm())}},Tr:function(a){W.Wd(a,
T.nb)?this.a.ni.Vo(j):W.Wd(a,T.ab)&&this.a.ni.Vo(m)},Zm:function(){if(-1===this.wi){var a=this;this.wi=window.setTimeout(function(){a.mu()},100)}},mu:function(){this.wi=-1;this.Vc.buffer().Xx(this.Vc,this);this.o.uj(m)},Cs:function(a){var b,c,d,e,f;c=C.aa("Touches ({0}): ",a.touches().length);for(b=0;b<a.touches().length;++b)d=a.touches()[b],e="D",f="",d.v(T.Lb)?e="M":d.v(T.ab)&&(e="U"),d.v(T.Ff)&&(f="P"),c+=C.aa("[{0}{1}{2} ({3}/{4})] ",f,e,d.id(),d.location().oa.b,d.location().oa.c);WebvisuLogger.ke(c)}};
var yd;yd=function(){this.ib=-1;this.cb=this.ua=this.rb=this.N=this.Zc=l;this.an=0;this.Of=1};
yd.prototype={start:function(a,b,c,d,e){this.N=a;this.Zc=b;this.rb=c;this.ua=d.Da();this.cb=e;var f=this;this.ib=window.setInterval(function(){f.jc()},ud.Qk);return-1!==this.ib},stop:function(){if(-1!==this.ib)window.clearInterval(this.ib),this.cb.px(this.ua,this.Zc),this.ib=-1,this.ua=this.rb=this.N=this.Zc=l},Hv:function(){return-1!==this.ib},Ny:r("an"),my:r("Of"),jc:function(){var a=this.Zc.info().scroll();1>Math.abs(a.Ba.b)&&1>Math.abs(a.Ba.c)?this.stop():(a.Ba.Mo(1-this.Of),a.Ba.b=C.mk(a.Ba.b),
a.Ba.c=C.mk(a.Ba.c),a.sa.Gb(a.Ba),a=this.Zc.Vi(),this.Zc.to(a),Z.v(a,Z.Pj)||Z.v(a,Z.oq)&&Z.v(a,Z.pq)?this.stop():this.rb.Ao(this.N,this.Zc))}};var zd;zd=function(a,b){if(!b)this.zi=this.tl(a.width,a.height),this.Eu=this.es()};
zd.prototype={Ao:function(a,b){var c=a.s;c.save();a.a.da.o.Ie?b.info().qj(0)!==l&&this.Bo(a,b):(this.xu(c,b),this.yu(c,b));c.restore()},xu:function(a,b){var c=b.P.e,d=b.P.g,e=b.P.k()+1,f=b.P.j()+1;a.fillStyle=this.Eu;a.fillRect(c,d,e,f)},yu:function(a,b){var c=b.P.e,d=b.P.g,e=b.P.k()+1,f=b.P.j()+1;a.beginPath();a.rect(c,d,e,f);a.clip();this.ln(a,b,l);a.drawImage(this.zi,c,d,e,f,c,d,e,f)},Bo:function(a,b){var c,d,e=a.s;c=b.P.e;var f=b.P.g;d=b.P.k()+1;var g=b.P.j()+1;e.beginPath();e.rect(c,f,d,g);e.clip();
for(f=0;f<b.info().Vb.length;++f)if(c=b.info().qj(f),c!==l)d=a.Ua.Rg(c.ag),d=d.De.canvas,e.save(),this.ln(e,b,c),e.drawImage(d,0,0),e.restore()},ln:function(a,b,c){a.translate(b.info().zoom().Pa.b,b.info().zoom().Pa.c);a.scale(b.info().zoom().mc,b.info().zoom().mc);a.translate(-b.info().zoom().Pa.b,-b.info().zoom().Pa.c);a.translate(c===l||!c.ii?b.info().scroll().sa.b:0,c===l||!c.ji?b.info().scroll().sa.c:0);c!==l&&a.translate(b.P.e-c.Gb().b,b.P.g-c.Gb().c)},Wv:function(a,b){var c=this.zi.getContext("2d");
c.drawImage(a.na.canvas,b.e,b.g,b.k(),b.j(),b.e,b.g,b.k(),b.j());c.drawImage(a.s.canvas,b.e,b.g,b.k(),b.j(),b.e,b.g,b.k(),b.j())},tl:function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c},es:function(){var a=this.tl(8,8),b=a.getContext("2d");b.fillStyle="#fff";b.fillRect(0,0,a.width,a.height);b.jB="#000";b.lineWidth=1;b.beginPath();b.moveTo(b.lineWidth/2,a.height);b.lineTo(b.lineWidth/2,b.lineWidth/2);b.lineTo(a.width,b.lineWidth/2);b.stroke();b.closePath();return this.zi.getContext("2d").createPattern(a,
"repeat")}};var wd;wd=function(){this.ti=this.fm=m;this.Zh=0;this.Ie=m};wd.prototype={ty:r("fm"),uj:r("ti"),hx:function(){this.Zh++},pw:function(){this.Zh--},kj:function(){return 0<this.Zh},sj:r("Ie")};var Z;Z={vf:0,uh:1,th:2};Z.Xz=Z.uh|Z.th;Z.pe=4;Z.qe=8;Z.nd=16;Z.od=32;Z.nq=Z.pe|Z.qe|Z.nd|Z.od;Z.oq=Z.pe|Z.nd;Z.pq=Z.qe|Z.od;Z.Pj=65536;Z.Hj=131072;Z.Ij=262144;Z.Fj=524288;Z.Gj=1048576;Z.Kj=2097152;Z.Jj=4194304;Z.Dj=Z.Hj|Z.Fj;Z.Ej=Z.Ij|Z.Gj;Z.dh=Z.Dj|Z.Ej;Z.pp=Z.Kj|Z.Jj;Z.Cj=Z.pp|Z.dh;
Z.Hb=function(a,b){return a|b};Z.Rx=function(a){return a&~Z.dh};Z.v=function(a,b){return(a&b)===b};Z.be=function(a,b){return 0!==(a&b)};var xd;xd=function(a){var b;this.t=new sd;this.Te=[];this.Te[0]=new Ad;for(b=1;b<T.nh;++b)this.Te[b]=new Bd;this.Tm();this.Di=new Cd(a);this.o=new Dd;this.Gd=new Ed;this.Ke=l;this.As=a.DebugOnlyPrintGestures};
xd.prototype={nf:function(a,b){return 1>a.touches().length||a.touches().length>T.nh?m:this.ps(a,b)},Kt:function(a){return!this.Gd.Hd.uf&&W.Wd(a,T.nb)},lm:function(a,b){return!b.ox()&&!this.Gd.Hd.uf&&W.Wd(a,T.ab)},ps:function(a,b){var c=new md,d,e=m;this.Ms(a);this.Pr(a,b)&&(this.Kt(a)&&this.tt(a,b),(this.o.S.state()===T.Ma||this.o.S.state()===T.ue)&&this.Ss(a,b),this.o.Jo(),this.Tm(),this.Gd.Hd.Aj&&this.o.S.ua.Yg(T.Ab));if(this.o.S.ua.type()!=T.Ab&&(d=a.touches().length-1,d=this.Te[d].nf(this,a,c),
d===T.se||d>=T.te)){if(d>=T.te)return this.Ke!==l?(this.lm(a,b)&&b.Pg(G.hh,a.touches()[0].location().oa),this.Re(this.Ke.state(),this.Ke.ua,a,b),this.Ke=l,this.Re(d,c,a,b)):(this.Re(d,c,a,b),this.lm(a,b)&&b.Pg(G.hh,a.touches()[0].location().oa)),j;this.o.S.assign(d,c);this.o.S.En(a);e=j}if(!e)return this.Gd.Hd.eh||(d=this.js(c,a),this.Re(d,c,a,b)),j;this.Kh(T.$a,c);return m},tt:function(a,b){b.Vy();b.Pg(G.Yp,a.touches()[0].location().oa)},buffer:s("t"),jx:function(a,b){var c=new md(T.ob);c.data().Vd(b,
a,T.nb|T.Ff);this.Ke=new Fd(T.Ma,c)},Re:function(a,b,c,d){if(this.o.S.state()!==T.Kb){var e=this.o.S.ua.zb;this.Rr(a,b);this.Kh(a,b);this.o.S.assign(a,b.Da());b.zb=e;e={rw:m,vA:function(){d.dj(T.Kb,b)}};d.dj(a,b,e)&&(this.Kh(T.Kb,b),e.rw||d.dj(T.Kb,b),this.o.S.Xg(T.Kb));this.o.S.ua.zb=b.zb;a!==T.yb&&this.o.S.En(c)}a===T.yb&&this.o.Jo()},Rr:function(a,b){var c,d;if(a===T.Ma&&b.type()===T.ob){c=m;for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].v(T.Ff)){c=j;break}if(!c)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].v(T.nb)){this.o.S.ry(b.data().touches()[d].id());
break}}if(this.o.S.Xl)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].id()==this.o.S.dl){b.data().touches()[d].rg(T.Pk);break}},js:function(a,b){var c=W.Wd(b,T.ab),d;d=this.o.S.ua.type()===T.Ab?T.Ab:T.ob;a.Yg(d);W.cj(a,b);return c?T.yb:this.o.S.state()===T.Ma||this.o.S.state()===T.ue?T.ue:T.Ma},Tm:function(){var a;for(a=0;a<this.Te.length;++a)this.Te[a].Xg(T.$a)},Ms:function(a){var b,c;for(b=0;b<a.touches().length;++b)c=a.touches()[b],this.o.dz(c)||this.o.Jv(c)||WebvisuLogger.error("Could not store touch information; probably a touch release/up was missing")},
Pr:function(a,b){return this.Gt(a)?(this.Gd.Fy(b.Kw(W.sw(a),a)),j):m},Ss:function(a,b){W.hf(this.o.S.ua.type())&&W.cj(this.o.S.ua,a);this.Re(T.yb,this.o.S.ua,a,b)},Gt:function(a){if(this.o.S.state()===T.$a)return j;if(W.hf(this.o.S.ua.type()))return W.Wd(a,T.nb);if(this.o.S.$e.length!==a.touches().length)return j;var b;for(b=0;b<a.touches().length;++b)if(!this.o.S.mx(a.touches()[b].id()))return j;return m},Kh:function(a,b){if(this.As){var c="";switch(a){case T.$a:WebvisuLogger.R("No gesture");return;
case T.se:c="Gesture (candidate); ";break;case T.Ma:c="Gesture (new); ";break;case T.yb:c="Gesture (finished); ";break;case T.ue:return;case T.yb:c="Gesture (finished); ";break;case T.Kb:c="Gesture (cancelled); "}c+=b.data().yg();WebvisuLogger.R(c)}}};var Gd;Gd=function(){this.T=T.$a;this.ua=new md;this.$e=[];this.Xl=m;this.dl=-1};
Gd.prototype={state:s("T"),Xg:r("T"),ry:function(a){this.Xl=j;this.dl=a},assign:function(a,b){this.T=a;this.ua=b},En:function(a){var b;this.$e=[];for(b=0;b<a.touches().length;++b)this.$e.push(a.touches()[b].id())},mx:function(a){var b;for(b=0;b<this.$e.length;++b)if(this.$e[b]===a)return j;return m}};var Ed;Ed=function(){this.oA=m;this.Hd=l};Ed.prototype={Fy:r("Hd")};var Fd;Fd=function(a,b){this.T=a;this.ua=b};Fd.prototype={state:s("T")};var Dd;Dd=function(){this.Tc=[];this.S=new Gd};
Dd.prototype={dz:function(a){var b;for(b=0;b<this.Tc.length;++b)if(this.Tc[b].id===a.id())return a.location().zy(this.Tc[b].kf),a.v(T.ab)?this.Tc.splice(b,1):this.Tc[b].kf=a.location().kf(),j;return m},Jv:function(a){if(!a.v(T.nb))return j;if(this.Tc.length===T.nh)return m;this.Tc.push({id:a.id(),kf:a.location().oa});return j},Jo:function(){this.S=new Gd}};var Cd;Cd=function(a){this.Ws=a.GesturesFlickPanThresholdPxPerSecond;this.Au=a.GesturesPanFlickTimeThresholdMs;this.zu=a.GesturesPanClickThresholdDistSquare};
Cd.prototype={$p:s("Ws"),qq:s("Au")};var nd;nd=function(a){a===i&&(a=new z(0,0));this.va=a;this.Ha=new z(0,0);this.Sd=0};
nd.prototype={type:function(){return T.Mb},Da:function(){var a=new nd(this.va);a.bf(this);return a},yg:function(){return C.aa("Flick: start({0}), overall move({1}), velocity {2}",C.Gc(this.va),C.Gc(this.Ha),this.Sd)},createEvent:function(a,b){var c=new E(G.Ip,a,b.id(),0),d,e;d=J.n(12);e=O.n(d,j);e.r(this.va.yc());e.r(this.Ha.yc());e.r(this.Sd);c.ya(d);return c},bf:function(a){this.va=a.va;this.Ha=a.Ha;this.Sd=a.Sd},start:s("va"),Sy:r("Sd"),xj:function(a){this.Ha=a.Cc(this.va)}};var qd;
qd=function(a){this.af=a;this.ba=[]};
qd.prototype={type:function(){return this.af?T.ob:T.Ab},touches:s("ba"),aw:function(){this.ba=[]},Vd:function(a,b,c){a=new kd(a,b,c);if(a.v(T.ab)||a.v(T.nb))this.nA=j;this.ba.push(a)},Da:function(){var a=new qd(this.af);a.ba=this.ba.slice(0);return a},yg:function(){var a="",b="",c,a=this.af?"TouchToMouse":"IEC-Touches";for(c=0;c<this.ba.length;++c)if(2>c)b+=C.aa("[{0}, {1}]({2}) ",c,this.ba[c].Yb(),C.Gc(this.ba[c].location().oa));else{b+="...";break}return C.aa("{0} ({1}): {2}",a,this.ba.length,b)},
createEvent:function(a,b){var c,d=c=0,e,f,g,k,p=j,n;this.af||(c=b.id());d=this.ba.length;n=this.af?G.Np:G.Jp;e=J.n(8*this.ba.length);f=O.n(e,j);for(g=0;g<this.ba.length;++g){f.r(this.ba[g].location().oa.yc());k=255&this.St(this.ba[g]);this.ba[g].v(T.Lb)||(p=m);if(this.ba[g].v(T.Ff)||this.ba[g].v(T.Pk))k|=256;k|=(this.ba[g].id()&65535)<<16>>>0;f.r(k)}p&&n++;c=new E(n,a,c,d);c.ya(e);return c},St:function(a){return a.v(T.Lb)?2:a.v(T.ab)?3:a.v(T.nb)?1:0}};var od;
od=function(a){a===i&&(a=new z(0,0));this.va=a;this.Ha=new z(0,0);this.Ba=new z(0,0);this.rm=0};
od.prototype={type:function(){return T.Na},Da:function(){var a=new od(this.va);a.bf(this);return a},bf:function(a){this.va=a.va;this.Ha=a.Ha;this.Ba=a.Ba},Fn:function(a,b,c){var d=a.info().scroll(),e=this.va.ub(this.Ha);b===T.Ma&&d.ky(this.va);b=this.Pt(this.Ba,c,a);c.Ai||a.P.gw(e.b)?(d.iy(this.Ha.b),d.Ro(b.b)):d.Ro(0);c.Ai||a.P.hw(e.c)?(d.jy(this.Ha.c),d.So(b.c)):d.So(0);return a.Vi()},Pt:function(a,b,c){c=c.P.size().scale(b.oc.an);b=new z(c.I*b.oc.Of,c.J*b.oc.Of);return new z(Math.max(-b.b,Math.min(b.b,
a.b)),Math.max(-b.c,Math.min(b.c,a.c)))},yg:function(){return C.aa("Pan: start({0}), overall move({1})",C.Gc(this.va),C.Gc(this.Ha))},createEvent:function(a,b){var c=new E(G.Lp,a,b.id(),0),d,e;d=J.n(8);e=O.n(d,j);e.r(b.info().scroll().Ih.yc());e.r(b.info().scroll().sa.yc());c.ya(d);return c},start:s("va"),xj:function(a){this.Ha=a.Cc(this.va)},cz:function(a,b){var c=b-this.rm;1.0E-6>c&&(c=1);this.rm=b;this.Ba=a.ay(ud.Qk/c)}};var pd;
pd=function(){this.Gi=new z(0,0);this.ll=new z(0,0);this.tu=1;this.hg=this.mg=0};
pd.prototype={type:function(){return T.Kc},Da:o(),yg:t("SpreadPinch: "),Fn:function(a,b){var c=a.info().zoom(),d=a.info().scroll();b===T.Ma&&c.he(this.Gi);c.he(this.ll);c.Tg(this.tu);c.Oy(this.mg);c.Iy(this.hg);d.Bc(this.ll.Cc(this.Gi));c=a.Vi();Z.be(c,Z.dh)&&this.Jt(a)&&(c=Z.Rx(c));return c},createEvent:function(a,b){var c=new E(G.Mp,a,b.id(),0),d,e,f,g;g=b.info().zoom();d=J.n(16);e=O.n(d,j);e.r(g.Pa.yc());e.r(g.Pb.yc());e.r(65536*g.mc);f=65536*(g.mg/2/Math.PI);g=65536*(g.orientation()/2/Math.PI);
e.r(f|g<<16);c.ya(d);return c},Jt:function(a){return 400>a.info().scroll().ow.bj(new z(0,0))}};var Bd;Bd=o();Bd.prototype={nf:function(){return T.$a},state:function(){return T.$a},Xg:o()};var Ad;Ad=function(){this.T=T.$a;this.Ii=0;this.kv=this.Oa=this.Ld=this.Md=l;this.lc=-1};
Ad.prototype={nf:function(a,b,c){var d,e=a.Gd.Hd;if(W.Ov(b,T.ab)){if(this.T===T.se)this.Oa=T.Jc,this.lc=T.ob,this.Dt(a,b);this.T=this.Mr()}else switch(d=b.touches()[0].location(),this.T){case T.$a:if(e.eh)return T.$a;e.uf?(this.Oa=T.Jc,this.lc=T.ob,this.T=T.Ma):e.oh||e.ih?(this.Oa=T.Jc,e.oh&&(this.Oa|=T.Ef),e.ih&&(this.Oa|=T.Df),this.T=T.se):(this.Oa=T.Jc,this.lc=T.ob,this.T=T.Ma);this.yt(b);break;case T.se:if(d=d.oa.bj(d.kf())>a.Di.zu)this.Oa===T.Ef?this.dg(b,T.Na):this.Oa===T.Df?this.dg(b,T.Mb):
(d=b.timeStamp()-this.Ii>a.Di.qq)&&(this.Ld.Sd<a.Di.$p?this.dg(b,T.Na):this.dg(b,T.Mb));break;default:this.nn(b),this.T=T.ue}if(this.T>=T.te)switch(c.Yg(this.lc),this.lc){case T.Na:c.data().bf(this.Md);break;case T.Mb:c.data().bf(this.Ld);break;case T.Ab:case T.ob:W.cj(c,b);break;default:h(Error("unexpected"))}return this.T},state:s("T"),Xg:r("T"),yt:function(a){a=a.touches()[0].location().oa;this.Ii=C.Y();this.Ld=new nd(a);this.Md=new od(a);this.kv=a},dg:function(a,b){this.nn(a);this.Oa=T.Jc;this.lc=
b;this.T=T.Ma},Dt:function(a,b){a.jx(b.touches()[0].location().oa,b.touches()[0].id())},nn:function(a){var b=a.touches()[0].location().oa,c;if(this.lc===T.Na||this.Oa!==T.Jc)this.Md.cz(b.Cc(this.Md.start().ub(this.Md.Ha)),a.timeStamp()),this.Md.xj(b);if(this.lc===T.Mb||this.Oa!==T.Jc)c=this.Ld.start().ww(b),a=a.timeStamp()-this.Ii,1.0E-6>a&&(a=10),this.Ld.Sy(1E3*(c/a)),this.Ld.xj(b)},Mr:function(){return this.T===T.$a?T.$a:T.yb}};var Rc;Rc=function(a,b,c){this.Yh=a;this.P=b;this.ta=c;this.Rb=new Hd};
Rc.prototype={id:s("Yh"),Yb:s("ta"),rg:function(a){this.ta|=a},v:function(a){return(this.ta&a)===a},info:s("Rb"),Xd:function(a){return a.b>=this.P.e&&a.b<=this.P.w&&a.c>=this.P.g&&a.c<=this.P.B},jg:function(a,b,c,d){if(!Z.be(d,Z.Cj)){var e=Math.abs(b.b-c.b),b=Math.abs(b.c-c.c);if(Z.be(a,Z.Dj)&&e>b||Z.be(a,Z.Ej)&&b>e)d=Z.Hb(d,a)}return d},Vi:function(){var a=Z.vf,b=this.Rb.zoom(),c=this.Rb.scroll(),d=b.mc,e=c.sa,f=this.Vn();d<b.Z.Ta&&(a=Z.Hb(a,Z.uh),a=Z.Hb(a,Z.Kj));d>b.Z.Sa&&(a=Z.Hb(a,Z.th),a=Z.Hb(a,
Z.Jj));e.b<f.e&&(a=Z.Hb(a,Z.pe),a=this.jg(Z.Hj,e,c.Z.Ta,a));e.c<f.g&&(a=Z.Hb(a,Z.qe),a=this.jg(Z.Ij,e,c.Z.Ta,a));e.b>f.w&&(a=Z.Hb(a,Z.nd),a=this.jg(Z.Fj,e,c.Z.Sa,a));e.c>f.B&&(a=Z.Hb(a,Z.od),a=this.jg(Z.Gj,e,c.Z.Sa,a));return a},to:function(a){var b=this.info().scroll(),c=b.Z;Z.v(a,Z.pe)&&b.Bc(new z(c.Ta.b,b.sa.c));Z.v(a,Z.qe)&&b.Bc(new z(b.sa.b,c.Ta.c));Z.v(a,Z.nd)&&b.Bc(new z(c.Sa.b,b.sa.c));Z.v(a,Z.od)&&b.Bc(new z(b.sa.b,c.Sa.c))},Vn:function(){var a,b;b=this.P.of().Cc(this.Rb.scroll().Z.Sa);a=
this.P.wg().Cc(this.Rb.scroll().Z.Ta);a=(new L(b.b,b.c,a.b,a.c)).Xv(this.Rb.zoom().Pa,this.Rb.zoom().mc);b=this.P.of().Cc(a.of());a=this.P.wg().Cc(a.wg());a=new L(b.b,b.c,a.b,a.c);b=a.wg().min(this.Rb.scroll().Z.Ta);a=a.of().min(this.Rb.scroll().Z.Sa);return new L(b.b,b.c,a.b,a.c)}};var Sc;Sc={vf:0,Jk:1,nr:3,Hz:4,gk:8,Mk:16,Sk:32,Ik:64,wq:128};var Hd;Hd=function(){this.Fv=new Id;this.Yu=new Jd;this.Yr=new L(0,0,0,0);this.Vb=[]};
Hd.prototype={zoom:s("Fv"),scroll:s("Yu"),hy:r("Yr"),qj:function(a){return this.Vb.length>a?(a=this.Vb[a],"undefined"!==typeof a?a:l):l},$o:function(a,b){this.Vb[a]=b},kx:function(a){for(var b=0;b<this.Vb.length;++b)if("undefined"===typeof this.Vb[b]||this.Vb[b]!==l&&this.Vb[b].ag===a)this.Vb[b]=l}};var Jd;Jd=function(){this.Z=new Kd;this.Ih=new z(0,0);this.sa=new z(0,0);this.Ba=new z(0,0)};
Jd.prototype={ky:r("Ih"),ow:s("sa"),Bc:r("sa"),iy:function(a){this.sa.b=a},jy:function(a){this.sa.c=a},Ro:function(a){this.Ba.b=a},So:function(a){this.Ba.c=a}};var Id;Id=function(){this.Z=new Vd;this.Pa=new z(0,0);this.Pb=new z(0,0);this.mc=1;this.hg=this.mg=0};Id.prototype={he:r("Pa"),Tg:r("mc"),Oy:r("mg"),orientation:s("hg"),Iy:r("hg")};var Tc;Tc=function(a,b,c,d){this.ag=a;this.ii=b;this.ji=c;this.oi=d};Tc.prototype={Gb:s("oi")};var vd;vd=function(){this.C=[]};
vd.prototype={$n:function(a){var b,c;switch(a.type()){case T.Kc:c=Sc.nr;break;case T.Na:c=Sc.Jk;break;case T.Mb:c=Sc.gk;break;case T.Ab:c=Sc.Mk;break;default:c=0}for(b=0;b<this.C.length;++b)if(this.C[b].v(c)&&(a.type()===T.Kc&&this.C[b].Xd(a.data().Gi)||a.type()===T.Na&&this.C[b].Xd(a.data().start())||a.type()===T.Mb&&this.C[b].Xd(a.data().start())||a.type()===T.Ab&&this.al(a.data().touches(),this.C[b])))return this.C[b];return l},Gw:function(a){var b;for(b=0;b<this.C.length;++b)if(this.C[b].v(Sc.Mk)&&
this.al(a.touches(),this.C[b]))return this.C[b];return l},Nv:function(a){var b,c,d=[];for(b=0;b<this.C.length;++b)for(c=0;c<a.touches().length;++c)d[c]||this.C[b].Xd(a.touches()[c].location().oa)&&this.C[b].v(Sc.wq)&&(d[c]=j);for(c=0;c<a.touches().length;++c)if(d[c]!==j)return m;return j},Zv:function(a,b){b[0]=m;b[1]=m;if(1===a.touches().length){var c,d=a.touches()[0].location().oa,e;for(c=0;c<this.C.length&&(!this.C[c].Xd(d)||!(e=m,this.C[c].v(Sc.Jk)&&(e=b[0]=j),this.C[c].v(Sc.gk)&&(e=b[1]=j),!e));++c);
}},clear:function(){this.C=[]},Ti:function(a){this.C.unshift(a)},Zw:function(a){return this.C.length>a?this.C[a]:l},$w:function(a){for(var b=0;b<this.C.length;++b)if(this.C[b].id()===a)return this.C[b];return l},lx:function(a){for(var b=0;b<this.C.length;++b)this.C[b].info().kx(a)},al:function(a,b){var c;for(c=0;c<a.length;++c)if(!b.Xd(a[c].location().oa))return m;return j}};var Kd;Kd=function(){this.Ta=new z(0,0);this.Sa=new z(0,0)};Kd.prototype={Dy:r("Ta"),By:r("Sa")};var Vd;
Vd=function(){this.Sa=this.Ta=0};Vd.prototype={Ey:r("Ta"),Cy:r("Sa")};var tb;tb=function(a){this.a=a;this.Od=this.ud=this.Sc=m;this.li=this.Em=this.qm=this.om=this.ei=0;this.pc=l;this.mi=m};
tb.prototype={Uy:function(){this.Sc||this.Ct();if(this.ud)this.Em=C.tf()},Cw:function(a){if(this.ud&&!a){a=C.tf();if(this.mi)this.ei=a-this.li,this.Od&&this.Lm(this.ei,2),this.mi=m;this.qm=a-this.om;this.om=a;this.Od&&this.Lm(a-this.Em,1)}},wx:function(a){if(this.ud)this.li=C.tf(),this.pc=w.xf(a)},$y:function(a){if(this.ud)this.li=C.tf(),this.pc=a},Qx:function(a){if(this.ud&&this.pc!==l&&!(this.pc.b<a.e||this.pc.b>a.w))if(!(this.pc.c<a.g||this.pc.c>a.B))this.pc=l,this.mi=j},qx:function(){return Math.round(this.ei/
1E3)},rx:function(){return Math.round(this.qm/1E3)},Lm:function(a,b){var c;c=new E(G.dk,this.a.l.M,b,a&4294967295);c.Ly();this.a.Xb(c)},Ct:function(){var a=this.a.i;this.ud=a.Benchmarking||a.DebugOnlyDiagnosisDisplay;this.Od=a.Benchmarking;this.Sc=j}};var Xa;Xa=function(){this.clear()};Xa.prototype={clear:function(){this.C=[]},Ti:function(a){this.C.push(a)},Qv:function(a){a.beginPath();for(var b=0;b<this.C.length;++b)a.rect(this.C[b].e,this.C[b].g,this.C[b].k(),this.C[b].j());a.clip()}};var Vb;
Vb=function(a,b){this.Dr=a;this.lg=b;this.gl=[];this.xl=[];var c,d=this.uv(this.Dr);for(c=0;c<this.lg;++c){var e=Math.floor(d.Ea+(c+1)*(128-Math.floor(d.Ea/2))/this.lg);this.gl[this.lg-c-1]=this.hn(d.Ka,d.ge,e,d.Ri);e=Math.floor(Math.floor(d.Ea/3)+Math.floor(2*c*d.Ea/(3*this.lg)));this.xl[c]=this.hn(d.Ka,d.ge,e,d.Ri)}};
Vb.prototype={Mw:function(a){return this.gl[a]},bo:function(a){return this.xl[a]},uv:function(a){var b={},c,d,e,f,g,k,p;e=((a&4278190080)>>24)/255;c=((a&16711680)>>16)/255;d=((a&65280)>>8)/255;a=(a&255)/255;f=Math.min(c,Math.min(d,a));g=Math.max(c,Math.max(d,a));k=g-f;b.Ea=(f+g)/2;if(0===k)b.Ka=b.ge=0;else{b.ge=0.5>b.Ea?k/(g+f):k/(2-g-f);f=((g-c)/6+k/2)/k;p=((g-d)/6+k/2)/k;k=((g-a)/6+k/2)/k;if(c===g)b.Ka=k-p;else if(d===g)b.Ka=1/3+f-k;else if(a===g)b.Ka=2/3+p-f;0>b.Ka&&(b.Ka+=1);1<b.Ka&&(b.Ka-=1)}b.Ka=
Math.round(255*b.Ka);b.ge=Math.round(255*b.ge);b.Ea=Math.round(255*b.Ea);b.Ri=Math.round(255*e);return b},hn:function(a,b,c,d){var e,f;0===b?c=f=a=c:(a/=255,b/=255,c/=255,b=0.5>c?c*(1+b):c+b-c*b,e=2*c-b,c=Math.round(255*this.Wh(e,b,a+1/3)),f=Math.round(255*this.Wh(e,b,a)),a=Math.round(255*this.Wh(e,b,a-1/3)));return(d<<24)+(c<<16)+(f<<8)+a},Wh:function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}};var kb;kb=o();
kb.prototype={Mv:function(a,b){this.dv(a,b,90)},dx:function(a){return(a=this.dt(a))&&""!==a},dv:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*c);document.cookie=a+"="+b+"; "+("expires="+d.toUTCString())},dt:function(a){var a=a+"=",b,c,d;b=document.cookie.split(";");for(c=0;c<b.length;c++){for(d=b[c];" "==d.charAt(0);)d=d.substring(1);if(-1!=d.indexOf(a))return d.substring(a.length,d.length)}return""}};var gb;gb=function(a){this.a=a;this.Aa=[]};
gb.prototype={xg:function(a){if(this.a.i!==l&&this.a.i.DebugOnlyDiagnosisDisplay){this.xr();var b,c;b=13*this.Aa.length+3;a.save();a.strokeStyle="rgb(0,0,0)";a.fillStyle="rgb(220,220,220)";a.font="10px Arial";a.beginPath();a.rect(10,10,150,b);a.clip();a.fillRect(10,10,150,b);a.strokeRect(10,10,150,b);a.fillStyle="rgb(0,0,0)";a.textAlign="left";a.textBaseline="top";for(b=0;b<this.Aa.length;++b)c=C.aa("{0}: {1}",this.Aa[b].title,this.Aa[b].hd()),a.fillText(c,13,13+13*b);a.restore()}},xr:function(){if(0===
this.Aa.length){var a=this.a.Qd,b=this.a.N,c=this;this.Aa.push({title:"DPR",hd:function(){return b.no()?C.aa("{0} (Changed)",w.ne()):w.ne()}});this.Aa.push({title:"Canvas-Size",hd:function(){return C.aa("{0}/{1}",b.zc().k(),b.zc().j())}});this.Aa.push({title:"Resize-Count",hd:function(){return a!==l?a.zm:"---"}});this.Aa.push({title:"Window-Size",hd:function(){return C.aa("{0}/{1}",window.innerWidth,window.innerHeight)}});this.Aa.push({title:"DocElem-Size",hd:function(){return C.aa("{0}/{1}",document.documentElement.clientWidth,
document.documentElement.clientHeight)}});this.Aa.push({title:"Last Input Reaction (*)",hd:function(){return C.aa("{0}",c.a.Mc.qx())}});this.Aa.push({title:"FPS (*)",hd:function(){return(1E3/c.a.Mc.rx()).toFixed(1)}})}}};var sb;sb=function(a){this.a=a;this.eb=l;this.Fh=this.qg=m};
sb.prototype={ro:function(){return this.eb!==l},open:function(a,b){this.eb=a;this.qg=b;var c=this;this.eb.addEventListener("keydown",function(a){c.Es(a)},m);window.document.body.appendChild(this.eb)},close:function(){this.eb!==l&&window.document.body.removeChild(this.eb);this.eb=l},Xi:function(a){var b,c,d;if(!this.Fh)c=C.qh(this.eb),b=this.eb.value.length+1,this.qg&&(b*=2),d=J.n(b),O.n(d,this.a.l.ra,this.a.gf()).Wa(this.eb.value,this.qg),b=new E(G.Pp,this.a.l.M,a?this.qg?3:1:2,0),b.ya(d),b.Fc=c.oo(4),
this.a.ha.push(b),a?this.Fh=j:this.close()},Zx:function(){this.Fh=m},Es:function(a){this.eb!==l&&(27===a.keyCode?(a.preventDefault(),a.stopPropagation(),this.Xi(m)):13===a.keyCode&&this.Xi(j))}};var ub;ub=function(a){this.Jh=a.ma();this.Fd=a.gf()};ub.prototype={};var Kb;Kb=function(a){a===i&&(a=l);this.fg=a};
Kb.prototype={yr:function(){if(this.fg===l)try{this.fg=(new Configuration).gf()}catch(a){this.fg={df:t(63)}}},Xn:function(a){this.yr();a=this.fg.df(String.fromCharCode(a));return 1===a.length?a[0]:63}};var pa;pa=function(a){try{this.Bu(a)}catch(b){h(Error("Parsing the fontstring '"+a+"' failed for the following reason: "+b))}};
pa.prototype={Bu:function(a){var b=l,c=l,d,e=m,f=a.split(/\s+/);for(d=0;d<f.length;++d){var g=f[d];switch(g){case "normal":break;case "italic":case "oblique":break;case "small-caps":break;case "bold":case "bolder":case "lighter":case "100":case "200":case "300":case "400":case "500":case "600":case "700":case "800":case "900":break;default:if(c===l){g=g.split("/");g=C.rd(g[0]);"p"===g.charAt(g.length-2)&&"x"===g.charAt(g.length-1)&&(c=parseInt(g.substr(0,g.length-2),10));break}b=g;d<f.length-1&&(b+=
" "+f.slice(d+1).join(" "));e=j}if(e)break}b===l&&h(Error("Font Family/Name missing"));(c===l||isNaN(c))&&h(Error("Invalid or unsupported font Size"));this.tz=b;this.aq=c;this.hk=a}};var z;z=function(a,b){this.b=a;this.c=b};
z.prototype={fp:function(a){this.b-=a.b;this.c-=a.c;return this},Cc:function(a){return this.Da().fp(a)},min:function(a){return new z(Math.min(this.b,a.b),Math.min(this.c,a.c))},max:function(a){return new z(Math.max(this.b,a.b),Math.max(this.c,a.c))},Gb:function(a){this.b+=a.b;this.c+=a.c;return this},ub:function(a){return this.Da().Gb(a)},Ax:function(a){this.b+=a.I;this.c+=a.J;return this},yo:function(a){return this.Da().Ax(a)},yc:function(){return(this.c>>>0&65535|this.b>>>0<<16)>>>0},ww:function(a){return Math.sqrt(this.bj(a))},
bj:function(a){return(this.b-a.b)*(this.b-a.b)+(this.c-a.c)*(this.c-a.c)},Da:function(){return new z(this.b,this.c)},Mo:function(a){this.b*=a;this.c*=a;return this},ay:function(a){return this.Da().Mo(a)}};var L;L=function(a,b,c,d,e){this.e=a;this.g=b;this.w=c;this.B=d;this.mb=e!==i?e:l};
L.prototype={k:function(){return this.w-this.e},j:function(){return this.B-this.g},Ow:function(){return new z((this.e+this.w)/2,(this.g+this.B)/2)},Da:function(){return new L(this.e,this.g,this.w,this.B,this.mb)},of:function(){return new z(this.e,this.g)},wg:function(){return new z(this.w,this.B)},Xv:function(a,b){var c=this.size().scale(b),d=this.of().fp(a),d=(new B(d.b,d.c)).scale(b),d=a.yo(d),c=d.yo(c);return new L(d.b,d.c,c.b,c.c)},size:function(){return new B(this.k(),this.j())},ub:function(a,
b){return new L(this.e+a,this.g+b,this.w+a,this.B+b,this.mb)},oo:function(a){return new L(this.e-a,this.g-a,this.w+a,this.B+a,this.mb)},Bg:function(a){return this.e===a.e&&this.g===a.g&&this.w===a.w&&this.B===a.B},normalize:function(){var a;if(this.e>this.w)a=this.w,this.w=this.e,this.e=a;if(this.g>this.B)a=this.B,this.B=this.g,this.g=a},xx:function(){var a=this.Da();a.normalize();return a},gw:function(a){return a>=this.e&&a<=this.w},hw:function(a){return a>=this.g&&a<=this.B}};var Ab;
Ab=function(a){this.a=a;this.ze=l;this.Dl=m;this.zm=0;this.Am=w.ne()};
Ab.prototype={Rv:function(){var a=this;this.ze=function(){a.nu()};window.addEventListener("resize",this.ze,m)},detach:function(){if(this.ze!==l)window.removeEventListener("resize",this.ze,m),this.ze=l},nu:function(){var a=w.ne(),b=this.Dl?a:1;if(a!==this.Am)this.Dl=j,this.Am=b=a,this.a.N.yx();this.zm++;this.a.N.Yn(b);this.l!==l&&this.i!==l&&this.a.oy(E.Uj(this.a.l.M,this.a.i.BestFit,this.a.i.BestFitForDialogs,this.a.i.ScaleTypeIsotropic,this.a.N.zc()))}};var B;B=function(a,b){this.I=a;this.J=b};
B.prototype={scale:function(a){return new B(this.I*a,this.J*a)}};var wb;wb=function(a,b){function c(){d.Dx();d.ib=window.setTimeout(c,e)}this.U=a;this.Ub=b;this.pA=0;this.Ub.clear();this.Nt=C.Y();this.qb=l;var d=this,e=w.Hk()?400:50;this.ib=window.setTimeout(c,e)};
wb.prototype={close:function(){this.Ub.clear();window.clearInterval(this.ib)},Dx:function(){var a=this.Ub.s,b=this.Ub.zc(),c=2*Math.PI/6,d=(2*Math.PI-5*c)/5,e=250/3,f=10+e,g=2*Math.PI*(C.Y()-this.Nt)/6E3,k=1;a.save();if(250>b.k()||250>b.j())k=0.9*Math.min(b.k()/250,b.j()/250);a.scale(k,k);a.translate(Math.max(5,(b.k()-250)/2),Math.max(5,(b.j()-250)/2));a.strokeStyle="#a90018";a.lineWidth=4;a.strokeRect(0,0,250,250);a.fillStyle="#f4f4f4";a.fillRect(0,0,250,250);for(b=0;5>b;++b)a.save(),a.translate(125,
f),a.rotate(g+b*(c+d)),this.ys(a,c,e,"#cd001c"),a.restore();this.qb===l&&this.is(a,250);a.font=this.qb;a.textAlign="center";a.textBaseline="bottom";a.fillStyle="#000000";a.fillText(this.U,125,2750/12);a.restore()},is:function(a,b){var c=40;for(a.font=this.bm(c);2<c&&a.measureText(this.U).width>=0.95*b;)c-=2,a.font=this.bm(c);this.qb=a.font},bm:function(a){return"italic "+a+"px Arial"},ys:function(a,b,c,d){var e=0.9*c;a.beginPath();a.moveTo(0,-c);a.arc(0,0,c,-Math.PI/2,b-Math.PI/2,m);a.lineTo(Math.sin(b)*
e,-(Math.cos(b)*e));a.arc(0,0,e,b-Math.PI/2,-Math.PI/2,j);a.lineTo(0,-c);a.closePath();a.strokeStyle=d;a.fillStyle=a.strokeStyle;a.stroke();a.fill()}};var ab;ab=function(a){this.Ub=a;this.Xe=[]};ab.prototype={clear:function(){this.Xe=[]},cf:function(){return this.Xe.length},k:function(a){return this.Xe[a].b},j:function(a){return this.Xe[a].c},wn:function(a,b,c){this.Xe.push(D.lq(this.Ub,a,b,c))}};var bb;bb=function(a){this.Ub=a;this.Nd=[]};
bb.prototype={clear:function(){this.Nd=[]},cf:function(){return this.Nd.length},ax:function(a){return this.Nd[a]},Kv:function(a){this.Nd.push(a.length+1);var b,c;for(b=1;b<=a.length;b++)c=D.Ec(this.Ub.getContext(),a.substring(0,b),j),this.Nd.push(c);this.Nd.push(C.Dc(this.Ub))}};var Qc;Qc=function(){this.um=this.vm=this.wm=this.xm=this.Gl=this.Hl=this.pb=l};Qc.qz=function(a){var b=new Qc;b.pb=a;return b};Qc.vp=function(a,b,c,d,e,f){var g=new Qc;g.um=a;g.vm=b;g.wm=c;g.xm=d;g.Gl=e;g.Hl=f;return g};
Qc.prototype={vg:function(a,b){this.pb!==l?this.Vu(a,b):this.vr(a)},Vu:function(a,b){a.translate(b.e,b.g);a.rotate(this.pb);a.translate(-b.e,-b.g)},vr:function(a){a.transform(this.um,this.vm,this.wm,this.xm,this.Gl,this.Hl)}};var Wa;Wa={ok:function(a){if(a!==l){if("false"===a.toLowerCase())return m;if("true"===a.toLowerCase())return j}return l},lk:function(a){a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a===l?l:a[1]}};
Wa.cq=function(){var a=Wa.lk("WorkaroundDisableDPRBasedZoom");return a!==l?Wa.ok(a):m};var C;C=o();C.Yt=function(){var a=window.performance||{};a.now=function(){return a.now||a.$B||a.qB||a.rB||a.pB||function(){return(new Date).getTime()}}();return a.now()};C.ik=function(a){var b=window.location,c;c=b.pathname.lastIndexOf("/");-1!=c&&(a=b.pathname.substr(0,c+1)+a,"/"===a[0]&&(a=a.substr(1)));return b.protocol+"//"+b.host+"/"+a};C.Y=function(){return(new Date).getTime()};
C.tf=function(){return 1E3*C.Yt()};C.tp=function(a,b){var c,d;d=a;c=a.indexOf("px");-1!==c&&(d=a.slice(0,c),c=d.lastIndexOf(" "),c=-1!==c?d.slice(c,d.length):d,d=a.replace(c,b));return d};C.Dc=function(a){return C.kh(a.F().Fe)};C.kh=function(a){return 1.15*a};C.qh=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)!==l);return new L(b,c,b+a.offsetWidth,c+a.offsetHeight)};
C.re=function(a,b){var c;c=b instanceof L?new z(b.e,b.g):b;a.style.position="absolute";a.style.left=Math.floor(c.b)+"px";a.style.top=Math.floor(c.c)+"px";if(b instanceof L)a.style.width=Math.floor(b.k())+"px",a.style.height=Math.floor(b.j())+"px"};C.aa=function(){var a=arguments,b,c;if(0===a.length)return"";b=a[0];for(a=1;a<arguments.length;a++)c=RegExp("\\{"+(a-1)+"\\}","gi"),b=b.replace(c,arguments[a]);return b};C.Cq=function(a){return C.aa("{0}/{1} {2}/{3}",a.e,a.g,a.w,a.B)};
C.Gc=function(a){return C.aa("{0}/{1}",a.b,a.c)};C.$z=function(a){return C.aa("{0}/{1}",a.I,a.J)};C.Dp=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};C.rd=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};C.Qj=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};C.mk=function(a){return 0<a?Math.floor(a):Math.ceil(a)};C.kk=function(a){return 3<=a.length&&"SVG"==a.substring(a.length-3).toUpperCase()};
